<aside
  class="bg-white text-gray-800 shadow-md transition-all duration-300 overflow-hidden border-r border-gray-200 flex flex-col h-screen"
  [class.w-64]="!isCollapsed" [class.w-20]="isCollapsed" (mouseenter)="onMouseEnter()" (mouseleave)="onMouseLeave()">
  <!-- Logo Section -->
  <div class="p-4 border-b border-gray-100 flex items-center justify-between">
    <div class="flex items-center space-x-2" *ngIf="!isCollapsed">
      <i class="fa-brands fa-d text-blue-600 text-2xl"></i>
      <h1 class="text-lg font-semibold tracking-tight">Admin</h1>
    </div>
    <div class="flex items-center" *ngIf="isCollapsed">
      <i class="fa-brands fa-d text-blue-600 text-2xl"></i>
    </div>
    <button (click)="onToggleSidebar()" class="p-2 rounded-lg hover:bg-gray-100 transition-colors text-gray-500">
      <i class="fa-solid text-sm" [class.fa-chevron-left]="!isCollapsed" [class.fa-chevron-right]="isCollapsed"></i>
    </button>
  </div>

  <!-- Navigation -->
  <nav class="p-4 space-y-2">
    <ng-container *ngFor="let menuItem of menuItems">

      <!-- Menu Item with Children -->
      <div *ngIf="hasChildren(menuItem)" class="space-y-1">
        <button (click)="toggleSubMenu(menuItem.label)"
          class="w-full flex items-center justify-between p-3 rounded-xl hover:bg-gray-100 transition-colors text-left">
          <div class="flex items-center space-x-3">
            <i [class]="menuItem.icon" class="text-xl w-5" [ngStyle]="{'color': menuItem.color}"></i>
            <span *ngIf="!isCollapsed" class="font-medium">{{ menuItem.label }}</span>
          </div>
          <i *ngIf="!isCollapsed" class="fa-solid fa-chevron-down text-xs text-gray-500 transition-transform"
            [class.rotate-180]="isExpanded(menuItem.label)"></i>
        </button>

        <!-- Submenu Items -->
        <div *ngIf="!isCollapsed && isExpanded(menuItem.label)" class="ml-6 space-y-1 border-l border-gray-200 pl-3">
          <a *ngFor="let child of menuItem.children" [routerLink]="child.route"
            routerLinkActive="bg-blue-50 text-blue-700"
            class="flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors">
            <i [class]="child.icon" class="w-4 text-center text-sm" [ngStyle]="{'color': child.color}"></i>
            <span class="text-sm font-medium">{{ child.label }}</span>
          </a>
        </div>
      </div>

      <!-- Single Menu Item -->
      <a *ngIf="!hasChildren(menuItem)" [routerLink]="menuItem.route" routerLinkActive="bg-blue-50 text-blue-700"
        class="flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-100 transition-colors">
        <i [class]="menuItem.icon" class="text-xl w-5" [ngStyle]="{'color': menuItem.color}"></i>
        <span *ngIf="!isCollapsed" class="font-medium">{{ menuItem.label }}</span>
      </a>
    </ng-container>
  </nav>

  <!-- User Section -->
  <div class="absolute bottom-0 left-0 right-0 p-4 border-t border-gray-100">
    <div class="flex items-center space-x-3" *ngIf="!isCollapsed">
      <img class="w-8 h-8 rounded-full"
        src="https://plus.unsplash.com/premium_vector-1744204735077-1bd412e3e817?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=880"
        alt="Admin User">
      <div class="flex-1 min-w-0">
        <p class="text-sm font-semibold text-gray-800 truncate"> {{ getAdminUser()?.name || 'Admin User' }}</p>
        <p class="text-xs text-gray-500 truncate"> {{ getAdminUser()?.email || 'Admin User' }}</p>
      </div>
    </div>
    <div class="flex items-center justify-center" *ngIf="isCollapsed">
      <img class="w-8 h-8 rounded-full"
        src="https://plus.unsplash.com/premium_vector-1744204735077-1bd412e3e817?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=880"
        alt="Admin User">
    </div>
  </div>
</aside>
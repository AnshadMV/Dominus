"use strict";(self.webpackChunkdominus=self.webpackChunkdominus||[]).push([[816],{5816:(tu,Hi,Q)=>{Q.r(Hi),Q.d(Hi,{AdminModule:()=>Qh});var H=Q(177),tt=Q(9417),ot=Q(3756),r=Q(540);let bo=(()=>{class e{constructor(t){this.router=t}canActivate(){const t=JSON.parse(localStorage.getItem("currentUser")||"{}");return!(!t||"admin"!==t.role)||(this.router.navigate(["/app-login"]),!1)}static{this.\u0275fac=function(i){return new(i||e)(r.KVO(ot.Ix))}}static{this.\u0275prov=r.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var xo=Q(4412),_o=Q(8141),Qe=Q(1626);let Wi=(()=>{class e{constructor(t){this.http=t,this.apiUrl="api/admin/auth",this.isAuthenticated=new xo.t(this.hasToken())}login(t){return this.http.post(`${this.apiUrl}/login`,t).pipe((0,_o.M)(i=>{i.token&&"admin"===i.user.role&&(localStorage.setItem("admin_token",i.token),localStorage.setItem("admin_user",JSON.stringify(i.user)),this.isAuthenticated.next(!0))}))}logout(){localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user"),localStorage.removeItem("currentUser"),this.isAuthenticated.next(!1)}isAdminLoggedIn(){const t=this.getAdminUser();return this.hasToken()&&"admin"===t?.role}getAdminUser(){const t=localStorage.getItem("currentUser");return t?JSON.parse(t):null}getToken(){return localStorage.getItem("admin_token")}hasToken(){return!!localStorage.getItem("admin_token")}static{this.\u0275fac=function(i){return new(i||e)(r.KVO(Qe.Qq))}}static{this.\u0275prov=r.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ti=Q(5423);function yo(e,s){if(1&e){const t=r.RV6();r.j41(0,"div",11)(1,"a",12),r.nrm(2,"i",13),r.j41(3,"span"),r.EFF(4,"Home"),r.k0s()(),r.j41(5,"a",14),r.nrm(6,"i",13),r.j41(7,"span"),r.EFF(8,"Profile"),r.k0s()(),r.j41(9,"a",15),r.nrm(10,"i",16),r.j41(11,"span"),r.EFF(12,"Settings"),r.k0s()(),r.nrm(13,"hr",17),r.j41(14,"button",18),r.bIt("click",function(){r.eBV(t);const n=r.XpG();return r.Njj(n.logout())}),r.nrm(15,"i",19),r.j41(16,"span"),r.EFF(17,"Logout"),r.k0s()()()}}let vo=(()=>{class e{constructor(t,i,n,o){this.authService=t,this.router=i,this.eRef=n,this.toast=o,this.showProfileDropdown=!1,this.searchQuery="",this.toggleSidebar=new r.bkB,this.search=new r.bkB}toggleProfileDropdown(){this.showProfileDropdown=!this.showProfileDropdown}onToggleSidebar(){this.toggleSidebar.emit()}logout(){this.authService.logout(),localStorage.removeItem("currentUser"),this.showProfileDropdown=!1,this.router.navigate(["/app-login"]),console.log("Logout and cleared Data"),this.toast.error("Logout Succefully"),this.router.navigate(["/app-login"])}getAdminUser(){return this.authService.getAdminUser()}onSearch(){console.log("Searching for:",this.searchQuery),this.search.emit(this.searchQuery)}handleClickOutside(t){this.eRef.nativeElement.contains(t.target)||(this.showProfileDropdown=!1)}static{this.\u0275fac=function(i){return new(i||e)(r.rXU(Wi),r.rXU(ot.Ix),r.rXU(r.aKT),r.rXU(ti.f))}}static{this.\u0275cmp=r.VBU({type:e,selectors:[["app-admin-header"]],hostBindings:function(i,n){1&i&&r.bIt("click",function(a){return n.handleClickOutside(a)},!1,r.EBC)},outputs:{toggleSidebar:"toggleSidebar",search:"search"},decls:13,vars:2,consts:[[1,"bg-white","shadow-sm","border-b","border-gray-200"],[1,"flex","items-center","justify-between","px-6","py-4"],[1,"flex","items-center","space-x-4"],[1,"p-2","rounded-lg","hover:bg-gray-100","transition-colors","text-gray-600",3,"click"],[1,"fa-solid","fa-bars-staggered"],[1,"relative"],[1,"flex","items-center","space-x-3","p-2","rounded-lg","hover:bg-gray-100","transition-colors",3,"click"],["src","https://plus.unsplash.com/premium_vector-1744204735077-1bd412e3e817?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=880","alt","Admin User",1,"w-8","h-8","rounded-full"],[1,"hidden","md:block","text-sm","font-medium","text-gray-700"],[1,"fa-solid","fa-chevron-down","text-xs","text-gray-500"],["class","absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-50 border border-gray-200",4,"ngIf"],[1,"absolute","right-0","mt-2","w-48","bg-white","rounded-lg","shadow-lg","py-2","z-50","border","border-gray-200"],["routerLink","/app-home",1,"flex","items-center","space-x-3","px-4","py-2","hover:bg-gray-100","transition-colors","text-red-700"],[1,"fa-solid","fa-user","text-sm"],["routerLink","/app-profile",1,"flex","items-center","space-x-3","px-4","py-2","hover:bg-gray-100","transition-colors","text-blue-700"],["routerLink","/app-setting",1,"flex","items-center","space-x-3","px-4","py-2","hover:bg-gray-100","transition-colors","text-green-700"],[1,"fa-solid","fa-cog","text-sm"],[1,"my-2"],[1,"flex","items-center","space-x-3","px-4","py-2","hover:bg-red-50","text-red-600","transition-colors","w-full","text-left",3,"click"],[1,"fa-solid","fa-right-from-bracket","text-sm"]],template:function(i,n){if(1&i&&(r.j41(0,"header",0)(1,"div",1)(2,"div",2)(3,"button",3),r.bIt("click",function(){return n.onToggleSidebar()}),r.nrm(4,"i",4),r.k0s()(),r.j41(5,"div",2)(6,"div",5)(7,"button",6),r.bIt("click",function(){return n.toggleProfileDropdown()}),r.nrm(8,"img",7),r.j41(9,"span",8),r.EFF(10),r.k0s(),r.nrm(11,"i",9),r.k0s(),r.DNE(12,yo,18,0,"div",10),r.k0s()()()()),2&i){let o;r.R7$(10),r.SpI(" ",(null==(o=n.getAdminUser())?null:o.name)||"Admin User"," "),r.R7$(2),r.Y8G("ngIf",n.showProfileDropdown)}},dependencies:[H.bT,ot.Wk],styles:["[_nghost-%COMP%]{display:block}"]})}}return e})();function ko(e,s){1&e&&(r.j41(0,"div",11),r.nrm(1,"i",12),r.j41(2,"h1",13),r.EFF(3,"Admin"),r.k0s()())}function wo(e,s){1&e&&(r.j41(0,"div",14),r.nrm(1,"i",12),r.k0s())}function So(e,s){if(1&e&&(r.j41(0,"span",24),r.EFF(1),r.k0s()),2&e){const t=r.XpG(2).$implicit;r.R7$(1),r.JRh(t.label)}}function Mo(e,s){if(1&e&&r.nrm(0,"i",25),2&e){const t=r.XpG(2).$implicit,i=r.XpG();r.AVh("rotate-180",i.isExpanded(t.label))}}const ei=function(e){return{color:e}};function Co(e,s){if(1&e&&(r.j41(0,"a",28),r.nrm(1,"i",29),r.j41(2,"span",30),r.EFF(3),r.k0s()()),2&e){const t=s.$implicit;r.Y8G("routerLink",t.route),r.R7$(1),r.HbH(t.icon),r.Y8G("ngStyle",r.eq3(5,ei,t.color)),r.R7$(2),r.JRh(t.label)}}function Fo(e,s){if(1&e&&(r.j41(0,"div",26),r.DNE(1,Co,4,7,"a",27),r.k0s()),2&e){const t=r.XpG(2).$implicit;r.R7$(1),r.Y8G("ngForOf",t.children)}}function Do(e,s){if(1&e){const t=r.RV6();r.j41(0,"div",17)(1,"button",18),r.bIt("click",function(){r.eBV(t);const n=r.XpG().$implicit,o=r.XpG();return r.Njj(o.toggleSubMenu(n.label))}),r.j41(2,"div",19),r.nrm(3,"i",20),r.DNE(4,So,2,1,"span",21),r.k0s(),r.DNE(5,Mo,1,2,"i",22),r.k0s(),r.DNE(6,Fo,2,1,"div",23),r.k0s()}if(2&e){const t=r.XpG().$implicit,i=r.XpG();r.R7$(3),r.HbH(t.icon),r.Y8G("ngStyle",r.eq3(6,ei,t.color)),r.R7$(1),r.Y8G("ngIf",!i.isCollapsed),r.R7$(1),r.Y8G("ngIf",!i.isCollapsed),r.R7$(1),r.Y8G("ngIf",!i.isCollapsed&&i.isExpanded(t.label))}}function Ro(e,s){if(1&e&&(r.j41(0,"span",24),r.EFF(1),r.k0s()),2&e){const t=r.XpG(2).$implicit;r.R7$(1),r.JRh(t.label)}}function Ao(e,s){if(1&e&&(r.j41(0,"a",31),r.nrm(1,"i",20),r.DNE(2,Ro,2,1,"span",21),r.k0s()),2&e){const t=r.XpG().$implicit,i=r.XpG();r.Y8G("routerLink",t.route),r.R7$(1),r.HbH(t.icon),r.Y8G("ngStyle",r.eq3(5,ei,t.color)),r.R7$(1),r.Y8G("ngIf",!i.isCollapsed)}}function Eo(e,s){if(1&e&&(r.qex(0),r.DNE(1,Do,7,8,"div",15),r.DNE(2,Ao,3,7,"a",16),r.bVm()),2&e){const t=s.$implicit,i=r.XpG();r.R7$(1),r.Y8G("ngIf",i.hasChildren(t)),r.R7$(1),r.Y8G("ngIf",!i.hasChildren(t))}}function Oo(e,s){if(1&e&&(r.j41(0,"div",19),r.nrm(1,"img",32),r.j41(2,"div",33)(3,"p",34),r.EFF(4),r.k0s(),r.j41(5,"p",35),r.EFF(6),r.k0s()()()),2&e){const t=r.XpG();let i,n;r.R7$(4),r.SpI(" ",(null==(i=t.getAdminUser())?null:i.name)||"Admin User",""),r.R7$(2),r.SpI(" ",(null==(n=t.getAdminUser())?null:n.email)||"Admin User","")}}function To(e,s){1&e&&(r.j41(0,"div",36),r.nrm(1,"img",32),r.k0s())}let Po=(()=>{class e{constructor(t){this.authService=t,this.isCollapsed=!1,this.toggleSidebar=new r.bkB,this.menuItems=[{label:"Dashboard",icon:"fa-solid fa-chart-line",route:"/admin/dashboard",color:"#4285F4"},{label:"Products",icon:"fa-solid fa-cube",color:"#34A853",children:[{label:"Product List",route:"/admin/products/list",icon:"fa-solid fa-list",color:"#34A853"},{label:"Add Product",route:"/admin/products/new",icon:"fa-solid fa-plus",color:"#4285F4"},{label:"Categories",route:"/admin/products/categories",icon:"fa-solid fa-tags",color:"#fb5705ff"}]},{label:"Orders",icon:"fa-solid fa-chart-pie",route:"/admin/orders",color:"#FBBC05"},{label:"Users",icon:"fa-solid fa-user-group",route:"/admin/users",color:"#ff321fff"}],this.expandedItems=new Set,this.isMobile=!1,this.checkMobileView()}onResize(t){this.checkMobileView()}checkMobileView(){this.isMobile=window.innerWidth<768,this.isMobile&&(this.isCollapsed=!0,this.toggleSidebar.emit())}toggleSubMenu(t){this.expandedItems.has(t)?this.expandedItems.delete(t):this.expandedItems.add(t)}hasChildren(t){return!!t.children&&t.children.length>0}isExpanded(t){return this.expandedItems.has(t)}onToggleSidebar(){this.toggleSidebar.emit()}onMouseEnter(){!this.isMobile&&this.isCollapsed&&(this.isCollapsed=!1,this.toggleSidebar.emit())}onMouseLeave(){!this.isMobile&&!this.isCollapsed&&(this.isCollapsed=!0,this.toggleSidebar.emit())}getAdminUser(){return this.authService.getAdminUser()}static{this.\u0275fac=function(i){return new(i||e)(r.rXU(Wi))}}static{this.\u0275cmp=r.VBU({type:e,selectors:[["app-admin-sidebar"]],hostBindings:function(i,n){1&i&&r.bIt("resize",function(a){return n.onResize(a)},!1,r.tSv)},inputs:{isCollapsed:"isCollapsed"},outputs:{toggleSidebar:"toggleSidebar"},decls:11,vars:13,consts:[[1,"bg-white","text-gray-800","shadow-md","transition-all","duration-300","overflow-hidden","border-r","border-gray-200","flex","flex-col","h-screen",3,"mouseenter","mouseleave"],[1,"p-4","border-b","border-gray-100","flex","items-center","justify-between"],["class","flex items-center space-x-2",4,"ngIf"],["class","flex items-center",4,"ngIf"],[1,"p-2","rounded-lg","hover:bg-gray-100","transition-colors","text-gray-500",3,"click"],[1,"fa-solid","text-sm"],[1,"p-4","space-y-2"],[4,"ngFor","ngForOf"],[1,"absolute","bottom-0","left-0","right-0","p-4","border-t","border-gray-100"],["class","flex items-center space-x-3",4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],[1,"flex","items-center","space-x-2"],[1,"fa-brands","fa-d","text-blue-600","text-2xl"],[1,"text-lg","font-semibold","tracking-tight"],[1,"flex","items-center"],["class","space-y-1",4,"ngIf"],["routerLinkActive","bg-blue-50 text-blue-700","class","flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-100 transition-colors",3,"routerLink",4,"ngIf"],[1,"space-y-1"],[1,"w-full","flex","items-center","justify-between","p-3","rounded-xl","hover:bg-gray-100","transition-colors","text-left",3,"click"],[1,"flex","items-center","space-x-3"],[1,"text-xl","w-5",3,"ngStyle"],["class","font-medium",4,"ngIf"],["class","fa-solid fa-chevron-down text-xs text-gray-500 transition-transform",3,"rotate-180",4,"ngIf"],["class","ml-6 space-y-1 border-l border-gray-200 pl-3",4,"ngIf"],[1,"font-medium"],[1,"fa-solid","fa-chevron-down","text-xs","text-gray-500","transition-transform"],[1,"ml-6","space-y-1","border-l","border-gray-200","pl-3"],["routerLinkActive","bg-blue-50 text-blue-700","class","flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","bg-blue-50 text-blue-700",1,"flex","items-center","space-x-3","p-2","rounded-lg","hover:bg-gray-100","transition-colors",3,"routerLink"],[1,"w-4","text-center","text-sm",3,"ngStyle"],[1,"text-sm","font-medium"],["routerLinkActive","bg-blue-50 text-blue-700",1,"flex","items-center","space-x-3","p-3","rounded-xl","hover:bg-gray-100","transition-colors",3,"routerLink"],["src","https://plus.unsplash.com/premium_vector-1744204735077-1bd412e3e817?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=880","alt","Admin User",1,"w-8","h-8","rounded-full"],[1,"flex-1","min-w-0"],[1,"text-sm","font-semibold","text-gray-800","truncate"],[1,"text-xs","text-gray-500","truncate"],[1,"flex","items-center","justify-center"]],template:function(i,n){1&i&&(r.j41(0,"aside",0),r.bIt("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(){return n.onMouseLeave()}),r.j41(1,"div",1),r.DNE(2,ko,4,0,"div",2),r.DNE(3,wo,2,0,"div",3),r.j41(4,"button",4),r.bIt("click",function(){return n.onToggleSidebar()}),r.nrm(5,"i",5),r.k0s()(),r.j41(6,"nav",6),r.DNE(7,Eo,3,2,"ng-container",7),r.k0s(),r.j41(8,"div",8),r.DNE(9,Oo,7,2,"div",9),r.DNE(10,To,2,0,"div",10),r.k0s()()),2&i&&(r.AVh("w-64",!n.isCollapsed)("w-20",n.isCollapsed),r.R7$(2),r.Y8G("ngIf",!n.isCollapsed),r.R7$(1),r.Y8G("ngIf",n.isCollapsed),r.R7$(2),r.AVh("fa-chevron-left",!n.isCollapsed)("fa-chevron-right",n.isCollapsed),r.R7$(2),r.Y8G("ngForOf",n.menuItems),r.R7$(2),r.Y8G("ngIf",!n.isCollapsed),r.R7$(1),r.Y8G("ngIf",n.isCollapsed))},dependencies:[H.Sq,H.bT,H.B3,ot.Wk,ot.wQ],styles:["[_nghost-%COMP%]{display:block;height:100vh;position:relative}.rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg)}*[_ngcontent-%COMP%]{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}"]})}}return e})(),Io=(()=>{class e{constructor(){this.isSidebarCollapsed=!1}ngOnInit(){}toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=r.VBU({type:e,selectors:[["admin"]],decls:6,vars:1,consts:[[1,"admin-layout","flex","h-screen","bg-gray-100"],[3,"isCollapsed","toggleSidebar"],[1,"flex-1","flex","flex-col","overflow-hidden"],[3,"toggleSidebar"],[1,"flex-1","overflow-x-hidden","overflow-y-auto","p-6"]],template:function(i,n){1&i&&(r.j41(0,"div",0)(1,"app-admin-sidebar",1),r.bIt("toggleSidebar",function(){return n.toggleSidebar()}),r.k0s(),r.j41(2,"div",2)(3,"app-admin-header",3),r.bIt("toggleSidebar",function(){return n.toggleSidebar()}),r.k0s(),r.j41(4,"main",4),r.nrm(5,"router-outlet"),r.k0s()()()),2&i&&(r.R7$(1),r.Y8G("isCollapsed",n.isSidebarCollapsed))},dependencies:[ot.n3,vo,Po],styles:["*[_ngcontent-%COMP%]{background-color:#fff}.admin-layout[_ngcontent-%COMP%]{font-family:Inter,sans-serif}[_nghost-%COMP%]     .hide-scrollbar{-ms-overflow-style:none;scrollbar-width:none}"]})}}return e})();function Ut(e){return e+.5|0}const ut=(e,s,t)=>Math.max(Math.min(e,t),s);function Qt(e){return ut(Ut(2.55*e),0,255)}function vt(e){return ut(Ut(255*e),0,255)}function ft(e){return ut(Ut(e/2.55)/100,0,1)}function Gi(e){return ut(Ut(100*e),0,100)}const rt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ii=[..."0123456789ABCDEF"],jo=e=>ii[15&e],Lo=e=>ii[(240&e)>>4]+ii[15&e],ke=e=>(240&e)>>4==(15&e);const Uo=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Yi(e,s,t){const i=s*Math.min(t,1-t),n=(o,a=(o+e/30)%12)=>t-i*Math.max(Math.min(a-3,9-a,1),-1);return[n(0),n(8),n(4)]}function Vo(e,s,t){const i=(n,o=(n+e/60)%6)=>t-t*s*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function Ho(e,s,t){const i=Yi(e,1,.5);let n;for(s+t>1&&(n=1/(s+t),s*=n,t*=n),n=0;n<3;n++)i[n]*=1-s-t,i[n]+=s;return i}function si(e){const t=e.r/255,i=e.g/255,n=e.b/255,o=Math.max(t,i,n),a=Math.min(t,i,n),l=(o+a)/2;let c,d,h;return o!==a&&(h=o-a,d=l>.5?h/(2-o-a):h/(o+a),c=function Wo(e,s,t,i,n){return e===n?(s-t)/i+(s<t?6:0):s===n?(t-e)/i+2:(e-s)/i+4}(t,i,n,h,o),c=60*c+.5),[0|c,d||0,l]}function ni(e,s,t,i){return(Array.isArray(s)?e(s[0],s[1],s[2]):e(s,t,i)).map(vt)}function oi(e,s,t){return ni(Yi,e,s,t)}function Xi(e){return(e%360+360)%360}const Ji={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ki={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let we;const Qo=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,ri=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Vt=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Se(e,s,t){if(e){let i=si(e);i[s]=Math.max(0,Math.min(i[s]+i[s]*t,0===s?360:1)),i=oi(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function qi(e,s){return e&&Object.assign(s||{},e)}function Zi(e){var s={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(s={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(s.a=vt(e[3]))):(s=qi(e,{r:0,g:0,b:0,a:1})).a=vt(s.a),s}function sr(e){return"r"===e.charAt(0)?function tr(e){const s=Qo.exec(e);let i,n,o,t=255;if(s){if(s[7]!==i){const a=+s[7];t=s[8]?Qt(a):ut(255*a,0,255)}return i=+s[1],n=+s[3],o=+s[5],i=255&(s[2]?Qt(i):ut(i,0,255)),n=255&(s[4]?Qt(n):ut(n,0,255)),o=255&(s[6]?Qt(o):ut(o,0,255)),{r:i,g:n,b:o,a:t}}}(e):function Xo(e){const s=Uo.exec(e);let i,t=255;if(!s)return;s[5]!==i&&(t=s[6]?Qt(+s[5]):vt(+s[5]));const n=Xi(+s[2]),o=+s[3]/100,a=+s[4]/100;return i="hwb"===s[1]?function Go(e,s,t){return ni(Ho,e,s,t)}(n,o,a):"hsv"===s[1]?function Yo(e,s,t){return ni(Vo,e,s,t)}(n,o,a):oi(n,o,a),{r:i[0],g:i[1],b:i[2],a:t}}(e)}class Ht{constructor(s){if(s instanceof Ht)return s;const t=typeof s;let i;"object"===t?i=Zi(s):"string"===t&&(i=function No(e){var t,s=e.length;return"#"===e[0]&&(4===s||5===s?t={r:255&17*rt[e[1]],g:255&17*rt[e[2]],b:255&17*rt[e[3]],a:5===s?17*rt[e[4]]:255}:(7===s||9===s)&&(t={r:rt[e[1]]<<4|rt[e[2]],g:rt[e[3]]<<4|rt[e[4]],b:rt[e[5]]<<4|rt[e[6]],a:9===s?rt[e[7]]<<4|rt[e[8]]:255})),t}(s)||function Zo(e){we||(we=function qo(){const e={},s=Object.keys(Ki),t=Object.keys(Ji);let i,n,o,a,l;for(i=0;i<s.length;i++){for(a=l=s[i],n=0;n<t.length;n++)o=t[n],l=l.replace(o,Ji[o]);o=parseInt(Ki[a],16),e[l]=[o>>16&255,o>>8&255,255&o]}return e}(),we.transparent=[0,0,0,0]);const s=we[e.toLowerCase()];return s&&{r:s[0],g:s[1],b:s[2],a:4===s.length?s[3]:255}}(s)||sr(s)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var s=qi(this._rgb);return s&&(s.a=ft(s.a)),s}set rgb(s){this._rgb=Zi(s)}rgbString(){return this._valid?function er(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ft(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?function zo(e){var s=(e=>ke(e.r)&&ke(e.g)&&ke(e.b)&&ke(e.a))(e)?jo:Lo;return e?"#"+s(e.r)+s(e.g)+s(e.b)+((e,s)=>e<255?s(e):"")(e.a,s):void 0}(this._rgb):void 0}hslString(){return this._valid?function Ko(e){if(!e)return;const s=si(e),t=s[0],i=Gi(s[1]),n=Gi(s[2]);return e.a<255?`hsla(${t}, ${i}%, ${n}%, ${ft(e.a)})`:`hsl(${t}, ${i}%, ${n}%)`}(this._rgb):void 0}mix(s,t){if(s){const i=this.rgb,n=s.rgb;let o;const a=t===o?.5:t,l=2*a-1,c=i.a-n.a,d=((l*c==-1?l:(l+c)/(1+l*c))+1)/2;o=1-d,i.r=255&d*i.r+o*n.r+.5,i.g=255&d*i.g+o*n.g+.5,i.b=255&d*i.b+o*n.b+.5,i.a=a*i.a+(1-a)*n.a,this.rgb=i}return this}interpolate(s,t){return s&&(this._rgb=function ir(e,s,t){const i=Vt(ft(e.r)),n=Vt(ft(e.g)),o=Vt(ft(e.b));return{r:vt(ri(i+t*(Vt(ft(s.r))-i))),g:vt(ri(n+t*(Vt(ft(s.g))-n))),b:vt(ri(o+t*(Vt(ft(s.b))-o))),a:e.a+t*(s.a-e.a)}}(this._rgb,s._rgb,t)),this}clone(){return new Ht(this.rgb)}alpha(s){return this._rgb.a=vt(s),this}clearer(s){return this._rgb.a*=1-s,this}greyscale(){const s=this._rgb,t=Ut(.3*s.r+.59*s.g+.11*s.b);return s.r=s.g=s.b=t,this}opaquer(s){return this._rgb.a*=1+s,this}negate(){const s=this._rgb;return s.r=255-s.r,s.g=255-s.g,s.b=255-s.b,this}lighten(s){return Se(this._rgb,2,s),this}darken(s){return Se(this._rgb,2,-s),this}saturate(s){return Se(this._rgb,1,s),this}desaturate(s){return Se(this._rgb,1,-s),this}rotate(s){return function Jo(e,s){var t=si(e);t[0]=Xi(t[0]+s),t=oi(t),e.r=t[0],e.g=t[1],e.b=t[2]}(this._rgb,s),this}}function gt(){}const nr=(()=>{let e=0;return()=>e++})();function A(e){return null==e}function L(e){if(Array.isArray&&Array.isArray(e))return!0;const s=Object.prototype.toString.call(e);return"[object"===s.slice(0,7)&&"Array]"===s.slice(-6)}function E(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function z(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function st(e,s){return z(e)?e:s}function F(e,s){return typeof e>"u"?s:e}const Qi=(e,s)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*s:+e;function j(e,s,t){if(e&&"function"==typeof e.call)return e.apply(t,s)}function P(e,s,t,i){let n,o,a;if(L(e))if(o=e.length,i)for(n=o-1;n>=0;n--)s.call(t,e[n],n);else for(n=0;n<o;n++)s.call(t,e[n],n);else if(E(e))for(a=Object.keys(e),o=a.length,n=0;n<o;n++)s.call(t,e[a[n]],a[n])}function Me(e,s){let t,i,n,o;if(!e||!s||e.length!==s.length)return!1;for(t=0,i=e.length;t<i;++t)if(n=e[t],o=s[t],n.datasetIndex!==o.datasetIndex||n.index!==o.index)return!1;return!0}function Ce(e){if(L(e))return e.map(Ce);if(E(e)){const s=Object.create(null),t=Object.keys(e),i=t.length;let n=0;for(;n<i;++n)s[t[n]]=Ce(e[t[n]]);return s}return e}function ts(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function rr(e,s,t,i){if(!ts(e))return;const n=s[e],o=t[e];E(n)&&E(o)?te(n,o,i):s[e]=Ce(o)}function te(e,s,t){const i=L(s)?s:[s],n=i.length;if(!E(e))return e;const o=(t=t||{}).merger||rr;let a;for(let l=0;l<n;++l){if(a=i[l],!E(a))continue;const c=Object.keys(a);for(let d=0,h=c.length;d<h;++d)o(c[d],e,a,t)}return e}function ee(e,s){return te(e,s,{merger:ar})}function ar(e,s,t){if(!ts(e))return;const i=s[e],n=t[e];E(i)&&E(n)?ee(i,n):Object.prototype.hasOwnProperty.call(s,e)||(s[e]=Ce(n))}const es={"":e=>e,x:e=>e.x,y:e=>e.y};function kt(e,s){return(es[s]||(es[s]=function cr(e){const s=function lr(e){const s=e.split("."),t=[];let i="";for(const n of s)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}(e);return t=>{for(const i of s){if(""===i)break;t=t&&t[i]}return t}}(s)))(e)}function ai(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ie=e=>typeof e<"u",wt=e=>"function"==typeof e,is=(e,s)=>{if(e.size!==s.size)return!1;for(const t of e)if(!s.has(t))return!1;return!0},T=Math.PI,B=2*T,hr=B+T,Fe=Number.POSITIVE_INFINITY,ur=T/180,U=T/2,Rt=T/4,ss=2*T/3,St=Math.log10,ct=Math.sign;function se(e,s,t){return Math.abs(e-s)<t}function ns(e){const s=Math.round(e);e=se(e,s,e/1e3)?s:e;const t=Math.pow(10,Math.floor(St(e))),i=e/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function Wt(e){return!function gr(e){return"symbol"==typeof e||"object"==typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function os(e,s,t){let i,n,o;for(i=0,n=e.length;i<n;i++)o=e[i][t],isNaN(o)||(s.min=Math.min(s.min,o),s.max=Math.max(s.max,o))}function at(e){return e*(T/180)}function li(e){return e*(180/T)}function rs(e){if(!z(e))return;let s=1,t=0;for(;Math.round(e*s)/s!==e;)s*=10,t++;return t}function as(e,s){const t=s.x-e.x,i=s.y-e.y,n=Math.sqrt(t*t+i*i);let o=Math.atan2(i,t);return o<-.5*T&&(o+=B),{angle:o,distance:n}}function ci(e,s){return Math.sqrt(Math.pow(s.x-e.x,2)+Math.pow(s.y-e.y,2))}function mr(e,s){return(e-s+hr)%B-T}function X(e){return(e%B+B)%B}function ne(e,s,t,i){const n=X(e),o=X(s),a=X(t),l=X(o-n),c=X(a-n),d=X(n-o),h=X(n-a);return n===o||n===a||i&&o===a||l>c&&d<h}function G(e,s,t){return Math.max(s,Math.min(t,e))}function pt(e,s,t,i=1e-6){return e>=Math.min(s,t)-i&&e<=Math.max(s,t)+i}function di(e,s,t){t=t||(a=>e[a]<s);let o,i=e.length-1,n=0;for(;i-n>1;)o=n+i>>1,t(o)?n=o:i=o;return{lo:n,hi:i}}const mt=(e,s,t,i)=>di(e,t,i?n=>{const o=e[n][s];return o<t||o===t&&e[n+1][s]===t}:n=>e[n][s]<t),xr=(e,s,t)=>di(e,t,i=>e[i][s]>=t),ls=["push","pop","shift","splice","unshift"];function cs(e,s){const t=e._chartjs;if(!t)return;const i=t.listeners,n=i.indexOf(s);-1!==n&&i.splice(n,1),!(i.length>0)&&(ls.forEach(o=>{delete e[o]}),delete e._chartjs)}function ds(e){const s=new Set(e);return s.size===e.length?e:Array.from(s)}const hs=typeof window>"u"?function(e){return e()}:window.requestAnimationFrame;function us(e,s){let t=[],i=!1;return function(...n){t=n,i||(i=!0,hs.call(window,()=>{i=!1,e.apply(s,t)}))}}const hi=e=>"start"===e?"left":"end"===e?"right":"center",J=(e,s,t)=>"start"===e?s:"end"===e?t:(s+t)/2;function fs(e,s,t){const i=s.length;let n=0,o=i;if(e._sorted){const{iScale:a,vScale:l,_parsed:c}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,h=a.axis,{min:u,max:f,minDefined:g,maxDefined:m}=a.getUserBounds();if(g){if(n=Math.min(mt(c,h,u).lo,t?i:mt(s,h,a.getPixelForValue(u)).lo),d){const p=c.slice(0,n+1).reverse().findIndex(b=>!A(b[l.axis]));n-=Math.max(0,p)}n=G(n,0,i-1)}if(m){let p=Math.max(mt(c,a.axis,f,!0).hi+1,t?0:mt(s,h,a.getPixelForValue(f),!0).hi+1);if(d){const b=c.slice(p-1).findIndex(x=>!A(x[l.axis]));p+=Math.max(0,b)}o=G(p,n,i)-n}else o=i-n}return{start:n,count:o}}function gs(e){const{xScale:s,yScale:t,_scaleRanges:i}=e,n={xmin:s.min,xmax:s.max,ymin:t.min,ymax:t.max};if(!i)return e._scaleRanges=n,!0;const o=i.xmin!==s.min||i.xmax!==s.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,n),o}const De=e=>0===e||1===e,ps=(e,s,t)=>-Math.pow(2,10*(e-=1))*Math.sin((e-s)*B/t),ms=(e,s,t)=>Math.pow(2,-10*e)*Math.sin((e-s)*B/t)+1,oe={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*U),easeOutSine:e=>Math.sin(e*U),easeInOutSine:e=>-.5*(Math.cos(T*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>De(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>De(e)?e:ps(e,.075,.3),easeOutElastic:e=>De(e)?e:ms(e,.075,.3),easeInOutElastic:e=>De(e)?e:e<.5?.5*ps(2*e,.1125,.45):.5+.5*ms(2*e-1,.1125,.45),easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>(e-=1)*e*(2.70158*e+1.70158)+1,easeInOutBack(e){let s=1.70158;return(e/=.5)<1?e*e*((1+(s*=1.525))*e-s)*.5:.5*((e-=2)*e*((1+(s*=1.525))*e+s)+2)},easeInBounce:e=>1-oe.easeOutBounce(1-e),easeOutBounce:e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,easeInOutBounce:e=>e<.5?.5*oe.easeInBounce(2*e):.5*oe.easeOutBounce(2*e-1)+.5};function ui(e){if(e&&"object"==typeof e){const s=e.toString();return"[object CanvasPattern]"===s||"[object CanvasGradient]"===s}return!1}function bs(e){return ui(e)?e:new Ht(e)}function fi(e){return ui(e)?e:new Ht(e).saturate(.5).darken(.1).hexString()}const wr=["x","y","borderWidth","radius","tension"],Sr=["color","borderColor","backgroundColor"],xs=new Map;function re(e,s,t){return function Fr(e,s){s=s||{};const t=e+JSON.stringify(s);let i=xs.get(t);return i||(i=new Intl.NumberFormat(e,s),xs.set(t,i)),i}(s,t).format(e)}const _s={values:e=>L(e)?e:""+e,numeric(e,s,t){if(0===e)return"0";const i=this.chart.options.locale;let n,o=e;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(n="scientific"),o=function Dr(e,s){let t=s.length>3?s[2].value-s[1].value:s[1].value-s[0].value;return Math.abs(t)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),t}(e,t)}const a=St(Math.abs(o)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:n,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),re(e,i,c)},logarithmic(e,s,t){if(0===e)return"0";const i=t[s].significand||e/Math.pow(10,Math.floor(St(e)));return[1,2,3,5,10,15].includes(i)||s>.8*t.length?_s.numeric.call(this,e,s,t):""}};var Re={formatters:_s};const At=Object.create(null),gi=Object.create(null);function ae(e,s){if(!s)return e;const t=s.split(".");for(let i=0,n=t.length;i<n;++i){const o=t[i];e=e[o]||(e[o]=Object.create(null))}return e}function pi(e,s,t){return"string"==typeof s?te(ae(e,s),t):te(ae(e,""),s)}class Ar{constructor(s,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>fi(n.backgroundColor),this.hoverBorderColor=(i,n)=>fi(n.borderColor),this.hoverColor=(i,n)=>fi(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(s),this.apply(t)}set(s,t){return pi(this,s,t)}get(s){return ae(this,s)}describe(s,t){return pi(gi,s,t)}override(s,t){return pi(At,s,t)}route(s,t,i,n){const o=ae(this,s),a=ae(this,i),l="_"+t;Object.defineProperties(o,{[l]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],d=a[n];return E(c)?Object.assign({},d,c):F(c,d)},set(c){this[l]=c}}})}apply(s){s.forEach(t=>t(this))}}var N=new Ar({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Mr(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:s=>"onProgress"!==s&&"onComplete"!==s&&"fn"!==s}),e.set("animations",{colors:{type:"color",properties:Sr},numbers:{type:"number",properties:wr}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:s=>0|s}}}})},function Cr(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Rr(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(s,t)=>t.lineWidth,tickColor:(s,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Re.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:s=>!s.startsWith("before")&&!s.startsWith("after")&&"callback"!==s&&"parser"!==s,_indexable:s=>"borderDash"!==s&&"tickBorderDash"!==s&&"dash"!==s}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:s=>"backdropPadding"!==s&&"callback"!==s,_indexable:s=>"backdropPadding"!==s})}]);function Ae(e,s,t,i,n){let o=s[n];return o||(o=s[n]=e.measureText(n).width,t.push(n)),o>i&&(i=o),i}function Or(e,s,t,i){let n=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==s&&(n=i.data={},o=i.garbageCollect=[],i.font=s),e.save(),e.font=s;let a=0;const l=t.length;let c,d,h,u,f;for(c=0;c<l;c++)if(u=t[c],null==u||L(u)){if(L(u))for(d=0,h=u.length;d<h;d++)f=u[d],null!=f&&!L(f)&&(a=Ae(e,n,o,a,f))}else a=Ae(e,n,o,a,u);e.restore();const g=o.length/2;if(g>t.length){for(c=0;c<g;c++)delete n[o[c]];o.splice(0,g)}return a}function Et(e,s,t){const i=e.currentDevicePixelRatio,n=0!==t?Math.max(t/2,.5):0;return Math.round((s-n)*i)/i+n}function ys(e,s){!s&&!e||((s=s||e.getContext("2d")).save(),s.resetTransform(),s.clearRect(0,0,e.width,e.height),s.restore())}function mi(e,s,t,i){vs(e,s,t,i,null)}function vs(e,s,t,i,n){let o,a,l,c,d,h,u,f;const g=s.pointStyle,m=s.rotation,p=s.radius;let b=(m||0)*ur;if(g&&"object"==typeof g&&(o=g.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return e.save(),e.translate(t,i),e.rotate(b),e.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),void e.restore();if(!(isNaN(p)||p<=0)){switch(e.beginPath(),g){default:n?e.ellipse(t,i,n/2,p,0,0,B):e.arc(t,i,p,0,B),e.closePath();break;case"triangle":h=n?n/2:p,e.moveTo(t+Math.sin(b)*h,i-Math.cos(b)*p),b+=ss,e.lineTo(t+Math.sin(b)*h,i-Math.cos(b)*p),b+=ss,e.lineTo(t+Math.sin(b)*h,i-Math.cos(b)*p),e.closePath();break;case"rectRounded":d=.516*p,c=p-d,a=Math.cos(b+Rt)*c,u=Math.cos(b+Rt)*(n?n/2-d:c),l=Math.sin(b+Rt)*c,f=Math.sin(b+Rt)*(n?n/2-d:c),e.arc(t-u,i-l,d,b-T,b-U),e.arc(t+f,i-a,d,b-U,b),e.arc(t+u,i+l,d,b,b+U),e.arc(t-f,i+a,d,b+U,b+T),e.closePath();break;case"rect":if(!m){c=Math.SQRT1_2*p,h=n?n/2:c,e.rect(t-h,i-c,2*h,2*c);break}b+=Rt;case"rectRot":u=Math.cos(b)*(n?n/2:p),a=Math.cos(b)*p,l=Math.sin(b)*p,f=Math.sin(b)*(n?n/2:p),e.moveTo(t-u,i-l),e.lineTo(t+f,i-a),e.lineTo(t+u,i+l),e.lineTo(t-f,i+a),e.closePath();break;case"crossRot":b+=Rt;case"cross":u=Math.cos(b)*(n?n/2:p),a=Math.cos(b)*p,l=Math.sin(b)*p,f=Math.sin(b)*(n?n/2:p),e.moveTo(t-u,i-l),e.lineTo(t+u,i+l),e.moveTo(t+f,i-a),e.lineTo(t-f,i+a);break;case"star":u=Math.cos(b)*(n?n/2:p),a=Math.cos(b)*p,l=Math.sin(b)*p,f=Math.sin(b)*(n?n/2:p),e.moveTo(t-u,i-l),e.lineTo(t+u,i+l),e.moveTo(t+f,i-a),e.lineTo(t-f,i+a),b+=Rt,u=Math.cos(b)*(n?n/2:p),a=Math.cos(b)*p,l=Math.sin(b)*p,f=Math.sin(b)*(n?n/2:p),e.moveTo(t-u,i-l),e.lineTo(t+u,i+l),e.moveTo(t+f,i-a),e.lineTo(t-f,i+a);break;case"line":a=n?n/2:Math.cos(b)*p,l=Math.sin(b)*p,e.moveTo(t-a,i-l),e.lineTo(t+a,i+l);break;case"dash":e.moveTo(t,i),e.lineTo(t+Math.cos(b)*(n?n/2:p),i+Math.sin(b)*p);break;case!1:e.closePath()}e.fill(),s.borderWidth>0&&e.stroke()}}function bt(e,s,t){return t=t||.5,!s||e&&e.x>s.left-t&&e.x<s.right+t&&e.y>s.top-t&&e.y<s.bottom+t}function Ee(e,s){e.save(),e.beginPath(),e.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),e.clip()}function Oe(e){e.restore()}function Tr(e,s,t,i,n){if(!s)return e.lineTo(t.x,t.y);if("middle"===n){const o=(s.x+t.x)/2;e.lineTo(o,s.y),e.lineTo(o,t.y)}else"after"===n!=!!i?e.lineTo(s.x,t.y):e.lineTo(t.x,s.y);e.lineTo(t.x,t.y)}function Pr(e,s,t,i){if(!s)return e.lineTo(t.x,t.y);e.bezierCurveTo(i?s.cp1x:s.cp2x,i?s.cp1y:s.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function jr(e,s,t,i,n){if(n.strikethrough||n.underline){const o=e.measureText(i),a=s-o.actualBoundingBoxLeft,l=s+o.actualBoundingBoxRight,d=t+o.actualBoundingBoxDescent,h=n.strikethrough?(t-o.actualBoundingBoxAscent+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(a,h),e.lineTo(l,h),e.stroke()}}function Lr(e,s){const t=e.fillStyle;e.fillStyle=s.color,e.fillRect(s.left,s.top,s.width,s.height),e.fillStyle=t}function Ot(e,s,t,i,n,o={}){const a=L(s)?s:[s],l=o.strokeWidth>0&&""!==o.strokeColor;let c,d;for(e.save(),e.font=n.string,function Ir(e,s){s.translation&&e.translate(s.translation[0],s.translation[1]),A(s.rotation)||e.rotate(s.rotation),s.color&&(e.fillStyle=s.color),s.textAlign&&(e.textAlign=s.textAlign),s.textBaseline&&(e.textBaseline=s.textBaseline)}(e,o),c=0;c<a.length;++c)d=a[c],o.backdrop&&Lr(e,o.backdrop),l&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),A(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(d,t,i,o.maxWidth)),e.fillText(d,t,i,o.maxWidth),jr(e,t,i,d,o),i+=Number(n.lineHeight);e.restore()}function le(e,s){const{x:t,y:i,w:n,h:o,radius:a}=s;e.arc(t+a.topLeft,i+a.topLeft,a.topLeft,1.5*T,T,!0),e.lineTo(t,i+o-a.bottomLeft),e.arc(t+a.bottomLeft,i+o-a.bottomLeft,a.bottomLeft,T,U,!0),e.lineTo(t+n-a.bottomRight,i+o),e.arc(t+n-a.bottomRight,i+o-a.bottomRight,a.bottomRight,U,0,!0),e.lineTo(t+n,i+a.topRight),e.arc(t+n-a.topRight,i+a.topRight,a.topRight,0,-U,!0),e.lineTo(t+a.topLeft,i)}const Br=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Nr=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $r(e,s){const t=(""+e).match(Br);if(!t||"normal"===t[1])return 1.2*s;switch(e=+t[2],t[3]){case"px":return e;case"%":e/=100}return s*e}const zr=e=>+e||0;function bi(e,s){const t={},i=E(s),n=i?Object.keys(s):s,o=E(e)?i?a=>F(e[a],e[s[a]]):a=>e[a]:()=>e;for(const a of n)t[a]=zr(o(a));return t}function ks(e){return bi(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Tt(e){return bi(e,["topLeft","topRight","bottomLeft","bottomRight"])}function K(e){const s=ks(e);return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function W(e,s){let t=F((e=e||{}).size,(s=s||N.font).size);"string"==typeof t&&(t=parseInt(t,10));let i=F(e.style,s.style);i&&!(""+i).match(Nr)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const n={family:F(e.family,s.family),lineHeight:$r(F(e.lineHeight,s.lineHeight),t),size:t,style:i,weight:F(e.weight,s.weight),string:""};return n.string=function Er(e){return!e||A(e.size)||A(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(n),n}function ce(e,s,t,i){let o,a,l,n=!0;for(o=0,a=e.length;o<a;++o)if(l=e[o],void 0!==l&&(void 0!==s&&"function"==typeof l&&(l=l(s),n=!1),void 0!==t&&L(l)&&(l=l[t%l.length],n=!1),void 0!==l))return i&&!n&&(i.cacheable=!1),l}function Mt(e,s){return Object.assign(Object.create(e),s)}function xi(e,s=[""],t,i,n=(()=>e[0])){const o=t||e;typeof i>"u"&&(i=Fs("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:i,_getTarget:n,override:l=>xi([l,...e],s,o,i)};return new Proxy(a,{deleteProperty:(l,c)=>(delete l[c],delete l._keys,delete e[0][c],!0),get:(l,c)=>Ss(l,c,()=>function Kr(e,s,t,i){let n;for(const o of s)if(n=Fs(Vr(o,e),t),typeof n<"u")return _i(e,n)?yi(t,i,e,n):n}(c,s,e,l)),getOwnPropertyDescriptor:(l,c)=>Reflect.getOwnPropertyDescriptor(l._scopes[0],c),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(l,c)=>Ds(l).includes(c),ownKeys:l=>Ds(l),set(l,c,d){const h=l._storage||(l._storage=n());return l[c]=h[c]=d,delete l._keys,!0}})}function Gt(e,s,t,i){const n={_cacheable:!1,_proxy:e,_context:s,_subProxy:t,_stack:new Set,_descriptors:ws(e,i),setContext:o=>Gt(e,o,t,i),override:o=>Gt(e.override(o),s,t,i)};return new Proxy(n,{deleteProperty:(o,a)=>(delete o[a],delete e[a],!0),get:(o,a,l)=>Ss(o,a,()=>function Hr(e,s,t){const{_proxy:i,_context:n,_subProxy:o,_descriptors:a}=e;let l=i[s];return wt(l)&&a.isScriptable(s)&&(l=function Wr(e,s,t,i){const{_proxy:n,_context:o,_subProxy:a,_stack:l}=t;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=s(o,a||i);return l.delete(e),_i(e,c)&&(c=yi(n._scopes,n,e,c)),c}(s,l,e,t)),L(l)&&l.length&&(l=function Gr(e,s,t,i){const{_proxy:n,_context:o,_subProxy:a,_descriptors:l}=t;if(typeof o.index<"u"&&i(e))return s[o.index%s.length];if(E(s[0])){const c=s,d=n._scopes.filter(h=>h!==c);s=[];for(const h of c){const u=yi(d,n,e,h);s.push(Gt(u,o,a&&a[e],l))}}return s}(s,l,e,a.isIndexable)),_i(s,l)&&(l=Gt(l,n,o&&o[s],a)),l}(o,a,l)),getOwnPropertyDescriptor:(o,a)=>o._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(o,a)=>Reflect.has(e,a),ownKeys:()=>Reflect.ownKeys(e),set:(o,a,l)=>(e[a]=l,delete o[a],!0)})}function ws(e,s={scriptable:!0,indexable:!0}){const{_scriptable:t=s.scriptable,_indexable:i=s.indexable,_allKeys:n=s.allKeys}=e;return{allKeys:n,scriptable:t,indexable:i,isScriptable:wt(t)?t:()=>t,isIndexable:wt(i)?i:()=>i}}const Vr=(e,s)=>e?e+ai(s):s,_i=(e,s)=>E(s)&&"adapters"!==e&&(null===Object.getPrototypeOf(s)||s.constructor===Object);function Ss(e,s,t){if(Object.prototype.hasOwnProperty.call(e,s)||"constructor"===s)return e[s];const i=t();return e[s]=i,i}function Ms(e,s,t){return wt(e)?e(s,t):e}const Yr=(e,s)=>!0===e?s:"string"==typeof e?kt(s,e):void 0;function Xr(e,s,t,i,n){for(const o of s){const a=Yr(t,o);if(a){e.add(a);const l=Ms(a._fallback,t,n);if(typeof l<"u"&&l!==t&&l!==i)return l}else if(!1===a&&typeof i<"u"&&t!==i)return null}return!1}function yi(e,s,t,i){const n=s._rootScopes,o=Ms(s._fallback,t,i),a=[...e,...n],l=new Set;l.add(i);let c=Cs(l,a,t,o||t,i);return!(null===c||typeof o<"u"&&o!==t&&(c=Cs(l,a,o,c,i),null===c))&&xi(Array.from(l),[""],n,o,()=>function Jr(e,s,t){const i=e._getTarget();s in i||(i[s]={});const n=i[s];return L(n)&&E(t)?t:n||{}}(s,t,i))}function Cs(e,s,t,i,n){for(;t;)t=Xr(e,s,t,i,n);return t}function Fs(e,s){for(const t of s){if(!t)continue;const i=t[e];if(typeof i<"u")return i}}function Ds(e){let s=e._keys;return s||(s=e._keys=function qr(e){const s=new Set;for(const t of e)for(const i of Object.keys(t).filter(n=>!n.startsWith("_")))s.add(i);return Array.from(s)}(e._scopes)),s}function Rs(e,s,t,i){const{iScale:n}=e,{key:o="r"}=this._parsing,a=new Array(i);let l,c,d,h;for(l=0,c=i;l<c;++l)d=l+t,h=s[d],a[l]={r:n.parse(kt(h,o),d)};return a}const Zr=Number.EPSILON||1e-14,Yt=(e,s)=>s<e.length&&!e[s].skip&&e[s],As=e=>"x"===e?"y":"x";function Qr(e,s,t,i){const n=e.skip?s:e,o=s,a=t.skip?s:t,l=ci(o,n),c=ci(a,o);let d=l/(l+c),h=c/(l+c);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const u=i*d,f=i*h;return{previous:{x:o.x-u*(a.x-n.x),y:o.y-u*(a.y-n.y)},next:{x:o.x+f*(a.x-n.x),y:o.y+f*(a.y-n.y)}}}function Te(e,s,t){return Math.max(Math.min(e,t),s)}function na(e,s,t,i,n){let o,a,l,c;if(s.spanGaps&&(e=e.filter(d=>!d.skip)),"monotone"===s.cubicInterpolationMode)!function ia(e,s="x"){const t=As(s),i=e.length,n=Array(i).fill(0),o=Array(i);let a,l,c,d=Yt(e,0);for(a=0;a<i;++a)if(l=c,c=d,d=Yt(e,a+1),c){if(d){const h=d[s]-c[s];n[a]=0!==h?(d[t]-c[t])/h:0}o[a]=l?d?ct(n[a-1])!==ct(n[a])?0:(n[a-1]+n[a])/2:n[a-1]:n[a]}(function ta(e,s,t){const i=e.length;let n,o,a,l,c,d=Yt(e,0);for(let h=0;h<i-1;++h)if(c=d,d=Yt(e,h+1),c&&d){if(se(s[h],0,Zr)){t[h]=t[h+1]=0;continue}n=t[h]/s[h],o=t[h+1]/s[h],l=Math.pow(n,2)+Math.pow(o,2),!(l<=9)&&(a=3/Math.sqrt(l),t[h]=n*a*s[h],t[h+1]=o*a*s[h])}})(e,n,o),function ea(e,s,t="x"){const i=As(t),n=e.length;let o,a,l,c=Yt(e,0);for(let d=0;d<n;++d){if(a=l,l=c,c=Yt(e,d+1),!l)continue;const h=l[t],u=l[i];a&&(o=(h-a[t])/3,l[`cp1${t}`]=h-o,l[`cp1${i}`]=u-o*s[d]),c&&(o=(c[t]-h)/3,l[`cp2${t}`]=h+o,l[`cp2${i}`]=u+o*s[d])}}(e,o,s)}(e,n);else{let d=i?e[e.length-1]:e[0];for(o=0,a=e.length;o<a;++o)l=e[o],c=Qr(d,l,e[Math.min(o+1,a-(i?0:1))%a],s.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}s.capBezierPoints&&function sa(e,s){let t,i,n,o,a,l=bt(e[0],s);for(t=0,i=e.length;t<i;++t)a=o,o=l,l=t<i-1&&bt(e[t+1],s),o&&(n=e[t],a&&(n.cp1x=Te(n.cp1x,s.left,s.right),n.cp1y=Te(n.cp1y,s.top,s.bottom)),l&&(n.cp2x=Te(n.cp2x,s.left,s.right),n.cp2y=Te(n.cp2y,s.top,s.bottom)))}(e,t)}function vi(){return typeof window<"u"&&typeof document<"u"}function ki(e){let s=e.parentNode;return s&&"[object ShadowRoot]"===s.toString()&&(s=s.host),s}function Pe(e,s,t){let i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*s.parentNode[t])):i=e,i}const Ie=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),ra=["top","right","bottom","left"];function Pt(e,s,t){const i={};t=t?"-"+t:"";for(let n=0;n<4;n++){const o=ra[n];i[o]=parseFloat(e[s+"-"+o+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const aa=(e,s,t)=>(e>0||s>0)&&(!t||!t.shadowRoot);function It(e,s){if("native"in e)return e;const{canvas:t,currentDevicePixelRatio:i}=s,n=Ie(t),o="border-box"===n.boxSizing,a=Pt(n,"padding"),l=Pt(n,"border","width"),{x:c,y:d,box:h}=function la(e,s){const t=e.touches,i=t&&t.length?t[0]:e,{offsetX:n,offsetY:o}=i;let l,c,a=!1;if(aa(n,o,e.target))l=n,c=o;else{const d=s.getBoundingClientRect();l=i.clientX-d.left,c=i.clientY-d.top,a=!0}return{x:l,y:c,box:a}}(e,t),u=a.left+(h&&l.left),f=a.top+(h&&l.top);let{width:g,height:m}=s;return o&&(g-=a.width+l.width,m-=a.height+l.height),{x:Math.round((c-u)/g*t.width/i),y:Math.round((d-f)/m*t.height/i)}}const Ct=e=>Math.round(10*e)/10;function Es(e,s,t){const i=s||1,n=Ct(e.height*i),o=Ct(e.width*i);e.height=Ct(e.height),e.width=Ct(e.width);const a=e.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==i||a.height!==n||a.width!==o)&&(e.currentDevicePixelRatio=i,a.height=n,a.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0)}const ha=function(){let e=!1;try{const s={get passive(){return e=!0,!1}};vi()&&(window.addEventListener("test",null,s),window.removeEventListener("test",null,s))}catch{}return e}();function Os(e,s){const t=function oa(e,s){return Ie(e).getPropertyValue(s)}(e,s),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function jt(e,s,t,i){return{x:e.x+t*(s.x-e.x),y:e.y+t*(s.y-e.y)}}function ua(e,s,t,i){return{x:e.x+t*(s.x-e.x),y:"middle"===i?t<.5?e.y:s.y:"after"===i?t<1?e.y:s.y:t>0?s.y:e.y}}function fa(e,s,t,i){const n={x:e.cp2x,y:e.cp2y},o={x:s.cp1x,y:s.cp1y},a=jt(e,n,t),l=jt(n,o,t),c=jt(o,s,t),d=jt(a,l,t),h=jt(l,c,t);return jt(d,h,t)}function Xt(e,s,t){return e?function(e,s){return{x:t=>e+e+s-t,setWidth(t){s=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,i)=>t-i,leftForLtr:(t,i)=>t-i}}(s,t):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,s)=>e+s,leftForLtr:(e,s)=>e}}function Ts(e,s){let t,i;("ltr"===s||"rtl"===s)&&(t=e.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",s,"important"),e.prevTextDirection=i)}function Ps(e,s){void 0!==s&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",s[0],s[1]))}function Is(e){return"angle"===e?{between:ne,compare:mr,normalize:X}:{between:pt,compare:(s,t)=>s-t,normalize:s=>s}}function js({start:e,end:s,count:t,loop:i,style:n}){return{start:e%t,end:s%t,loop:i&&(s-e+1)%t==0,style:n}}function Ls(e,s,t){if(!t)return[e];const{property:i,start:n,end:o}=t,a=s.length,{compare:l,between:c,normalize:d}=Is(i),{start:h,end:u,loop:f,style:g}=function ma(e,s,t){const{property:i,start:n,end:o}=t,{between:a,normalize:l}=Is(i),c=s.length;let f,g,{start:d,end:h,loop:u}=e;if(u){for(d+=c,h+=c,f=0,g=c;f<g&&a(l(s[d%c][i]),n,o);++f)d--,h--;d%=c,h%=c}return h<d&&(h+=c),{start:d,end:h,loop:u,style:e.style}}(e,s,t),m=[];let x,_,v,p=!1,b=null;for(let S=h,C=h;S<=u;++S)_=s[S%a],!_.skip&&(x=d(_[i]),x!==v&&(p=c(x,n,o),null===b&&(p||c(n,v,x)&&0!==l(n,v))&&(b=0===l(x,n)?S:C),null!==b&&(!p||0===l(o,x)||c(o,v,x))&&(m.push(js({start:b,end:S,loop:f,count:a,style:g})),b=null),C=S,v=x));return null!==b&&m.push(js({start:b,end:u,loop:f,count:a,style:g})),m}function Bs(e,s){const t=[],i=e.segments;for(let n=0;n<i.length;n++){const o=Ls(i[n],e.points,s);o.length&&t.push(...o)}return t}function $s(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function va(e,s){if(!s)return!1;const t=[],i=function(n,o){return ui(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(e,i)!==JSON.stringify(s,i)}function je(e,s,t){return e.options.clip?e[t]:s[t]}function zs(e,s){const t=s._clip;if(t.disabled)return!1;const i=function ka(e,s){const{xScale:t,yScale:i}=e;return t&&i?{left:je(t,s,"left"),right:je(t,s,"right"),top:je(i,s,"top"),bottom:je(i,s,"bottom")}:s}(s,e.chartArea);return{left:!1===t.left?0:i.left-(!0===t.left?0:t.left),right:!1===t.right?e.width:i.right+(!0===t.right?0:t.right),top:!1===t.top?0:i.top-(!0===t.top?0:t.top),bottom:!1===t.bottom?e.height:i.bottom+(!0===t.bottom?0:t.bottom)}}class wa{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(s,t,i,n){const a=t.duration;t.listeners[n].forEach(l=>l({chart:s,initial:t.initial,numSteps:a,currentStep:Math.min(i-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=hs.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(s=Date.now()){let t=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;const o=i.items;let c,a=o.length-1,l=!1;for(;a>=0;--a)c=o[a],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(s),l=!0):(o[a]=o[o.length-1],o.pop());l&&(n.draw(),this._notify(n,i,s,"progress")),o.length||(i.running=!1,this._notify(n,i,s,"complete"),i.initial=!1),t+=o.length}),this._lastDate=s,0===t&&(this._running=!1)}_getAnims(s){const t=this._charts;let i=t.get(s);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(s,i)),i}listen(s,t,i){this._getAnims(s).listeners[t].push(i)}add(s,t){!t||!t.length||this._getAnims(s).items.push(...t)}has(s){return this._getAnims(s).items.length>0}start(s){const t=this._charts.get(s);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(s){if(!this._running)return!1;const t=this._charts.get(s);return!(!t||!t.running||!t.items.length)}stop(s){const t=this._charts.get(s);if(!t||!t.items.length)return;const i=t.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();t.items=[],this._notify(s,t,Date.now(),"complete")}remove(s){return this._charts.delete(s)}}var xt=new wa;const Us="transparent",Sa={boolean:(e,s,t)=>t>.5?s:e,color(e,s,t){const i=bs(e||Us),n=i.valid&&bs(s||Us);return n&&n.valid?n.mix(i,t).hexString():s},number:(e,s,t)=>e+(s-e)*t};class Ma{constructor(s,t,i,n){const o=t[i];n=ce([s.to,n,o,s.from]);const a=ce([s.from,o,n]);this._active=!0,this._fn=s.fn||Sa[s.type||typeof a],this._easing=oe[s.easing]||oe.linear,this._start=Math.floor(Date.now()+(s.delay||0)),this._duration=this._total=Math.floor(s.duration),this._loop=!!s.loop,this._target=t,this._prop=i,this._from=a,this._to=n,this._promises=void 0}active(){return this._active}update(s,t,i){if(this._active){this._notify(!1);const n=this._target[this._prop],o=i-this._start,a=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(a,s.duration)),this._total+=o,this._loop=!!s.loop,this._to=ce([s.to,t,n,s.from]),this._from=ce([s.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(s){const t=s-this._start,i=this._duration,n=this._prop,o=this._from,a=this._loop,l=this._to;let c;if(this._active=o!==l&&(a||t<i),!this._active)return this._target[n]=l,void this._notify(!0);t<0?this._target[n]=o:(c=t/i%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[n]=this._fn(o,l,c))}wait(){const s=this._promises||(this._promises=[]);return new Promise((t,i)=>{s.push({res:t,rej:i})})}_notify(s){const t=s?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][t]()}}class Vs{constructor(s,t){this._chart=s,this._properties=new Map,this.configure(t)}configure(s){if(!E(s))return;const t=Object.keys(N.animation),i=this._properties;Object.getOwnPropertyNames(s).forEach(n=>{const o=s[n];if(!E(o))return;const a={};for(const l of t)a[l]=o[l];(L(o.properties)&&o.properties||[n]).forEach(l=>{(l===n||!i.has(l))&&i.set(l,a)})})}_animateOptions(s,t){const i=t.options,n=function Fa(e,s){if(!s)return;let t=e.options;if(t)return t.$shared&&(e.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;e.options=s}(s,i);if(!n)return[];const o=this._createAnimations(n,i);return i.$shared&&function Ca(e,s){const t=[],i=Object.keys(s);for(let n=0;n<i.length;n++){const o=e[i[n]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}(s.options.$animations,i).then(()=>{s.options=i},()=>{}),o}_createAnimations(s,t){const i=this._properties,n=[],o=s.$animations||(s.$animations={}),a=Object.keys(t),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const d=a[c];if("$"===d.charAt(0))continue;if("options"===d){n.push(...this._animateOptions(s,t));continue}const h=t[d];let u=o[d];const f=i.get(d);if(u){if(f&&u.active()){u.update(f,h,l);continue}u.cancel()}f&&f.duration?(o[d]=u=new Ma(f,s,d,h),n.push(u)):s[d]=h}return n}update(s,t){if(0===this._properties.size)return void Object.assign(s,t);const i=this._createAnimations(s,t);return i.length?(xt.add(this._chart,i),!0):void 0}}function Hs(e,s){const t=e&&e.options||{},i=t.reverse,n=void 0===t.min?s:0,o=void 0===t.max?s:0;return{start:i?o:n,end:i?n:o}}function Ws(e,s){const t=[],i=e._getSortedDatasetMetas(s);let n,o;for(n=0,o=i.length;n<o;++n)t.push(i[n].index);return t}function Gs(e,s,t,i={}){const n=e.keys,o="single"===i.mode;let a,l,c,d;if(null===s)return;let h=!1;for(a=0,l=n.length;a<l;++a){if(c=+n[a],c===t){if(h=!0,i.all)continue;break}d=e.values[c],z(d)&&(o||0===s||ct(s)===ct(d))&&(s+=d)}return h||i.all?s:0}function wi(e,s){const t=e&&e.options.stacked;return t||void 0===t&&void 0!==s.stack}function Ta(e,s,t){const i=e[s]||(e[s]={});return i[t]||(i[t]={})}function Ys(e,s,t,i){for(const n of s.getMatchingVisibleMetas(i).reverse()){const o=e[n.index];if(t&&o>0||!t&&o<0)return n.index}return null}function Xs(e,s){const{chart:t,_cachedMeta:i}=e,n=t._stacks||(t._stacks={}),{iScale:o,vScale:a,index:l}=i,c=o.axis,d=a.axis,h=function Ea(e,s,t){return`${e.id}.${s.id}.${t.stack||t.type}`}(o,a,i),u=s.length;let f;for(let g=0;g<u;++g){const m=s[g],{[c]:p,[d]:b}=m;f=(m._stacks||(m._stacks={}))[d]=Ta(n,h,p),f[l]=b,f._top=Ys(f,a,!0,i.type),f._bottom=Ys(f,a,!1,i.type),(f._visualValues||(f._visualValues={}))[l]=b}}function Si(e,s){const t=e.scales;return Object.keys(t).filter(i=>t[i].axis===s).shift()}function de(e,s){const t=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){s=s||e._parsed;for(const n of s){const o=n._stacks;if(!o||void 0===o[i]||void 0===o[i][t])return;delete o[i][t],void 0!==o[i]._visualValues&&void 0!==o[i]._visualValues[t]&&delete o[i]._visualValues[t]}}}const Mi=e=>"reset"===e||"none"===e,Js=(e,s)=>s?e:Object.assign({},e);let Ft=(()=>class e{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=wi(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&de(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,n=this.getDataset(),o=(f,g,m,p)=>"x"===f?g:"r"===f?p:m,a=i.xAxisID=F(n.xAxisID,Si(t,"x")),l=i.yAxisID=F(n.yAxisID,Si(t,"y")),c=i.rAxisID=F(n.rAxisID,Si(t,"r")),d=i.indexAxis,h=i.iAxisID=o(d,a,l,c),u=i.vAxisID=o(d,l,a,c);i.xScale=this.getScaleForId(a),i.yScale=this.getScaleForId(l),i.rScale=this.getScaleForId(c),i.iScale=this.getScaleForId(h),i.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&cs(this._data,this),t._stacked&&de(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),n=this._data;if(E(i))this._data=function Aa(e,s){const{iScale:t,vScale:i}=s,n="x"===t.axis?"x":"y",o="x"===i.axis?"x":"y",a=Object.keys(e),l=new Array(a.length);let c,d,h;for(c=0,d=a.length;c<d;++c)h=a[c],l[c]={[n]:h,[o]:e[h]};return l}(i,this._cachedMeta);else if(n!==i){if(n){cs(n,this);const o=this._cachedMeta;de(o),o._parsed=[]}i&&Object.isExtensible(i)&&function yr(e,s){e._chartjs?e._chartjs.listeners.push(s):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),ls.forEach(t=>{const i="_onData"+ai(t),n=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...o){const a=n.apply(this,o);return e._chartjs.listeners.forEach(l=>{"function"==typeof l[i]&&l[i](...o)}),a}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,n=this.getDataset();let o=!1;this._dataCheck();const a=i._stacked;i._stacked=wi(i.vScale,i),i.stack!==n.stack&&(o=!0,de(i),i.stack=n.stack),this._resyncElements(t),(o||a!==i._stacked)&&(Xs(this,i._parsed),i._stacked=wi(i.vScale,i))}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:n,_data:o}=this,{iScale:a,_stacked:l}=n,c=a.axis;let u,f,g,d=0===t&&i===o.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=o,n._sorted=!0,g=o;else{g=L(o[t])?this.parseArrayData(n,o,t,i):E(o[t])?this.parseObjectData(n,o,t,i):this.parsePrimitiveData(n,o,t,i);const m=()=>null===f[c]||h&&f[c]<h[c];for(u=0;u<i;++u)n._parsed[u+t]=f=g[u],d&&(m()&&(d=!1),h=f);n._sorted=d}l&&Xs(this,g)}parsePrimitiveData(t,i,n,o){const{iScale:a,vScale:l}=t,c=a.axis,d=l.axis,h=a.getLabels(),u=a===l,f=new Array(o);let g,m,p;for(g=0,m=o;g<m;++g)p=g+n,f[g]={[c]:u||a.parse(h[p],p),[d]:l.parse(i[p],p)};return f}parseArrayData(t,i,n,o){const{xScale:a,yScale:l}=t,c=new Array(o);let d,h,u,f;for(d=0,h=o;d<h;++d)u=d+n,f=i[u],c[d]={x:a.parse(f[0],u),y:l.parse(f[1],u)};return c}parseObjectData(t,i,n,o){const{xScale:a,yScale:l}=t,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=new Array(o);let u,f,g,m;for(u=0,f=o;u<f;++u)g=u+n,m=i[g],h[u]={x:a.parse(kt(m,c),g),y:l.parse(kt(m,d),g)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,n){const a=this._cachedMeta,l=i[t.axis];return Gs({keys:Ws(this.chart,!0),values:i._stacks[t.axis]._visualValues},l,a.index,{mode:n})}updateRangeFromParsed(t,i,n,o){const a=n[i.axis];let l=null===a?NaN:a;const c=o&&n._stacks[i.axis];o&&c&&(o.values=c,l=Gs(o,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,i){const n=this._cachedMeta,o=n._parsed,a=n._sorted&&t===n.iScale,l=o.length,c=this._getOtherScale(t),d=((e,s,t)=>e&&!s.hidden&&s._stacked&&{keys:Ws(this.chart,!0),values:null})(i,n),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=function Oa(e){const{min:s,max:t,minDefined:i,maxDefined:n}=e.getUserBounds();return{min:i?s:Number.NEGATIVE_INFINITY,max:n?t:Number.POSITIVE_INFINITY}}(c);let g,m;function p(){m=o[g];const b=m[c.axis];return!z(m[t.axis])||u>b||f<b}for(g=0;g<l&&(p()||(this.updateRangeFromParsed(h,t,m,d),!a));++g);if(a)for(g=l-1;g>=0;--g)if(!p()){this.updateRangeFromParsed(h,t,m,d);break}return h}getAllParsedValues(t){const i=this._cachedMeta._parsed,n=[];let o,a,l;for(o=0,a=i.length;o<a;++o)l=i[o][t.axis],z(l)&&n.push(l);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,n=i.iScale,o=i.vScale,a=this.getParsed(t);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=function Ra(e){let s,t,i,n;return E(e)?(s=e.top,t=e.right,i=e.bottom,n=e.left):s=t=i=n=e,{top:s,right:t,bottom:i,left:n,disabled:!1===e}}(F(this.options.clip,function Da(e,s,t){if(!1===t)return!1;const i=Hs(e,t),n=Hs(s,t);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this._cachedMeta,o=n.data||[],a=this.chart.chartArea,l=[],c=this._drawStart||0,d=this._drawCount||o.length-c,h=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,a,c,d),u=c;u<c+d;++u){const f=o[u];f.hidden||(f.active&&h?l.push(f):f.draw(t,a))}for(u=0;u<l.length;++u)l[u].draw(t,a)}getStyle(t,i){const n=i?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,i,n){const o=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=function Ia(e,s,t){return Mt(e,{active:!1,dataIndex:s,parsed:void 0,raw:void 0,element:t,index:s,mode:"default",type:"data"})}(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=o.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=function Pa(e,s){return Mt(e,{active:!1,dataset:void 0,datasetIndex:s,index:s,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=o,a.index=a.datasetIndex=this.index;return a.active=!!i,a.mode=n,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",n){const o="active"===i,a=this._cachedDataOpts,l=t+"-"+i,c=a[l],d=this.enableOptionSharing&&ie(n);if(c)return Js(c,d);const h=this.chart.config,u=h.datasetElementScopeKeys(this._type,t),f=o?[`${t}Hover`,"hover",t,""]:[t,""],g=h.getOptionScopes(this.getDataset(),u),m=Object.keys(N.elements[t]),b=h.resolveNamedOptions(g,m,()=>this.getContext(n,o,i),f);return b.$shared&&(b.$shared=d,a[l]=Object.freeze(Js(b,d))),b}_resolveAnimations(t,i,n){const o=this.chart,a=this._cachedDataOpts,l=`animation-${i}`,c=a[l];if(c)return c;let d;if(!1!==o.options.animation){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,i),g=u.getOptionScopes(this.getDataset(),f);d=u.createResolver(g,this.getContext(t,n,i))}const h=new Vs(o,d&&d.animations);return d&&d._cacheable&&(a[l]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||Mi(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){const n=this.resolveDataElementOptions(t,i),o=this._sharedOptions,a=this.getSharedOptions(n),l=this.includeOptions(i,a)||a!==o;return this.updateSharedOptions(a,i,n),{sharedOptions:a,includeOptions:l}}updateElement(t,i,n,o){Mi(o)?Object.assign(t,n):this._resolveAnimations(i,o).update(t,n)}updateSharedOptions(t,i,n){t&&!Mi(i)&&this._resolveAnimations(void 0,i).update(t,n)}_setStyle(t,i,n,o){t.active=o;const a=this.getStyle(i,o);this._resolveAnimations(i,n,o).update(t,{options:!o&&this.getSharedOptions(a)||a})}removeHoverStyle(t,i,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,i,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,n=this._cachedMeta.data;for(const[c,d,h]of this._syncList)this[c](d,h);this._syncList=[];const o=n.length,a=i.length,l=Math.min(a,o);l&&this.parse(0,l),a>o?this._insertElements(o,a-o,t):a<o&&this._removeElements(a,o-a)}_insertElements(t,i,n=!0){const o=this._cachedMeta,a=o.data,l=t+i;let c;const d=h=>{for(h.length+=i,c=h.length-1;c>=l;c--)h[c]=h[c-i]};for(d(a),c=t;c<l;++c)a[c]=new this.dataElementType;this._parsing&&d(o._parsed),this.parse(t,i),n&&this.updateElements(a,t,i,"reset")}updateElements(t,i,n,o){}_removeElements(t,i){const n=this._cachedMeta;if(this._parsing){const o=n._parsed.splice(t,i);n._stacked&&de(n,o)}n.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,n,o]=t;this[i](n,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function Ba(e){const s=e.iScale,t=function La(e,s){if(!e._cache.$bar){const t=e.getMatchingVisibleMetas(s);let i=[];for(let n=0,o=t.length;n<o;n++)i=i.concat(t[n].controller.getAllParsedValues(e));e._cache.$bar=ds(i.sort((n,o)=>n-o))}return e._cache.$bar}(s,e.type);let n,o,a,l,i=s._length;const c=()=>{32767===a||-32768===a||(ie(l)&&(i=Math.min(i,Math.abs(a-l)||i)),l=a)};for(n=0,o=t.length;n<o;++n)a=s.getPixelForValue(t[n]),c();for(l=void 0,n=0,o=s.ticks.length;n<o;++n)a=s.getPixelForTick(n),c();return i}function Ks(e,s,t,i){return L(e)?function za(e,s,t,i){const n=t.parse(e[0],i),o=t.parse(e[1],i),a=Math.min(n,o),l=Math.max(n,o);let c=a,d=l;Math.abs(a)>Math.abs(l)&&(c=l,d=a),s[t.axis]=d,s._custom={barStart:c,barEnd:d,start:n,end:o,min:a,max:l}}(e,s,t,i):s[t.axis]=t.parse(e,i),s}function qs(e,s,t,i){const n=e.iScale,o=e.vScale,a=n.getLabels(),l=n===o,c=[];let d,h,u,f;for(d=t,h=t+i;d<h;++d)f=s[d],u={},u[n.axis]=l||n.parse(a[d],d),c.push(Ks(f,u,o,d));return c}function Ci(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Ha(e,s,t,i){let n=s.borderSkipped;const o={};if(!n)return void(e.borderSkipped=o);if(!0===n)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:l,reverse:c,top:d,bottom:h}=function Va(e){let s,t,i,n,o;return e.horizontal?(s=e.base>e.x,t="left",i="right"):(s=e.base<e.y,t="bottom",i="top"),s?(n="end",o="start"):(n="start",o="end"),{start:t,end:i,reverse:s,top:n,bottom:o}}(e);"middle"===n&&t&&(e.enableBorderRadius=!0,(t._top||0)===i?n=d:(t._bottom||0)===i?n=h:(o[Zs(h,a,l,c)]=!0,n=d)),o[Zs(n,a,l,c)]=!0,e.borderSkipped=o}function Zs(e,s,t,i){return i?(e=function Wa(e,s,t){return e===s?t:e===t?s:e}(e,s,t),e=Qs(e,t,s)):e=Qs(e,s,t),e}function Qs(e,s,t){return"start"===e?s:"end"===e?t:e}function Ga(e,{inflateAmount:s},t){e.inflateAmount="auto"===s?1===t?.33:0:s}let Ya=(()=>class e extends Ft{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,i,n,o){return qs(t,i,n,o)}parseArrayData(t,i,n,o){return qs(t,i,n,o)}parseObjectData(t,i,n,o){const{iScale:a,vScale:l}=t,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h="x"===a.axis?c:d,u="x"===l.axis?c:d,f=[];let g,m,p,b;for(g=n,m=n+o;g<m;++g)b=i[g],p={},p[a.axis]=a.parse(kt(b,h),g),f.push(Ks(kt(b,u),p,l,g));return f}updateRangeFromParsed(t,i,n,o){super.updateRangeFromParsed(t,i,n,o);const a=n._custom;a&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const i=this._cachedMeta,{iScale:n,vScale:o}=i,a=this.getParsed(t),l=a._custom,c=Ci(l)?"["+l.start+", "+l.end+"]":""+o.getLabelForValue(a[o.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,n,o){const a="reset"===o,{index:l,_cachedMeta:{vScale:c}}=this,d=c.getBasePixel(),h=c.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:g}=this._getSharedOptions(i,o);for(let m=i;m<i+n;m++){const p=this.getParsed(m),b=a||A(p[c.axis])?{base:d,head:d}:this._calculateBarValuePixels(m),x=this._calculateBarIndexPixels(m,u),_=(p._stacks||{})[c.axis],v={horizontal:h,base:b.base,enableBorderRadius:!_||Ci(p._custom)||l===_._top||l===_._bottom,x:h?b.head:x.center,y:h?x.center:b.head,height:h?x.size:Math.abs(b.size),width:h?Math.abs(b.size):x.size};g&&(v.options=f||this.resolveDataElementOptions(m,t[m].active?"active":o));const w=v.options||t[m].options;Ha(v,w,_,l),Ga(v,w,u.ratio),this.updateElement(t[m],m,v,o)}}_getStacks(t,i){const{iScale:n}=this._cachedMeta,o=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),a=n.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(i),d=c&&c[n.axis],h=u=>{const f=u._parsed.find(m=>m[n.axis]===d),g=f&&f[u.vScale.axis];if(A(g)||isNaN(g))return!0};for(const u of o)if((void 0===i||!h(u))&&((!1===a||-1===l.indexOf(u.stack)||void 0===a&&void 0===u.stack)&&l.push(u.stack),u.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,i=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===i).shift()}_getAxis(){const t={},i=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[F("x"===this.chart.options.indexAxis?n.xAxisID:n.yAxisID,i)]=!0;return Object.keys(t)}_getStackIndex(t,i,n){const o=this._getStacks(t,n),a=void 0!==i?o.indexOf(i):-1;return-1===a?o.length-1:a}_getRuler(){const t=this.options,i=this._cachedMeta,n=i.iScale,o=[];let a,l;for(a=0,l=i.data.length;a<l;++a)o.push(n.getPixelForValue(this.getParsed(a)[n.axis],a));const c=t.barThickness;return{min:c||Ba(i),pixels:o,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:i,_stacked:n,index:o},options:{base:a,minBarLength:l}}=this,c=a||0,d=this.getParsed(t),h=d._custom,u=Ci(h);let p,b,f=d[i.axis],g=0,m=n?this.applyStack(i,d,n):f;m!==f&&(g=m-f,m=f),u&&(f=h.barStart,m=h.barEnd-h.barStart,0!==f&&ct(f)!==ct(h.barEnd)&&(g=0),g+=f);const x=A(a)||u?g:a;let _=i.getPixelForValue(x);if(p=this.chart.getDataVisibility(t)?i.getPixelForValue(g+m):_,b=p-_,Math.abs(b)<l){b=function Ua(e,s,t){return 0!==e?ct(e):(s.isHorizontal()?1:-1)*(s.min>=t?1:-1)}(b,i,c)*l,f===c&&(_-=b/2);const v=i.getPixelForDecimal(0),w=i.getPixelForDecimal(1),y=Math.min(v,w),k=Math.max(v,w);_=Math.max(Math.min(_,k),y),p=_+b,n&&!u&&(d._stacks[i.axis]._visualValues[o]=i.getValueForPixel(p)-i.getValueForPixel(_))}if(_===i.getPixelForValue(c)){const v=ct(b)*i.getLineWidthForValue(c)/2;_+=v,b-=v}return{size:b,base:_,head:p,center:p+b/2}}_calculateBarIndexPixels(t,i){const n=i.scale,o=this.options,a=o.skipNull,l=F(o.maxBarThickness,1/0);let c,d;const h=this._getAxisCount();if(i.grouped){const u=a?this._getStackCount(t):i.stackCount,f="flex"===o.barThickness?function $a(e,s,t,i){const n=s.pixels,o=n[e];let a=e>0?n[e-1]:null,l=e<n.length-1?n[e+1]:null;const c=t.categoryPercentage;null===a&&(a=o-(null===l?s.end-s.start:l-o)),null===l&&(l=o+o-a);const d=o-(o-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/i,ratio:t.barPercentage,start:d}}(t,i,o,u*h):function Na(e,s,t,i){const n=t.barThickness;let o,a;return A(n)?(o=s.min*t.categoryPercentage,a=t.barPercentage):(o=n*i,a=1),{chunk:o/i,ratio:a,start:s.pixels[e]-o/2}}(t,i,o,u*h),g="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(F(g,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+m;c=f.start+f.chunk*p+f.chunk/2,d=Math.min(l,f.chunk*f.ratio)}else c=n.getPixelForValue(this.getParsed(t)[n.axis],t),d=Math.min(l,i.min*i.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}}draw(){const t=this._cachedMeta,i=t.vScale,n=t.data,o=n.length;let a=0;for(;a<o;++a)null!==this.getParsed(a)[i.axis]&&!n[a].hidden&&n[a].draw(this._ctx)}})(),Xa=(()=>class e extends Ft{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,n,o){const a=super.parsePrimitiveData(t,i,n,o);for(let l=0;l<a.length;l++)a[l]._custom=this.resolveDataElementOptions(l+n).radius;return a}parseArrayData(t,i,n,o){const a=super.parseArrayData(t,i,n,o);for(let l=0;l<a.length;l++)a[l]._custom=F(i[n+l][2],this.resolveDataElementOptions(l+n).radius);return a}parseObjectData(t,i,n,o){const a=super.parseObjectData(t,i,n,o);for(let l=0;l<a.length;l++){const c=i[n+l];a[l]._custom=F(c&&c.r&&+c.r,this.resolveDataElementOptions(l+n).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let i=0;for(let n=t.length-1;n>=0;--n)i=Math.max(i,t[n].size(this.resolveDataElementOptions(n))/2);return i>0&&i}getLabelAndValue(t){const i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:o,yScale:a}=i,l=this.getParsed(t),c=o.getLabelForValue(l.x),d=a.getLabelForValue(l.y),h=l._custom;return{label:n[t]||"",value:"("+c+", "+d+(h?", "+h:"")+")"}}update(t){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,n,o){const a="reset"===o,{iScale:l,vScale:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(i,o),u=l.axis,f=c.axis;for(let g=i;g<i+n;g++){const m=t[g],p=!a&&this.getParsed(g),b={},x=b[u]=a?l.getPixelForDecimal(.5):l.getPixelForValue(p[u]),_=b[f]=a?c.getBasePixel():c.getPixelForValue(p[f]);b.skip=isNaN(x)||isNaN(_),h&&(b.options=d||this.resolveDataElementOptions(g,m.active?"active":o),a&&(b.options.radius=0)),this.updateElement(m,g,b,o)}}resolveDataElementOptions(t,i){const n=this.getParsed(t);let o=super.resolveDataElementOptions(t,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const a=o.radius;return"active"!==i&&(o.radius=0),o.radius+=F(n&&n._custom,a),o}})(),Fi=(()=>class e extends Ft{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const i=t.data,{labels:{pointStyle:n,textAlign:o,color:a,useBorderRadius:l,borderRadius:c}}=t.legend.options;return i.labels.length&&i.datasets.length?i.labels.map((d,h)=>{const f=t.getDatasetMeta(0).controller.getStyle(h);return{text:d,fillStyle:f.backgroundColor,fontColor:a,hidden:!t.getDataVisibility(h),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:o,pointStyle:n,borderRadius:l&&(c||f.borderRadius),index:h}}):[]}},onClick(t,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}}};constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){const n=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=n;else{let l,c,a=d=>+n[d];if(E(n[t])){const{key:d="value"}=this._parsing;a=h=>+kt(n[h],d)}for(l=t,c=t+i;l<c;++l)o._parsed[l]=a(l)}}_getRotation(){return at(this.options.rotation-90)}_getCircumference(){return at(this.options.circumference)}_getRotationExtents(){let t=B,i=-B;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const o=this.chart.getDatasetMeta(n).controller,a=o._getRotation(),l=o._getCircumference();t=Math.min(t,a),i=Math.max(i,a+l)}return{rotation:t,circumference:i-t}}update(t){const i=this.chart,{chartArea:n}=i,o=this._cachedMeta,a=o.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(n.width,n.height)-l)/2,0),d=Math.min(((e,s)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/s)(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:g,ratioY:m,offsetX:p,offsetY:b}=function Ja(e,s,t){let i=1,n=1,o=0,a=0;if(s<B){const l=e,c=l+s,d=Math.cos(l),h=Math.sin(l),u=Math.cos(c),f=Math.sin(c),g=(v,w,y)=>ne(v,l,c,!0)?1:Math.max(w,w*t,y,y*t),m=(v,w,y)=>ne(v,l,c,!0)?-1:Math.min(w,w*t,y,y*t),p=g(0,d,u),b=g(U,h,f),x=m(T,d,u),_=m(T+U,h,f);i=(p-x)/2,n=(b-_)/2,o=-(p+x)/2,a=-(b+_)/2}return{ratioX:i,ratioY:n,offsetX:o,offsetY:a}}(f,u,d),v=Math.max(Math.min((n.width-l)/g,(n.height-l)/m)/2,0),w=Qi(this.options.radius,v),k=(w-Math.max(w*d,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*w,this.offsetY=b*w,o.total=this.calculateTotal(),this.outerRadius=w-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*h,0),this.updateElements(a,0,a.length,t)}_circumference(t,i){const n=this.options,o=this._cachedMeta,a=this._getCircumference();return i&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===o._parsed[t]||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*a/B)}updateElements(t,i,n,o){const a="reset"===o,l=this.chart,c=l.chartArea,u=(c.left+c.right)/2,f=(c.top+c.bottom)/2,g=a&&l.options.animation.animateScale,m=g?0:this.innerRadius,p=g?0:this.outerRadius,{sharedOptions:b,includeOptions:x}=this._getSharedOptions(i,o);let v,_=this._getRotation();for(v=0;v<i;++v)_+=this._circumference(v,a);for(v=i;v<i+n;++v){const w=this._circumference(v,a),y=t[v],k={x:u+this.offsetX,y:f+this.offsetY,startAngle:_,endAngle:_+w,circumference:w,outerRadius:p,innerRadius:m};x&&(k.options=b||this.resolveDataElementOptions(v,y.active?"active":o)),_+=w,this.updateElement(y,v,k,o)}}calculateTotal(){const t=this._cachedMeta,i=t.data;let o,n=0;for(o=0;o<i.length;o++){const a=t._parsed[o];null!==a&&!isNaN(a)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(n+=Math.abs(a))}return n}calculateCircumference(t){const i=this._cachedMeta.total;return i>0&&!isNaN(t)?B*(Math.abs(t)/i):0}getLabelAndValue(t){const n=this.chart,o=n.data.labels||[],a=re(this._cachedMeta._parsed[t],n.options.locale);return{label:o[t]||"",value:a}}getMaxBorderWidth(t){let i=0;const n=this.chart;let o,a,l,c,d;if(!t)for(o=0,a=n.data.datasets.length;o<a;++o)if(n.isDatasetVisible(o)){l=n.getDatasetMeta(o),t=l.data,c=l.controller;break}if(!t)return 0;for(o=0,a=t.length;o<a;++o)d=c.resolveDataElementOptions(o),"inner"!==d.borderAlign&&(i=Math.max(i,d.borderWidth||0,d.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let n=0,o=t.length;n<o;++n){const a=this.resolveDataElementOptions(n);i=Math.max(i,a.offset||0,a.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(i+=this._getRingWeight(n));return i}_getRingWeight(t){return Math.max(F(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),Ka=(()=>class e extends Ft{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const i=this._cachedMeta,{dataset:n,data:o=[],_dataset:a}=i,l=this.chart._animationsDisabled;let{start:c,count:d}=fs(i,o,l);this._drawStart=c,this._drawCount=d,gs(i)&&(c=0,d=o.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=o;const h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(n,void 0,{animated:!l,options:h},t),this.updateElements(o,c,d,t)}updateElements(t,i,n,o){const a="reset"===o,{iScale:l,vScale:c,_stacked:d,_dataset:h}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(i,o),g=l.axis,m=c.axis,{spanGaps:p,segment:b}=this.options,x=Wt(p)?p:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||a||"none"===o,v=i+n,w=t.length;let y=i>0&&this.getParsed(i-1);for(let k=0;k<w;++k){const M=t[k],S=_?M:{};if(k<i||k>=v){S.skip=!0;continue}const C=this.getParsed(k),R=A(C[m]),D=S[g]=l.getPixelForValue(C[g],k),O=S[m]=a||R?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,C,d):C[m],k);S.skip=isNaN(D)||isNaN(O)||R,S.stop=k>0&&Math.abs(C[g]-y[g])>x,b&&(S.parsed=C,S.raw=h.data[k]),f&&(S.options=u||this.resolveDataElementOptions(k,M.active?"active":o)),_||this.updateElement(M,k,S,o),y=C}}getMaxOverflow(){const t=this._cachedMeta,i=t.dataset,n=i.options&&i.options.borderWidth||0,o=t.data||[];if(!o.length)return n;const a=o[0].size(this.resolveDataElementOptions(0)),l=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(n,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}})(),tn=(()=>class e extends Ft{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const i=t.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:n,color:o}}=t.legend.options;return i.labels.map((a,l)=>{const d=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:o,lineWidth:d.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this.chart,o=n.data.labels||[],a=re(this._cachedMeta._parsed[t].r,n.options.locale);return{label:o[t]||"",value:a}}parseObjectData(t,i,n,o){return Rs.bind(this)(t,i,n,o)}update(t){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((n,o)=>{const a=this.getParsed(o).r;!isNaN(a)&&this.chart.getDataVisibility(o)&&(a<i.min&&(i.min=a),a>i.max&&(i.max=a))}),i}_updateRadius(){const t=this.chart,i=t.chartArea,n=t.options,o=Math.min(i.right-i.left,i.bottom-i.top),a=Math.max(o/2,0),c=(a-Math.max(n.cutoutPercentage?a/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=a-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,i,n,o){const a="reset"===o,l=this.chart,d=l.options.animation,h=this._cachedMeta.rScale,u=h.xCenter,f=h.yCenter,g=h.getIndexAngle(0)-.5*T;let p,m=g;const b=360/this.countVisibleElements();for(p=0;p<i;++p)m+=this._computeAngle(p,o,b);for(p=i;p<i+n;p++){const x=t[p];let _=m,v=m+this._computeAngle(p,o,b),w=l.getDataVisibility(p)?h.getDistanceFromCenterForValue(this.getParsed(p).r):0;m=v,a&&(d.animateScale&&(w=0),d.animateRotate&&(_=v=g));const y={x:u,y:f,innerRadius:0,outerRadius:w,startAngle:_,endAngle:v,options:this.resolveDataElementOptions(p,x.active?"active":o)};this.updateElement(x,p,y,o)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((n,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(t,i,n){return this.chart.getDataVisibility(t)?at(this.resolveDataElementOptions(t,i).angle||n):0}})();var qa=Object.freeze({__proto__:null,BarController:Ya,BubbleController:Xa,DoughnutController:Fi,LineController:Ka,PieController:(()=>class e extends Fi{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:tn,RadarController:(()=>class e extends Ft{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const i=this._cachedMeta.vScale,n=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(n[i.axis])}}parseObjectData(t,i,n,o){return Rs.bind(this)(t,i,n,o)}update(t){const i=this._cachedMeta,n=i.dataset,o=i.data||[],a=i.iScale.getLabels();if(n.points=o,"resize"!==t){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),this.updateElement(n,void 0,{_loop:!0,_fullLoop:a.length===o.length,options:l},t)}this.updateElements(o,0,o.length,t)}updateElements(t,i,n,o){const a=this._cachedMeta.rScale,l="reset"===o;for(let c=i;c<i+n;c++){const d=t[c],h=this.resolveDataElementOptions(c,d.active?"active":o),u=a.getPointPositionForValue(c,this.getParsed(c).r),f=l?a.xCenter:u.x,g=l?a.yCenter:u.y,m={x:f,y:g,angle:u.angle,skip:isNaN(f)||isNaN(g),options:h};this.updateElement(d,c,m,o)}}})(),ScatterController:(()=>class e extends Ft{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:o,yScale:a}=i,l=this.getParsed(t),c=o.getLabelForValue(l.x),d=a.getLabelForValue(l.y);return{label:n[t]||"",value:"("+c+", "+d+")"}}update(t){const i=this._cachedMeta,{data:n=[]}=i,o=this.chart._animationsDisabled;let{start:a,count:l}=fs(i,n,o);if(this._drawStart=a,this._drawCount=l,gs(i)&&(a=0,l=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:d}=i;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!d._decimated,c.points=n;const h=this.resolveDatasetElementOptions(t);h.segment=this.options.segment,this.updateElement(c,void 0,{animated:!o,options:h},t)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(n,a,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,i,n,o){const a="reset"===o,{iScale:l,vScale:c,_stacked:d,_dataset:h}=this._cachedMeta,u=this.resolveDataElementOptions(i,o),f=this.getSharedOptions(u),g=this.includeOptions(o,f),m=l.axis,p=c.axis,{spanGaps:b,segment:x}=this.options,_=Wt(b)?b:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||a||"none"===o;let w=i>0&&this.getParsed(i-1);for(let y=i;y<i+n;++y){const k=t[y],M=this.getParsed(y),S=v?k:{},C=A(M[p]),R=S[m]=l.getPixelForValue(M[m],y),D=S[p]=a||C?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,M,d):M[p],y);S.skip=isNaN(R)||isNaN(D)||C,S.stop=y>0&&Math.abs(M[m]-w[m])>_,x&&(S.parsed=M,S.raw=h.data[y]),g&&(S.options=f||this.resolveDataElementOptions(y,k.active?"active":o)),v||this.updateElement(k,y,S,o),w=M}this.updateSharedOptions(f,o,u)}getMaxOverflow(){const t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let c=0;for(let d=i.length-1;d>=0;--d)c=Math.max(c,i[d].size(this.resolveDataElementOptions(d))/2);return c>0&&c}const n=t.dataset,o=n.options&&n.options.borderWidth||0;if(!i.length)return o;const a=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,a,l)/2}})()});function Lt(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Di{static override(s){Object.assign(Di.prototype,s)}options;constructor(s){this.options=s||{}}init(){}formats(){return Lt()}parse(){return Lt()}format(){return Lt()}add(){return Lt()}diff(){return Lt()}startOf(){return Lt()}endOf(){return Lt()}}var Za__date=Di;function Qa(e,s,t,i){const{controller:n,data:o,_sorted:a}=e,l=n._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&s===l.axis&&"r"!==s&&a&&o.length){const d=l._reversePixels?xr:mt;if(!i){const h=d(o,s,t);if(c){const{vScale:u}=n._cachedMeta,{_parsed:f}=e,g=f.slice(0,h.lo+1).reverse().findIndex(p=>!A(p[u.axis]));h.lo-=Math.max(0,g);const m=f.slice(h.hi).findIndex(p=>!A(p[u.axis]));h.hi+=Math.max(0,m)}return h}if(n._sharedOptions){const h=o[0],u="function"==typeof h.getRange&&h.getRange(s);if(u){const f=d(o,s,t-u),g=d(o,s,t+u);return{lo:f.lo,hi:g.hi}}}}return{lo:0,hi:o.length-1}}function he(e,s,t,i,n){const o=e.getSortedVisibleDatasetMetas(),a=t[s];for(let l=0,c=o.length;l<c;++l){const{index:d,data:h}=o[l],{lo:u,hi:f}=Qa(o[l],s,a,n);for(let g=u;g<=f;++g){const m=h[g];m.skip||i(m,d,g)}}}function Ri(e,s,t,i,n){const o=[];return!n&&!e.isPointInArea(s)||he(e,t,s,function(l,c,d){!n&&!bt(l,e.chartArea,0)||l.inRange(s.x,s.y,i)&&o.push({element:l,datasetIndex:c,index:d})},!0),o}function Ai(e,s,t,i,n,o){return o||e.isPointInArea(s)?"r"!==t||i?function il(e,s,t,i,n,o){let a=[];const l=function tl(e){const s=-1!==e.indexOf("x"),t=-1!==e.indexOf("y");return function(i,n){const o=s?Math.abs(i.x-n.x):0,a=t?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}(t);let c=Number.POSITIVE_INFINITY;return he(e,t,s,function d(h,u,f){const g=h.inRange(s.x,s.y,n);if(i&&!g)return;const m=h.getCenterPoint(n);if(!o&&!e.isPointInArea(m)&&!g)return;const b=l(s,m);b<c?(a=[{element:h,datasetIndex:u,index:f}],c=b):b===c&&a.push({element:h,datasetIndex:u,index:f})}),a}(e,s,t,i,n,o):function el(e,s,t,i){let n=[];return he(e,t,s,function o(a,l,c){const{startAngle:d,endAngle:h}=a.getProps(["startAngle","endAngle"],i),{angle:u}=as(a,{x:s.x,y:s.y});ne(u,d,h)&&n.push({element:a,datasetIndex:l,index:c})}),n}(e,s,t,n):[]}function en(e,s,t,i,n){const o=[],a="x"===t?"inXRange":"inYRange";let l=!1;return he(e,t,s,(c,d,h)=>{c[a]&&c[a](s[t],n)&&(o.push({element:c,datasetIndex:d,index:h}),l=l||c.inRange(s.x,s.y,n))}),i&&!l?[]:o}var sl={evaluateInteractionItems:he,modes:{index(e,s,t,i){const n=It(s,e),o=t.axis||"x",a=t.includeInvisible||!1,l=t.intersect?Ri(e,n,o,i,a):Ai(e,n,o,!1,i,a),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const h=l[0].index,u=d.data[h];u&&!u.skip&&c.push({element:u,datasetIndex:d.index,index:h})}),c):[]},dataset(e,s,t,i){const n=It(s,e),o=t.axis||"xy",a=t.includeInvisible||!1;let l=t.intersect?Ri(e,n,o,i,a):Ai(e,n,o,!1,i,a);if(l.length>0){const c=l[0].datasetIndex,d=e.getDatasetMeta(c).data;l=[];for(let h=0;h<d.length;++h)l.push({element:d[h],datasetIndex:c,index:h})}return l},point:(e,s,t,i)=>Ri(e,It(s,e),t.axis||"xy",i,t.includeInvisible||!1),nearest:(e,s,t,i)=>Ai(e,It(s,e),t.axis||"xy",t.intersect,i,t.includeInvisible||!1),x:(e,s,t,i)=>en(e,It(s,e),"x",t.intersect,i),y:(e,s,t,i)=>en(e,It(s,e),"y",t.intersect,i)}};const sn=["left","top","right","bottom"];function ue(e,s){return e.filter(t=>t.pos===s)}function nn(e,s){return e.filter(t=>-1===sn.indexOf(t.pos)&&t.box.axis===s)}function fe(e,s){return e.sort((t,i)=>{const n=s?i:t,o=s?t:i;return n.weight===o.weight?n.index-o.index:n.weight-o.weight})}function on(e,s,t,i){return Math.max(e[t],s[t])+Math.max(e[i],s[i])}function rn(e,s){e.top=Math.max(e.top,s.top),e.left=Math.max(e.left,s.left),e.bottom=Math.max(e.bottom,s.bottom),e.right=Math.max(e.right,s.right)}function ll(e,s,t,i){const{pos:n,box:o}=t,a=e.maxPadding;if(!E(n)){t.size&&(e[n]-=t.size);const u=i[t.stack]||{size:0,count:1};u.size=Math.max(u.size,t.horizontal?o.height:o.width),t.size=u.size/u.count,e[n]+=t.size}o.getPadding&&rn(a,o.getPadding());const l=Math.max(0,s.outerWidth-on(a,e,"left","right")),c=Math.max(0,s.outerHeight-on(a,e,"top","bottom")),d=l!==e.w,h=c!==e.h;return e.w=l,e.h=c,t.horizontal?{same:d,other:h}:{same:h,other:d}}function dl(e,s){const t=s.maxPadding;return function i(n){const o={left:0,top:0,right:0,bottom:0};return n.forEach(a=>{o[a]=Math.max(s[a],t[a])}),o}(e?["left","right"]:["top","bottom"])}function ge(e,s,t,i){const n=[];let o,a,l,c,d,h;for(o=0,a=e.length,d=0;o<a;++o){l=e[o],c=l.box,c.update(l.width||s.w,l.height||s.h,dl(l.horizontal,s));const{same:u,other:f}=ll(s,t,l,i);d|=u&&n.length,h=h||f,c.fullSize||n.push(l)}return d&&ge(n,s,t,i)||h}function Le(e,s,t,i,n){e.top=t,e.left=s,e.right=s+i,e.bottom=t+n,e.width=i,e.height=n}function an(e,s,t,i){const n=t.padding;let{x:o,y:a}=s;for(const l of e){const c=l.box,d=i[l.stack]||{count:1,placed:0,weight:1},h=l.stackWeight/d.weight||1;if(l.horizontal){const u=s.w*h,f=d.size||c.height;ie(d.start)&&(a=d.start),c.fullSize?Le(c,n.left,a,t.outerWidth-n.right-n.left,f):Le(c,s.left+d.placed,a,u,f),d.start=a,d.placed+=u,a=c.bottom}else{const u=s.h*h,f=d.size||c.width;ie(d.start)&&(o=d.start),c.fullSize?Le(c,o,n.top,f,t.outerHeight-n.bottom-n.top):Le(c,o,s.top+d.placed,f,u),d.start=o,d.placed+=u,o=c.right}}s.x=o,s.y=a}var q={addBox(e,s){e.boxes||(e.boxes=[]),s.fullSize=s.fullSize||!1,s.position=s.position||"top",s.weight=s.weight||0,s._layers=s._layers||function(){return[{z:0,draw(t){s.draw(t)}}]},e.boxes.push(s)},removeBox(e,s){const t=e.boxes?e.boxes.indexOf(s):-1;-1!==t&&e.boxes.splice(t,1)},configure(e,s,t){s.fullSize=t.fullSize,s.position=t.position,s.weight=t.weight},update(e,s,t,i){if(!e)return;const n=K(e.options.layout.padding),o=Math.max(s-n.width,0),a=Math.max(t-n.height,0),l=function al(e){const s=function nl(e){const s=[];let t,i,n,o,a,l;for(t=0,i=(e||[]).length;t<i;++t)n=e[t],({position:o,options:{stack:a,stackWeight:l=1}}=n),s.push({index:t,box:n,pos:o,horizontal:n.isHorizontal(),weight:n.weight,stack:a&&o+a,stackWeight:l});return s}(e),t=fe(s.filter(d=>d.box.fullSize),!0),i=fe(ue(s,"left"),!0),n=fe(ue(s,"right")),o=fe(ue(s,"top"),!0),a=fe(ue(s,"bottom")),l=nn(s,"x"),c=nn(s,"y");return{fullSize:t,leftAndTop:i.concat(o),rightAndBottom:n.concat(c).concat(a).concat(l),chartArea:ue(s,"chartArea"),vertical:i.concat(n).concat(c),horizontal:o.concat(a).concat(l)}}(e.boxes),c=l.vertical,d=l.horizontal;P(e.boxes,p=>{"function"==typeof p.beforeLayout&&p.beforeLayout()});const h=c.reduce((p,b)=>b.box.options&&!1===b.box.options.display?p:p+1,0)||1,u=Object.freeze({outerWidth:s,outerHeight:t,padding:n,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/h,hBoxMaxHeight:a/2}),f=Object.assign({},n);rn(f,K(i));const g=Object.assign({maxPadding:f,w:o,h:a,x:n.left,y:n.top},n),m=function rl(e,s){const t=function ol(e){const s={};for(const t of e){const{stack:i,pos:n,stackWeight:o}=t;if(!i||!sn.includes(n))continue;const a=s[i]||(s[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return s}(e),{vBoxMaxWidth:i,hBoxMaxHeight:n}=s;let o,a,l;for(o=0,a=e.length;o<a;++o){l=e[o];const{fullSize:c}=l.box,d=t[l.stack],h=d&&l.stackWeight/d.weight;l.horizontal?(l.width=h?h*i:c&&s.availableWidth,l.height=n):(l.width=i,l.height=h?h*n:c&&s.availableHeight)}return t}(c.concat(d),u);ge(l.fullSize,g,u,m),ge(c,g,u,m),ge(d,g,u,m)&&ge(c,g,u,m),function cl(e){const s=e.maxPadding;function t(i){const n=Math.max(s[i]-e[i],0);return e[i]+=n,n}e.y+=t("top"),e.x+=t("left"),t("right"),t("bottom")}(g),an(l.leftAndTop,g,u,m),g.x+=g.w,g.y+=g.h,an(l.rightAndBottom,g,u,m),e.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},P(l.chartArea,p=>{const b=p.box;Object.assign(b,e.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class ln{acquireContext(s,t){}releaseContext(s){return!1}addEventListener(s,t,i){}removeEventListener(s,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(s,t,i,n){return t=Math.max(0,t||s.width),i=i||s.height,{width:t,height:Math.max(0,n?Math.floor(t/n):i)}}isAttached(s){return!0}updateConfig(s){}}class hl extends ln{acquireContext(s){return s&&s.getContext&&s.getContext("2d")||null}updateConfig(s){s.options.animation=!1}}const Be="$chartjs",ul={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},cn=e=>null===e||""===e,dn=!!ha&&{passive:!0};function pl(e,s,t){e&&e.canvas&&e.canvas.removeEventListener(s,t,dn)}function Ne(e,s){for(const t of e)if(t===s||t.contains(s))return!0}function bl(e,s,t){const i=e.canvas,n=new MutationObserver(o=>{let a=!1;for(const l of o)a=a||Ne(l.addedNodes,i),a=a&&!Ne(l.removedNodes,i);a&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}function xl(e,s,t){const i=e.canvas,n=new MutationObserver(o=>{let a=!1;for(const l of o)a=a||Ne(l.removedNodes,i),a=a&&!Ne(l.addedNodes,i);a&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}const pe=new Map;let hn=0;function un(){const e=window.devicePixelRatio;e!==hn&&(hn=e,pe.forEach((s,t)=>{t.currentDevicePixelRatio!==e&&s()}))}function vl(e,s,t){const i=e.canvas,n=i&&ki(i);if(!n)return;const o=us((l,c)=>{const d=n.clientWidth;t(l,c),d<n.clientWidth&&t()},window),a=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,h=c.contentRect.height;0===d&&0===h||o(d,h)});return a.observe(n),function _l(e,s){pe.size||window.addEventListener("resize",un),pe.set(e,s)}(e,o),a}function Ei(e,s,t){t&&t.disconnect(),"resize"===s&&function yl(e){pe.delete(e),pe.size||window.removeEventListener("resize",un)}(e)}function kl(e,s,t){const i=e.canvas,n=us(o=>{null!==e.ctx&&t(function ml(e,s){const t=ul[e.type]||e.type,{x:i,y:n}=It(e,s);return{type:t,chart:s,native:e,x:void 0!==i?i:null,y:void 0!==n?n:null}}(o,e))},e);return function gl(e,s,t){e&&e.addEventListener(s,t,dn)}(i,s,n),n}class wl extends ln{acquireContext(s,t){const i=s&&s.getContext&&s.getContext("2d");return i&&i.canvas===s?(function fl(e,s){const t=e.style,i=e.getAttribute("height"),n=e.getAttribute("width");if(e[Be]={initial:{height:i,width:n,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",cn(n)){const o=Os(e,"width");void 0!==o&&(e.width=o)}if(cn(i))if(""===e.style.height)e.height=e.width/(s||2);else{const o=Os(e,"height");void 0!==o&&(e.height=o)}}(s,t),i):null}releaseContext(s){const t=s.canvas;if(!t[Be])return!1;const i=t[Be].initial;["height","width"].forEach(o=>{const a=i[o];A(a)?t.removeAttribute(o):t.setAttribute(o,a)});const n=i.style||{};return Object.keys(n).forEach(o=>{t.style[o]=n[o]}),t.width=t.width,delete t[Be],!0}addEventListener(s,t,i){this.removeEventListener(s,t),(s.$proxies||(s.$proxies={}))[t]=({attach:bl,detach:xl,resize:vl}[t]||kl)(s,t,i)}removeEventListener(s,t){const i=s.$proxies||(s.$proxies={}),n=i[t];n&&(({attach:Ei,detach:Ei,resize:Ei}[t]||pl)(s,t,n),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(s,t,i,n){return function da(e,s,t,i){const n=Ie(e),o=Pt(n,"margin"),a=Pe(n.maxWidth,e,"clientWidth")||Fe,l=Pe(n.maxHeight,e,"clientHeight")||Fe,c=function ca(e,s,t){let i,n;if(void 0===s||void 0===t){const o=e&&ki(e);if(o){const a=o.getBoundingClientRect(),l=Ie(o),c=Pt(l,"border","width"),d=Pt(l,"padding");s=a.width-d.width-c.width,t=a.height-d.height-c.height,i=Pe(l.maxWidth,o,"clientWidth"),n=Pe(l.maxHeight,o,"clientHeight")}else s=e.clientWidth,t=e.clientHeight}return{width:s,height:t,maxWidth:i||Fe,maxHeight:n||Fe}}(e,s,t);let{width:d,height:h}=c;if("content-box"===n.boxSizing){const f=Pt(n,"border","width"),g=Pt(n,"padding");d-=g.width+f.width,h-=g.height+f.height}return d=Math.max(0,d-o.width),h=Math.max(0,i?d/i:h-o.height),d=Ct(Math.min(d,a,c.maxWidth)),h=Ct(Math.min(h,l,c.maxHeight)),d&&!h&&(h=Ct(d/2)),(void 0!==s||void 0!==t)&&i&&c.height&&h>c.height&&(h=c.height,d=Ct(Math.floor(h*i))),{width:d,height:h}}(s,t,i,n)}isAttached(s){const t=s&&ki(s);return!(!t||!t.isConnected)}}class _t{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(s){const{x:t,y:i}=this.getProps(["x","y"],s);return{x:t,y:i}}hasValue(){return Wt(this.x)&&Wt(this.y)}getProps(s,t){const i=this.$animations;if(!t||!i)return this;const n={};return s.forEach(o=>{n[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),n}}function $e(e,s,t,i,n){const o=F(i,0),a=Math.min(F(n,e.length),e.length);let c,d,h,l=0;for(t=Math.ceil(t),n&&(c=n-i,t=c/Math.floor(c/t)),h=o;h<0;)l++,h=Math.round(o+l*t);for(d=Math.max(o,0);d<a;d++)d===h&&(s.push(e[d]),l++,h=Math.round(o+l*t))}const fn=(e,s,t)=>"top"===s||"left"===s?e[s]+t:e[s]-t,gn=(e,s)=>Math.min(s||e,e);function pn(e,s){const t=[],i=e.length/s,n=e.length;let o=0;for(;o<n;o+=i)t.push(e[Math.floor(o)]);return t}function Ol(e,s,t){const i=e.ticks.length,n=Math.min(s,i-1),o=e._startPixel,a=e._endPixel,l=1e-6;let d,c=e.getPixelForTick(n);if(!(t&&(d=1===i?Math.max(c-o,a-c):0===s?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(n-1))/2,c+=n<s?d:-d,c<o-l||c>a+l)))return c}function me(e){return e.drawTicks?e.tickLength:0}function mn(e,s){if(!e.display)return 0;const t=W(e.font,s),i=K(e.padding);return(L(e.text)?e.text.length:1)*t.lineHeight+i.height}function jl(e,s,t){let i=hi(e);return(t&&"right"!==s||!t&&"right"===s)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class Bt extends _t{constructor(s){super(),this.id=s.id,this.type=s.type,this.options=void 0,this.ctx=s.ctx,this.chart=s.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(s){this.options=s.setContext(this.getContext()),this.axis=s.axis,this._userMin=this.parse(s.min),this._userMax=this.parse(s.max),this._suggestedMin=this.parse(s.suggestedMin),this._suggestedMax=this.parse(s.suggestedMax)}parse(s,t){return s}getUserBounds(){let{_userMin:s,_userMax:t,_suggestedMin:i,_suggestedMax:n}=this;return s=st(s,Number.POSITIVE_INFINITY),t=st(t,Number.NEGATIVE_INFINITY),i=st(i,Number.POSITIVE_INFINITY),n=st(n,Number.NEGATIVE_INFINITY),{min:st(s,i),max:st(t,n),minDefined:z(s),maxDefined:z(t)}}getMinMax(s){let a,{min:t,max:i,minDefined:n,maxDefined:o}=this.getUserBounds();if(n&&o)return{min:t,max:i};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)a=l[c].controller.getMinMax(this,s),n||(t=Math.min(t,a.min)),o||(i=Math.max(i,a.max));return t=o&&t>i?i:t,i=n&&t>i?t:i,{min:st(t,st(i,t)),max:st(i,st(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const s=this.chart.data;return this.options.labels||(this.isHorizontal()?s.xLabels:s.yLabels)||s.labels||[]}getLabelItems(s=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(s))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){j(this.options.beforeUpdate,[this])}update(s,t,i){const{beginAtZero:n,grace:o,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=s,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Ur(e,s,t){const{min:i,max:n}=e,o=Qi(s,(n-i)/2),a=(l,c)=>t&&0===l?0:l+c;return{min:a(i,-Math.abs(o)),max:a(n,o)}}(this,o,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?pn(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function Ml(e,s){const t=e.options.ticks,i=function Cl(e){const s=e.options.offset,t=e._tickSize();return Math.floor(Math.min(e._length/t+(s?0:1),e._maxLength/t))}(e),n=Math.min(t.maxTicksLimit||i,i),o=t.major.enabled?function Dl(e){const s=[];let t,i;for(t=0,i=e.length;t<i;t++)e[t].major&&s.push(t);return s}(s):[],a=o.length,l=o[0],c=o[a-1],d=[];if(a>n)return function Rl(e,s,t,i){let a,n=0,o=t[0];for(i=Math.ceil(i),a=0;a<e.length;a++)a===o&&(s.push(e[a]),n++,o=t[n*i])}(s,d,o,a/n),d;const h=function Fl(e,s,t){const i=function Al(e){const s=e.length;let t,i;if(s<2)return!1;for(i=e[0],t=1;t<s;++t)if(e[t]-e[t-1]!==i)return!1;return i}(e),n=s.length/t;if(!i)return Math.max(n,1);const o=function fr(e){const s=[],t=Math.sqrt(e);let i;for(i=1;i<t;i++)e%i==0&&(s.push(i),s.push(e/i));return t===(0|t)&&s.push(t),s.sort((n,o)=>n-o).pop(),s}(i);for(let a=0,l=o.length-1;a<l;a++){const c=o[a];if(c>n)return c}return Math.max(n,1)}(o,s,n);if(a>0){let u,f;const g=a>1?Math.round((c-l)/(a-1)):null;for($e(s,d,h,A(g)?0:l-g,l),u=0,f=a-1;u<f;u++)$e(s,d,h,o[u],o[u+1]);return $e(s,d,h,c,A(g)?s.length:c+g),d}return $e(s,d,h),d}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,i,s=this.options.reverse;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,s=!s),this._startPixel=t,this._endPixel=i,this._reversePixels=s,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){j(this.options.afterUpdate,[this])}beforeSetDimensions(){j(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){j(this.options.afterSetDimensions,[this])}_callHooks(s){this.chart.notifyPlugins(s,this.getContext()),j(this.options[s],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){j(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(s){const t=this.options.ticks;let i,n,o;for(i=0,n=s.length;i<n;i++)o=s[i],o.label=j(t.callback,[o.value,i,s],this)}afterTickToLabelConversion(){j(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){j(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const s=this.options,t=s.ticks,i=gn(this.ticks.length,s.ticks.maxTicksLimit),n=t.minRotation||0,o=t.maxRotation;let l,c,d,a=n;if(!this._isVisible()||!t.display||n>=o||i<=1||!this.isHorizontal())return void(this.labelRotation=n);const h=this._getLabelSizes(),u=h.widest.width,f=h.highest.height,g=G(this.chart.width-u,0,this.maxWidth);l=s.offset?this.maxWidth/i:g/(i-1),u+6>l&&(l=g/(i-(s.offset?.5:1)),c=this.maxHeight-me(s.grid)-t.padding-mn(s.title,this.chart.options.font),d=Math.sqrt(u*u+f*f),a=li(Math.min(Math.asin(G((h.highest.height+6)/l,-1,1)),Math.asin(G(c/d,-1,1))-Math.asin(G(f/d,-1,1)))),a=Math.max(n,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){j(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){j(this.options.beforeFit,[this])}fit(){const s={width:0,height:0},{chart:t,options:{ticks:i,title:n,grid:o}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=mn(n,t.options.font);if(l?(s.width=this.maxWidth,s.height=me(o)+c):(s.height=this.maxHeight,s.width=me(o)+c),i.display&&this.ticks.length){const{first:d,last:h,widest:u,highest:f}=this._getLabelSizes(),g=2*i.padding,m=at(this.labelRotation),p=Math.cos(m),b=Math.sin(m);l?s.height=Math.min(this.maxHeight,s.height+(i.mirror?0:b*u.width+p*f.height)+g):s.width=Math.min(this.maxWidth,s.width+(i.mirror?0:p*u.width+b*f.height)+g),this._calculatePadding(d,h,b,p)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=s.height):(this.width=s.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(s,t,i,n){const{ticks:{align:o,padding:a},position:l}=this.options,c=0!==this.labelRotation,d="top"!==l&&"x"===this.axis;if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;c?d?(f=n*s.width,g=i*t.height):(f=i*s.height,g=n*t.width):"start"===o?g=t.width:"end"===o?f=s.width:"inner"!==o&&(f=s.width/2,g=t.width/2),this.paddingLeft=Math.max((f-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-u+a)*this.width/(this.width-u),0)}else{let h=t.height/2,u=s.height/2;"start"===o?(h=0,u=s.height):"end"===o&&(h=t.height,u=0),this.paddingTop=h+a,this.paddingBottom=u+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){j(this.options.afterFit,[this])}isHorizontal(){const{axis:s,position:t}=this.options;return"top"===t||"bottom"===t||"x"===s}isFullSize(){return this.options.fullSize}_convertTicksToLabels(s){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(s),t=0,i=s.length;t<i;t++)A(s[t].label)&&(s.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let s=this._labelSizes;if(!s){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=pn(i,t)),this._labelSizes=s=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return s}_computeLabelSizes(s,t,i){const{ctx:n,_longestTextCache:o}=this,a=[],l=[],c=Math.floor(t/gn(t,i));let u,f,g,m,p,b,x,_,v,w,y,d=0,h=0;for(u=0;u<t;u+=c){if(m=s[u].label,p=this._resolveTickFontOptions(u),n.font=b=p.string,x=o[b]=o[b]||{data:{},gc:[]},_=p.lineHeight,v=w=0,A(m)||L(m)){if(L(m))for(f=0,g=m.length;f<g;++f)y=m[f],!A(y)&&!L(y)&&(v=Ae(n,x.data,x.gc,v,y),w+=_)}else v=Ae(n,x.data,x.gc,v,m),w=_;a.push(v),l.push(w),d=Math.max(v,d),h=Math.max(w,h)}!function Tl(e,s){P(e,t=>{const i=t.gc,n=i.length/2;let o;if(n>s){for(o=0;o<n;++o)delete t.data[i[o]];i.splice(0,n)}})}(o,t);const k=a.indexOf(d),M=l.indexOf(h),S=C=>({width:a[C]||0,height:l[C]||0});return{first:S(0),last:S(t-1),widest:S(k),highest:S(M),widths:a,heights:l}}getLabelForValue(s){return s}getPixelForValue(s,t){return NaN}getValueForPixel(s){}getPixelForTick(s){const t=this.ticks;return s<0||s>t.length-1?null:this.getPixelForValue(t[s].value)}getPixelForDecimal(s){this._reversePixels&&(s=1-s);const t=this._startPixel+s*this._length;return function br(e){return G(e,-32768,32767)}(this._alignToPixels?Et(this.chart,t,0):t)}getDecimalForPixel(s){const t=(s-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:s,max:t}=this;return s<0&&t<0?t:s>0&&t>0?s:0}getContext(s){const t=this.ticks||[];if(s>=0&&s<t.length){const i=t[s];return i.$context||(i.$context=function Il(e,s,t){return Mt(e,{tick:t,index:s,type:"tick"})}(this.getContext(),s,i))}return this.$context||(this.$context=function Pl(e,s){return Mt(e,{scale:s,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const s=this.options.ticks,t=at(this.labelRotation),i=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),o=this._getLabelSizes(),a=s.autoSkipPadding||0,l=o?o.widest.width+a:0,c=o?o.highest.height+a:0;return this.isHorizontal()?c*i>l*n?l/i:c/n:c*n<l*i?c/i:l/n}_isVisible(){const s=this.options.display;return"auto"!==s?!!s:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(s){const t=this.axis,i=this.chart,n=this.options,{grid:o,position:a,border:l}=n,c=o.offset,d=this.isHorizontal(),u=this.ticks.length+(c?1:0),f=me(o),g=[],m=l.setContext(this.getContext()),p=m.display?m.width:0,b=p/2,x=function($){return Et(i,$,p)};let _,v,w,y,k,M,S,C,R,D,O,Y;if("top"===a)_=x(this.bottom),M=this.bottom-f,C=_-b,D=x(s.top)+b,Y=s.bottom;else if("bottom"===a)_=x(this.top),D=s.top,Y=x(s.bottom)-b,M=_+b,C=this.top+f;else if("left"===a)_=x(this.right),k=this.right-f,S=_-b,R=x(s.left)+b,O=s.right;else if("right"===a)_=x(this.left),R=s.left,O=x(s.right)-b,k=_+b,S=this.left+f;else if("x"===t){if("center"===a)_=x((s.top+s.bottom)/2+.5);else if(E(a)){const $=Object.keys(a)[0];_=x(this.chart.scales[$].getPixelForValue(a[$]))}D=s.top,Y=s.bottom,M=_+b,C=M+f}else if("y"===t){if("center"===a)_=x((s.left+s.right)/2);else if(E(a)){const $=Object.keys(a)[0];_=x(this.chart.scales[$].getPixelForValue(a[$]))}k=_-b,S=k-f,R=s.left,O=s.right}const nt=F(n.ticks.maxTicksLimit,u),I=Math.max(1,Math.ceil(u/nt));for(v=0;v<u;v+=I){const $=this.getContext(v),V=o.setContext($),lt=l.setContext($),Z=V.lineWidth,qt=V.color,Ze=lt.dash||[],Zt=lt.dashOffset,ye=V.tickWidth,$t=V.tickColor,ve=V.tickBorderDash||[],zt=V.tickBorderDashOffset;w=Ol(this,v,c),void 0!==w&&(y=Et(i,w,Z),d?k=S=R=O=y:M=C=D=Y=y,g.push({tx1:k,ty1:M,tx2:S,ty2:C,x1:R,y1:D,x2:O,y2:Y,width:Z,color:qt,borderDash:Ze,borderDashOffset:Zt,tickWidth:ye,tickColor:$t,tickBorderDash:ve,tickBorderDashOffset:zt}))}return this._ticksLength=u,this._borderValue=_,g}_computeLabelItems(s){const t=this.axis,i=this.options,{position:n,ticks:o}=i,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:h,mirror:u}=o,f=me(i.grid),g=f+h,m=u?-h:g,p=-at(this.labelRotation),b=[];let x,_,v,w,y,k,M,S,C,R,D,O,Y="middle";if("top"===n)k=this.bottom-m,M=this._getXAxisLabelAlignment();else if("bottom"===n)k=this.top+m,M=this._getXAxisLabelAlignment();else if("left"===n){const I=this._getYAxisLabelAlignment(f);M=I.textAlign,y=I.x}else if("right"===n){const I=this._getYAxisLabelAlignment(f);M=I.textAlign,y=I.x}else if("x"===t){if("center"===n)k=(s.top+s.bottom)/2+g;else if(E(n)){const I=Object.keys(n)[0];k=this.chart.scales[I].getPixelForValue(n[I])+g}M=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===n)y=(s.left+s.right)/2-g;else if(E(n)){const I=Object.keys(n)[0];y=this.chart.scales[I].getPixelForValue(n[I])}M=this._getYAxisLabelAlignment(f).textAlign}"y"===t&&("start"===c?Y="top":"end"===c&&(Y="bottom"));const nt=this._getLabelSizes();for(x=0,_=l.length;x<_;++x){v=l[x],w=v.label;const I=o.setContext(this.getContext(x));S=this.getPixelForTick(x)+o.labelOffset,C=this._resolveTickFontOptions(x),R=C.lineHeight,D=L(w)?w.length:1;const $=D/2,V=I.color,lt=I.textStrokeColor,Z=I.textStrokeWidth;let Ze,qt=M;if(a?(y=S,"inner"===M&&(qt=x===_-1?this.options.reverse?"left":"right":0===x?this.options.reverse?"right":"left":"center"),O="top"===n?"near"===d||0!==p?-D*R+R/2:"center"===d?-nt.highest.height/2-$*R+R:R/2-nt.highest.height:"near"===d||0!==p?R/2:"center"===d?nt.highest.height/2-$*R:nt.highest.height-D*R,u&&(O*=-1),0!==p&&!I.showLabelBackdrop&&(y+=R/2*Math.sin(p))):(k=S,O=(1-D)*R/2),I.showLabelBackdrop){const Zt=K(I.backdropPadding),ye=nt.heights[x],$t=nt.widths[x];let ve=O-Zt.top,zt=0-Zt.left;switch(Y){case"middle":ve-=ye/2;break;case"bottom":ve-=ye}switch(M){case"center":zt-=$t/2;break;case"right":zt-=$t;break;case"inner":x===_-1?zt-=$t:x>0&&(zt-=$t/2)}Ze={left:zt,top:ve,width:$t+Zt.width,height:ye+Zt.height,color:I.backdropColor}}b.push({label:w,font:C,textOffset:O,options:{rotation:p,color:V,strokeColor:lt,strokeWidth:Z,textAlign:qt,textBaseline:Y,translation:[y,k],backdrop:Ze}})}return b}_getXAxisLabelAlignment(){const{position:s,ticks:t}=this.options;if(-at(this.labelRotation))return"top"===s?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(s){const{position:t,ticks:{crossAlign:i,mirror:n,padding:o}}=this.options,l=s+o,c=this._getLabelSizes().widest.width;let d,h;return"left"===t?n?(h=this.right+o,"near"===i?d="left":"center"===i?(d="center",h+=c/2):(d="right",h+=c)):(h=this.right-l,"near"===i?d="right":"center"===i?(d="center",h-=c/2):(d="left",h=this.left)):"right"===t?n?(h=this.left+o,"near"===i?d="right":"center"===i?(d="center",h-=c/2):(d="left",h-=c)):(h=this.left+l,"near"===i?d="left":"center"===i?(d="center",h+=c/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const s=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:s.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:s.width}:void 0}drawBackground(){const{ctx:s,options:{backgroundColor:t},left:i,top:n,width:o,height:a}=this;t&&(s.save(),s.fillStyle=t,s.fillRect(i,n,o,a),s.restore())}getLineWidthForValue(s){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(o=>o.value===s);return n>=0?t.setContext(this.getContext(n)).lineWidth:0}drawGrid(s){const t=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(s));let o,a;const l=(c,d,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(t.display)for(o=0,a=n.length;o<a;++o){const c=n[o];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:s,ctx:t,options:{border:i,grid:n}}=this,o=i.setContext(this.getContext()),a=i.display?o.width:0;if(!a)return;const l=n.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,h,u,f;this.isHorizontal()?(d=Et(s,this.left,a)-a/2,h=Et(s,this.right,l)+l/2,u=f=c):(u=Et(s,this.top,a)-a/2,f=Et(s,this.bottom,l)+l/2,d=h=c),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(d,u),t.lineTo(h,f),t.stroke(),t.restore()}drawLabels(s){if(!this.options.ticks.display)return;const i=this.ctx,n=this._computeLabelArea();n&&Ee(i,n);const o=this.getLabelItems(s);for(const a of o)Ot(i,a.label,0,a.textOffset,a.font,a.options);n&&Oe(i)}drawTitle(){const{ctx:s,options:{position:t,title:i,reverse:n}}=this;if(!i.display)return;const o=W(i.font),a=K(i.padding),l=i.align;let c=o.lineHeight/2;"bottom"===t||"center"===t||E(t)?(c+=a.bottom,L(i.text)&&(c+=o.lineHeight*(i.text.length-1))):c+=a.top;const{titleX:d,titleY:h,maxWidth:u,rotation:f}=function Ll(e,s,t,i){const{top:n,left:o,bottom:a,right:l,chart:c}=e,{chartArea:d,scales:h}=c;let f,g,m,u=0;const p=a-n,b=l-o;if(e.isHorizontal()){if(g=J(i,o,l),E(t)){const x=Object.keys(t)[0];m=h[x].getPixelForValue(t[x])+p-s}else m="center"===t?(d.bottom+d.top)/2+p-s:fn(e,t,s);f=l-o}else{if(E(t)){const x=Object.keys(t)[0];g=h[x].getPixelForValue(t[x])-b+s}else g="center"===t?(d.left+d.right)/2-b+s:fn(e,t,s);m=J(i,a,n),u="left"===t?-U:U}return{titleX:g,titleY:m,maxWidth:f,rotation:u}}(this,c,t,l);Ot(s,i.text,0,0,o,{color:i.color,maxWidth:u,rotation:f,textAlign:jl(l,t,n),textBaseline:"middle",translation:[d,h]})}draw(s){this._isVisible()&&(this.drawBackground(),this.drawGrid(s),this.drawBorder(),this.drawTitle(),this.drawLabels(s))}_layers(){const s=this.options,t=s.ticks&&s.ticks.z||0,i=F(s.grid&&s.grid.z,-1),n=F(s.border&&s.border.z,0);return this._isVisible()&&this.draw===Bt.prototype.draw?[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]:[{z:t,draw:o=>{this.draw(o)}}]}getMatchingVisibleMetas(s){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let o,a;for(o=0,a=t.length;o<a;++o){const l=t[o];l[i]===this.id&&(!s||l.type===s)&&n.push(l)}return n}_resolveTickFontOptions(s){return W(this.options.ticks.setContext(this.getContext(s)).font)}_maxDigits(){const s=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/s}}class ze{constructor(s,t,i){this.type=s,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(s){return Object.prototype.isPrototypeOf.call(this.type.prototype,s.prototype)}register(s){const t=Object.getPrototypeOf(s);let i;(function $l(e){return"id"in e&&"defaults"in e})(t)&&(i=this.register(t));const n=this.items,o=s.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+s);return o in n||(n[o]=s,function Bl(e,s,t){const i=te(Object.create(null),[t?N.get(t):{},N.get(s),e.defaults]);N.set(s,i),e.defaultRoutes&&function Nl(e,s){Object.keys(s).forEach(t=>{const i=t.split("."),n=i.pop(),o=[e].concat(i).join("."),a=s[t].split("."),l=a.pop(),c=a.join(".");N.route(o,n,c,l)})}(s,e.defaultRoutes),e.descriptors&&N.describe(s,e.descriptors)}(s,a,i),this.override&&N.override(s.id,s.overrides)),a}get(s){return this.items[s]}unregister(s){const t=this.items,i=s.id,n=this.scope;i in t&&delete t[i],n&&i in N[n]&&(delete N[n][i],this.override&&delete At[i])}}class zl{constructor(){this.controllers=new ze(Ft,"datasets",!0),this.elements=new ze(_t,"elements"),this.plugins=new ze(Object,"plugins"),this.scales=new ze(Bt,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...s){this._each("register",s)}remove(...s){this._each("unregister",s)}addControllers(...s){this._each("register",s,this.controllers)}addElements(...s){this._each("register",s,this.elements)}addPlugins(...s){this._each("register",s,this.plugins)}addScales(...s){this._each("register",s,this.scales)}getController(s){return this._get(s,this.controllers,"controller")}getElement(s){return this._get(s,this.elements,"element")}getPlugin(s){return this._get(s,this.plugins,"plugin")}getScale(s){return this._get(s,this.scales,"scale")}removeControllers(...s){this._each("unregister",s,this.controllers)}removeElements(...s){this._each("unregister",s,this.elements)}removePlugins(...s){this._each("unregister",s,this.plugins)}removeScales(...s){this._each("unregister",s,this.scales)}_each(s,t,i){[...t].forEach(n=>{const o=i||this._getRegistryForType(n);i||o.isForType(n)||o===this.plugins&&n.id?this._exec(s,o,n):P(n,a=>{const l=i||this._getRegistryForType(a);this._exec(s,l,a)})})}_exec(s,t,i){const n=ai(s);j(i["before"+n],[],i),t[s](i),j(i["after"+n],[],i)}_getRegistryForType(s){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(s))return i}return this.plugins}_get(s,t,i){const n=t.get(s);if(void 0===n)throw new Error('"'+s+'" is not a registered '+i+".");return n}}var dt=new zl;class Ul{constructor(){this._init=void 0}notify(s,t,i,n){if("beforeInit"===t&&(this._init=this._createDescriptors(s,!0),this._notify(this._init,s,"install")),void 0===this._init)return;const o=n?this._descriptors(s).filter(n):this._descriptors(s),a=this._notify(o,s,t,i);return"afterDestroy"===t&&(this._notify(o,s,"stop"),this._notify(this._init,s,"uninstall"),this._init=void 0),a}_notify(s,t,i,n){n=n||{};for(const o of s){const a=o.plugin;if(!1===j(a[i],[t,n,o.options],a)&&n.cancelable)return!1}return!0}invalidate(){A(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(s){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(s);return this._notifyStateChanges(s),t}_createDescriptors(s,t){const i=s&&s.config,n=F(i.options&&i.options.plugins,{}),o=function Vl(e){const s={},t=[],i=Object.keys(dt.plugins.items);for(let o=0;o<i.length;o++)t.push(dt.getPlugin(i[o]));const n=e.plugins||[];for(let o=0;o<n.length;o++){const a=n[o];-1===t.indexOf(a)&&(t.push(a),s[a.id]=!0)}return{plugins:t,localIds:s}}(i);return!1!==n||t?function Wl(e,{plugins:s,localIds:t},i,n){const o=[],a=e.getContext();for(const l of s){const c=l.id,d=Hl(i[c],n);null!==d&&o.push({plugin:l,options:Gl(e.config,{plugin:l,local:t[c]},d,a)})}return o}(s,o,n,t):[]}_notifyStateChanges(s){const t=this._oldCache||[],i=this._cache,n=(o,a)=>o.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(n(t,i),s,"stop"),this._notify(n(i,t),s,"start")}}function Hl(e,s){return s||!1!==e?!0===e?{}:e:null}function Gl(e,{plugin:s,local:t},i,n){const o=e.pluginScopeKeys(s),a=e.getOptionScopes(i,o);return t&&s.defaults&&a.push(s.defaults),e.createResolver(a,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Oi(e,s){return((s.datasets||{})[e]||{}).indexAxis||s.indexAxis||(N.datasets[e]||{}).indexAxis||"x"}function bn(e){if("x"===e||"y"===e||"r"===e)return e}function Jl(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function Ti(e,...s){if(bn(e))return e;for(const t of s){const i=t.axis||Jl(t.position)||e.length>1&&bn(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function xn(e,s,t){if(t[s+"AxisID"]===e)return{axis:s}}function _n(e){const s=e.options||(e.options={});s.plugins=F(s.plugins,{}),s.scales=function ql(e,s){const t=At[e.type]||{scales:{}},i=s.scales||{},n=Oi(e.type,s),o=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!E(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Ti(a,l,function Kl(e,s){if(s.data&&s.data.datasets){const t=s.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(t.length)return xn(e,"x",t[0])||xn(e,"y",t[0])}return{}}(a,e),N.scales[l.type]),d=function Xl(e,s){return e===s?"_index_":"_value_"}(c,n),h=t.scales||{};o[a]=ee(Object.create(null),[{axis:c},l,h[c],h[d]])}),e.data.datasets.forEach(a=>{const l=a.type||e.type,c=a.indexAxis||Oi(l,s),h=(At[l]||{}).scales||{};Object.keys(h).forEach(u=>{const f=function Yl(e,s){let t=e;return"_index_"===e?t=s:"_value_"===e&&(t="x"===s?"y":"x"),t}(u,c),g=a[f+"AxisID"]||f;o[g]=o[g]||Object.create(null),ee(o[g],[{axis:f},i[g],h[u]])})}),Object.keys(o).forEach(a=>{const l=o[a];ee(l,[N.scales[l.type],N.scale])}),o}(e,s)}function yn(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const vn=new Map,kn=new Set;function Ue(e,s){let t=vn.get(e);return t||(t=s(),vn.set(e,t),kn.add(t)),t}const be=(e,s,t)=>{const i=kt(s,t);void 0!==i&&e.add(i)};class Ql{constructor(s){this._config=function Zl(e){return(e=e||{}).data=yn(e.data),_n(e),e}(s),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(s){this._config.type=s}get data(){return this._config.data}set data(s){this._config.data=yn(s)}get options(){return this._config.options}set options(s){this._config.options=s}get plugins(){return this._config.plugins}update(){const s=this._config;this.clearCache(),_n(s)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(s){return Ue(s,()=>[[`datasets.${s}`,""]])}datasetAnimationScopeKeys(s,t){return Ue(`${s}.transition.${t}`,()=>[[`datasets.${s}.transitions.${t}`,`transitions.${t}`],[`datasets.${s}`,""]])}datasetElementScopeKeys(s,t){return Ue(`${s}-${t}`,()=>[[`datasets.${s}.elements.${t}`,`datasets.${s}`,`elements.${t}`,""]])}pluginScopeKeys(s){const t=s.id;return Ue(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...s.additionalOptionScopes||[]]])}_cachedScopes(s,t){const i=this._scopeCache;let n=i.get(s);return(!n||t)&&(n=new Map,i.set(s,n)),n}getOptionScopes(s,t,i){const{options:n,type:o}=this,a=this._cachedScopes(s,i),l=a.get(t);if(l)return l;const c=new Set;t.forEach(h=>{s&&(c.add(s),h.forEach(u=>be(c,s,u))),h.forEach(u=>be(c,n,u)),h.forEach(u=>be(c,At[o]||{},u)),h.forEach(u=>be(c,N,u)),h.forEach(u=>be(c,gi,u))});const d=Array.from(c);return 0===d.length&&d.push(Object.create(null)),kn.has(t)&&a.set(t,d),d}chartOptionScopes(){const{options:s,type:t}=this;return[s,At[t]||{},N.datasets[t]||{},{type:t},N,gi]}resolveNamedOptions(s,t,i,n=[""]){const o={$shared:!0},{resolver:a,subPrefixes:l}=wn(this._resolverCache,s,n);let c=a;(function ec(e,s){const{isScriptable:t,isIndexable:i}=ws(e);for(const n of s){const o=t(n),a=i(n),l=(a||o)&&e[n];if(o&&(wt(l)||tc(l))||a&&L(l))return!0}return!1})(a,t)&&(o.$shared=!1,c=Gt(a,i=wt(i)?i():i,this.createResolver(s,i,l)));for(const d of t)o[d]=c[d];return o}createResolver(s,t,i=[""],n){const{resolver:o}=wn(this._resolverCache,s,i);return E(t)?Gt(o,t,void 0,n):o}}function wn(e,s,t){let i=e.get(s);i||(i=new Map,e.set(s,i));const n=t.join();let o=i.get(n);return o||(o={resolver:xi(s,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},i.set(n,o)),o}const tc=e=>E(e)&&Object.getOwnPropertyNames(e).some(s=>wt(e[s])),sc=["top","bottom","left","right","chartArea"];function Sn(e,s){return"top"===e||"bottom"===e||-1===sc.indexOf(e)&&"x"===s}function Mn(e,s){return function(t,i){return t[e]===i[e]?t[s]-i[s]:t[e]-i[e]}}function Cn(e){const s=e.chart,t=s.options.animation;s.notifyPlugins("afterRender"),j(t&&t.onComplete,[e],s)}function nc(e){const s=e.chart,t=s.options.animation;j(t&&t.onProgress,[e],s)}function Fn(e){return vi()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Ve={},Dn=e=>{const s=Fn(e);return Object.values(Ve).filter(t=>t.canvas===s).pop()};function oc(e,s,t){const i=Object.keys(e);for(const n of i){const o=+n;if(o>=s){const a=e[n];delete e[n],(t>0||o>s)&&(e[o+t]=a)}}}let Jt=(()=>class e{static defaults=N;static instances=Ve;static overrides=At;static registry=dt;static version="4.5.1";static getChart=Dn;static register(...t){dt.add(...t),Rn()}static unregister(...t){dt.remove(...t),Rn()}constructor(t,i){const n=this.config=new Ql(i),o=Fn(t),a=Dn(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function Sl(e){return!vi()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?hl:wl}(o)),this.platform.updateConfig(n);const c=this.platform.acquireContext(o,l.aspectRatio),d=c&&c.canvas,h=d&&d.height,u=d&&d.width;this.id=nr(),this.ctx=c,this.canvas=d,this.width=u,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ul,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function vr(e,s){let t;return function(...i){return s?(clearTimeout(t),t=setTimeout(e,s,i)):e.apply(this,i),s}}(f=>this.update(f),l.resizeDelay||0),this._dataChanges=[],Ve[this.id]=this,c&&d?(xt.listen(this,"complete",Cn),xt.listen(this,"progress",nc),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:i},width:n,height:o,_aspectRatio:a}=this;return A(t)?i&&a?a:o?n/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return dt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Es(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ys(this.canvas,this.ctx),this}stop(){return xt.stop(this),this}resize(t,i){xt.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){const n=this.options,l=this.platform.getMaximumSize(this.canvas,t,i,n.maintainAspectRatio&&this.aspectRatio),c=n.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Es(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),j(n.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){P(this.options.scales||{},(n,o)=>{n.id=o})}buildOrUpdateScales(){const t=this.options,i=t.scales,n=this.scales,o=Object.keys(n).reduce((l,c)=>(l[c]=!1,l),{});let a=[];i&&(a=a.concat(Object.keys(i).map(l=>{const c=i[l],d=Ti(l,c),h="r"===d,u="x"===d;return{options:c,dposition:h?"chartArea":u?"bottom":"left",dtype:h?"radialLinear":u?"category":"linear"}}))),P(a,l=>{const c=l.options,d=c.id,h=Ti(d,c),u=F(c.type,l.dtype);(void 0===c.position||Sn(c.position,h)!==Sn(l.dposition))&&(c.position=l.dposition),o[d]=!0;let f=null;d in n&&n[d].type===u?f=n[d]:(f=new(dt.getScale(u))({id:d,type:u,ctx:this.ctx,chart:this}),n[f.id]=f),f.init(c,t)}),P(o,(l,c)=>{l||delete n[c]}),P(n,l=>{q.configure(this,l,l.options),q.addBox(this,l)})}_updateMetasets(){const t=this._metasets,i=this.data.datasets.length,n=t.length;if(t.sort((o,a)=>o.index-a.index),n>i){for(let o=i;o<n;++o)this._destroyDatasetMeta(o);t.splice(i,n-i)}this._sortedMetasets=t.slice(0).sort(Mn("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((n,o)=>{0===i.filter(a=>a===n._dataset).length&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const t=[],i=this.data.datasets;let n,o;for(this._removeUnreferencedMetasets(),n=0,o=i.length;n<o;n++){const a=i[n];let l=this.getDatasetMeta(n);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(n),l=this.getDatasetMeta(n)),l.type=c,l.indexAxis=a.indexAxis||Oi(c,this.options),l.order=a.order||0,l.index=n,l.label=""+a.label,l.visible=this.isDatasetVisible(n),l.controller)l.controller.updateIndex(n),l.controller.linkScales();else{const d=dt.getController(c),{datasetElementType:h,dataElementType:u}=N.datasets[c];Object.assign(d,{dataElementType:dt.getElement(u),datasetElementType:h&&dt.getElement(h)}),l.controller=new d(this,n),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){P(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const i=this.config;i.update();const n=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,u=this.data.datasets.length;h<u;h++){const{controller:f}=this.getDatasetMeta(h),g=!o&&-1===a.indexOf(f);f.buildOrUpdateElements(g),l=Math.max(+f.getMaxOverflow(),l)}l=this._minPadding=n.layout.autoPadding?l:0,this._updateLayout(l),o||P(a,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Mn("z","_idx"));const{_active:c,_lastEvent:d}=this;d?this._eventHandler(d,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){P(this.scales,t=>{q.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,i=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!is(i,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(const{method:n,start:o,count:a}of i)oc(t,o,"_removeElements"===n?-a:a)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const i=this.data.datasets.length,n=a=>new Set(t.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),o=n(0);for(let a=1;a<i;a++)if(!is(o,n(a)))return;return Array.from(o).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;q.update(this,this.width,this.height,t);const i=this.chartArea,n=i.width<=0||i.height<=0;this._layers=[],P(this.boxes,o=>{n&&"chartArea"===o.position||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,a)=>{o._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let i=0,n=this.data.datasets.length;i<n;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,n=this.data.datasets.length;i<n;++i)this._updateDataset(i,wt(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){const n=this.getDatasetMeta(t),o={meta:n,index:t,mode:i,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",o)&&(n.controller._update(i),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(xt.has(this)?this.attached&&!xt.running(this)&&xt.start(this):(this.draw(),Cn({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,o)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const i=this._sortedMetasets,n=[];let o,a;for(o=0,a=i.length;o<a;++o){const l=i[o];(!t||l.visible)&&n.push(l)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const i=this.ctx,n={meta:t,index:t.index,cancelable:!0},o=zs(this,t);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(o&&Ee(i,o),t.controller.draw(),o&&Oe(i),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return bt(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,n,o){const a=sl.modes[i];return"function"==typeof a?a(this,t,n,o):[]}getDatasetMeta(t){const i=this.data.datasets[t],n=this._metasets;let o=n.filter(a=>a&&a._dataset===i).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},n.push(o)),o}getContext(){return this.$context||(this.$context=Mt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const i=this.data.datasets[t];if(!i)return!1;const n=this.getDatasetMeta(t);return"boolean"==typeof n.hidden?!n.hidden:!i.hidden}setDatasetVisibility(t,i){this.getDatasetMeta(t).hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,n){const o=n?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,o);ie(i)?(a.data[i].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),l.update(a,{visible:n}),this.update(c=>c.datasetIndex===t?o:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){const i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),xt.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),ys(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Ve[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,i=this.platform,n=(a,l)=>{i.addEventListener(this,a,l),t[a]=l},o=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};P(this.options.events,a=>n(a,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,i=this.platform,n=(d,h)=>{i.addEventListener(this,d,h),t[d]=h},o=(d,h)=>{t[d]&&(i.removeEventListener(this,d,h),delete t[d])},a=(d,h)=>{this.canvas&&this.resize(d,h)};let l;const c=()=>{o("attach",c),this.attached=!0,this.resize(),n("resize",a),n("detach",l)};l=()=>{this.attached=!1,o("resize",a),this._stop(),this._resize(0,0),n("attach",c)},i.isAttached(this.canvas)?c():l()}unbindEvents(){P(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},P(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,n){const o=n?"set":"remove";let a,l,c,d;for("dataset"===i&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+o+"DatasetHoverStyle"]()),c=0,d=t.length;c<d;++c){l=t[c];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[o+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const i=this._active||[],n=t.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!Me(n,i)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,i))}notifyPlugins(t,i,n){return this._plugins.notify(this,t,i,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter(i=>i.plugin.id===t).length}_updateHoverStyles(t,i,n){const o=this.options.hover,a=(d,h)=>d.filter(u=>!h.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),l=a(i,t),c=n?t:a(t,i);l.length&&this.updateHoverStyle(l,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(t,i){const n={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},o=l=>(l.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,o))return;const a=this._handleEvent(t,i,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,o),(a||n.changed)&&this.render(),this}_handleEvent(t,i,n){const{_active:o=[],options:a}=this,c=this._getActiveElements(t,o,n,i),d=function dr(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(t),h=function rc(e,s,t,i){return t&&"mouseout"!==e.type?i?s:e:null}(t,this._lastEvent,n,d);n&&(this._lastEvent=null,j(a.onHover,[t,c,this],this),d&&j(a.onClick,[t,c,this],this));const u=!Me(c,o);return(u||i)&&(this._active=c,this._updateHoverStyles(c,o,i)),this._lastEvent=h,u}_getActiveElements(t,i,n,o){if("mouseout"===t.type)return[];if(!n)return i;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,o)}})();function Rn(){return P(Jt.instances,e=>e._plugins.invalidate())}function Kt(e,s,t,i){return{x:t+e*Math.cos(s),y:i+e*Math.sin(s)}}function He(e,s,t,i,n,o){const{x:a,y:l,startAngle:c,pixelMargin:d,innerRadius:h}=s,u=Math.max(s.outerRadius+i+t-d,0),f=h>0?h+i+t+d:0;let g=0;const m=n-c;if(i){const V=((h>0?h-i:0)+(u>0?u-i:0))/2;g=(m-(0!==V?m*V/(V+i):m))/2}const b=(m-Math.max(.001,m*u-t/T)/u)/2,x=c+b+g,_=n-b-g,{outerStart:v,outerEnd:w,innerStart:y,innerEnd:k}=function dc(e,s,t,i){const n=function cc(e){return bi(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),o=(t-s)/2,a=Math.min(o,i*s/2),l=c=>{const d=(t-Math.min(o,c))*i/2;return G(c,0,Math.min(o,d))};return{outerStart:l(n.outerStart),outerEnd:l(n.outerEnd),innerStart:G(n.innerStart,0,a),innerEnd:G(n.innerEnd,0,a)}}(s,f,u,_-x),M=u-v,S=u-w,C=x+v/M,R=_-w/S,D=f+y,O=f+k,Y=x+y/D,nt=_-k/O;if(e.beginPath(),o){const I=(C+R)/2;if(e.arc(a,l,u,C,I),e.arc(a,l,u,I,R),w>0){const Z=Kt(S,R,a,l);e.arc(Z.x,Z.y,w,R,_+U)}const $=Kt(O,_,a,l);if(e.lineTo($.x,$.y),k>0){const Z=Kt(O,nt,a,l);e.arc(Z.x,Z.y,k,_+U,nt+Math.PI)}const V=(_-k/f+(x+y/f))/2;if(e.arc(a,l,f,_-k/f,V,!0),e.arc(a,l,f,V,x+y/f,!0),y>0){const Z=Kt(D,Y,a,l);e.arc(Z.x,Z.y,y,Y+Math.PI,x-U)}const lt=Kt(M,x,a,l);if(e.lineTo(lt.x,lt.y),v>0){const Z=Kt(M,C,a,l);e.arc(Z.x,Z.y,v,x-U,C)}}else{e.moveTo(a,l);const I=Math.cos(C)*u+a,$=Math.sin(C)*u+l;e.lineTo(I,$);const V=Math.cos(R)*u+a,lt=Math.sin(R)*u+l;e.lineTo(V,lt)}e.closePath()}function An(e,s,t=s){e.lineCap=F(t.borderCapStyle,s.borderCapStyle),e.setLineDash(F(t.borderDash,s.borderDash)),e.lineDashOffset=F(t.borderDashOffset,s.borderDashOffset),e.lineJoin=F(t.borderJoinStyle,s.borderJoinStyle),e.lineWidth=F(t.borderWidth,s.borderWidth),e.strokeStyle=F(t.borderColor,s.borderColor)}function gc(e,s,t){e.lineTo(t.x,t.y)}function En(e,s,t={}){const i=e.length,{start:n=0,end:o=i-1}=t,{start:a,end:l}=s,c=Math.max(n,a),d=Math.min(o,l);return{count:i,start:c,loop:s.loop,ilen:d<c&&!(n<a&&o<a||n>l&&o>l)?i+d-c:d-c}}function mc(e,s,t,i){const{points:n,options:o}=s,{count:a,start:l,loop:c,ilen:d}=En(n,t,i),h=function pc(e){return e.stepped?Tr:e.tension||"monotone"===e.cubicInterpolationMode?Pr:gc}(o);let g,m,p,{move:u=!0,reverse:f}=i||{};for(g=0;g<=d;++g)m=n[(l+(f?d-g:g))%a],!m.skip&&(u?(e.moveTo(m.x,m.y),u=!1):h(e,p,m,f,o.stepped),p=m);return c&&(m=n[(l+(f?d:0))%a],h(e,p,m,f,o.stepped)),!!c}function bc(e,s,t,i){const n=s.points,{count:o,start:a,ilen:l}=En(n,t,i),{move:c=!0,reverse:d}=i||{};let f,g,m,p,b,x,h=0,u=0;const _=w=>(a+(d?l-w:w))%o,v=()=>{p!==b&&(e.lineTo(h,b),e.lineTo(h,p),e.lineTo(h,x))};for(c&&(g=n[_(0)],e.moveTo(g.x,g.y)),f=0;f<=l;++f){if(g=n[_(f)],g.skip)continue;const w=g.x,y=g.y,k=0|w;k===m?(y<p?p=y:y>b&&(b=y),h=(u*h+w)/++u):(v(),e.lineTo(w,y),m=k,u=0,p=b=y),x=y}v()}function Pi(e){const s=e.options;return e._decimated||e._loop||s.tension||"monotone"===s.cubicInterpolationMode||s.stepped||s.borderDash&&s.borderDash.length?mc:bc}const vc="function"==typeof Path2D;let We=(()=>class e extends _t{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){const n=this.options;!n.tension&&"monotone"!==n.cubicInterpolationMode||n.stepped||this._pointsUpdated||(na(this._points,n,t,n.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function _a(e,s){const t=e.points,i=e.options.spanGaps,n=t.length;if(!n)return[];const o=!!e._loop,{start:a,end:l}=function ba(e,s,t,i){let n=0,o=s-1;if(t&&!i)for(;n<s&&!e[n].skip;)n++;for(;n<s&&e[n].skip;)n++;for(n%=s,t&&(o+=n);o>n&&e[o%s].skip;)o--;return o%=s,{start:n,end:o}}(t,n,o,i);return function Ns(e,s,t,i){return i&&i.setContext&&t?function ya(e,s,t,i){const n=e._chart.getContext(),o=$s(e.options),{_datasetIndex:a,options:{spanGaps:l}}=e,c=t.length,d=[];let h=o,u=s[0].start,f=u;function g(m,p,b,x){const _=l?-1:1;if(m!==p){for(m+=c;t[m%c].skip;)m-=_;for(;t[p%c].skip;)p+=_;m%c!=p%c&&(d.push({start:m%c,end:p%c,loop:b,style:x}),h=x,u=p%c)}}for(const m of s){u=l?u:m.start;let b,p=t[u%c];for(f=u+1;f<=m.end;f++){const x=t[f%c];b=$s(i.setContext(Mt(n,{type:"segment",p0:p,p1:x,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:a}))),va(b,h)&&g(u,f-1,m.loop,h),p=x,h=b}u<f-1&&g(u,f-1,m.loop,h)}return d}(e,s,t,i):s}(e,!0===i?[{start:a,end:l,loop:o}]:function xa(e,s,t,i){const n=e.length,o=[];let c,a=s,l=e[s];for(c=s+1;c<=t;++c){const d=e[c%n];d.skip||d.stop?l.skip||(o.push({start:s%n,end:(c-1)%n,loop:i=!1}),s=a=d.stop?c:null):(a=c,l.skip&&(s=c)),l=d}return null!==a&&o.push({start:s%n,end:a%n,loop:i}),o}(t,a,l<a?l+n:l,!!e._fullLoop&&0===a&&l===n-1),t,s)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,n=t.length;return n&&this.points[t[n-1].end]}interpolate(t,i){const n=this.options,o=t[i],a=this.points,l=Bs(this,{property:i,start:o,end:o});if(!l.length)return;const c=[],d=function xc(e){return e.stepped?ua:e.tension||"monotone"===e.cubicInterpolationMode?fa:jt}(n);let h,u;for(h=0,u=l.length;h<u;++h){const{start:f,end:g}=l[h],m=a[f],p=a[g];if(m===p){c.push(m);continue}const x=d(m,p,Math.abs((o-m[i])/(p[i]-m[i])),n.stepped);x[i]=t[i],c.push(x)}return 1===c.length?c[0]:c}pathSegment(t,i,n){return Pi(this)(t,this,i,n)}path(t,i,n){const o=this.segments,a=Pi(this);let l=this._loop;i=i||0,n=n||this.points.length-i;for(const c of o)l&=a(t,this,c,{start:i,end:i+n-1});return!!l}draw(t,i,n,o){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function kc(e,s,t,i){vc&&!s.options.segment?function _c(e,s,t,i){let n=s._path;n||(n=s._path=new Path2D,s.path(n,t,i)&&n.closePath()),An(e,s.options),e.stroke(n)}(e,s,t,i):function yc(e,s,t,i){const{segments:n,options:o}=s,a=Pi(s);for(const l of n)An(e,o,l.style),e.beginPath(),a(e,s,l,{start:t,end:t+i-1})&&e.closePath(),e.stroke()}(e,s,t,i)}(t,this,n,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function On(e,s,t,i){const n=e.options,{[t]:o}=e.getProps([t],i);return Math.abs(s-o)<n.radius+n.hitRadius}let wc=(()=>class e extends _t{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,n){const o=this.options,{x:a,y:l}=this.getProps(["x","y"],n);return Math.pow(t-a,2)+Math.pow(i-l,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,i){return On(this,t,"x",i)}inYRange(t,i){return On(this,t,"y",i)}getCenterPoint(t){const{x:i,y:n}=this.getProps(["x","y"],t);return{x:i,y:n}}size(t){let i=(t=t||this.options||{}).radius||0;return i=Math.max(i,i&&t.hoverRadius||0),2*(i+(i&&t.borderWidth||0))}draw(t,i){const n=this.options;this.skip||n.radius<.1||!bt(this,i,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,mi(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}})();function Tn(e,s){const{x:t,y:i,base:n,width:o,height:a}=e.getProps(["x","y","base","width","height"],s);let l,c,d,h,u;return e.horizontal?(u=a/2,l=Math.min(t,n),c=Math.max(t,n),d=i-u,h=i+u):(u=o/2,l=t-u,c=t+u,d=Math.min(i,n),h=Math.max(i,n)),{left:l,top:d,right:c,bottom:h}}function Dt(e,s,t,i){return e?0:G(s,t,i)}function Ii(e,s,t,i){const n=null===s,o=null===t,l=e&&!(n&&o)&&Tn(e,i);return l&&(n||pt(s,l.left,l.right))&&(o||pt(t,l.top,l.bottom))}function Dc(e,s){e.rect(s.x,s.y,s.w,s.h)}function ji(e,s,t={}){const i=e.x!==t.x?-s:0,n=e.y!==t.y?-s:0;return{x:e.x+i,y:e.y+n,w:e.w+((e.x+e.w!==t.x+t.w?s:0)-i),h:e.h+((e.y+e.h!==t.y+t.h?s:0)-n),radius:e.radius}}var Ac=Object.freeze({__proto__:null,ArcElement:class fc extends _t{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:s=>"borderDash"!==s};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(s){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,t,i){const n=this.getProps(["x","y"],i),{angle:o,distance:a}=as(n,{x:s,y:t}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:h,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,g=F(u,c-l),m=ne(o,l,c)&&l!==c,p=g>=B||m,b=pt(a,d+f,h+f);return p&&b}getCenterPoint(s){const{x:t,y:i,startAngle:n,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:c,spacing:d}=this.options,h=(n+o)/2,u=(a+l+d+c)/2;return{x:t+Math.cos(h)*u,y:i+Math.sin(h)*u}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:t,circumference:i}=this,n=(t.offset||0)/4,o=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=i>B?Math.floor(i/B):0,0===i||this.innerRadius<0||this.outerRadius<0)return;s.save();const l=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(l)*n,Math.sin(l)*n);const d=n*(1-Math.sin(Math.min(T,i||0)));s.fillStyle=t.backgroundColor,s.strokeStyle=t.borderColor,function hc(e,s,t,i,n){const{fullCircles:o,startAngle:a,circumference:l}=s;let c=s.endAngle;if(o){He(e,s,t,i,c,n);for(let d=0;d<o;++d)e.fill();isNaN(l)||(c=a+(l%B||B))}He(e,s,t,i,c,n),e.fill()}(s,this,d,o,a),function uc(e,s,t,i,n){const{fullCircles:o,startAngle:a,circumference:l,options:c}=s,{borderWidth:d,borderJoinStyle:h,borderDash:u,borderDashOffset:f,borderRadius:g}=c,m="inner"===c.borderAlign;if(!d)return;e.setLineDash(u||[]),e.lineDashOffset=f,m?(e.lineWidth=2*d,e.lineJoin=h||"round"):(e.lineWidth=d,e.lineJoin=h||"bevel");let p=s.endAngle;if(o){He(e,s,t,i,p,n);for(let b=0;b<o;++b)e.stroke();isNaN(l)||(p=a+(l%B||B))}m&&function lc(e,s,t){const{startAngle:i,pixelMargin:n,x:o,y:a,outerRadius:l,innerRadius:c}=s;let d=n/l;e.beginPath(),e.arc(o,a,l,i-d,t+d),c>n?(d=n/c,e.arc(o,a,c,t+d,i-d,!0)):e.arc(o,a,n,t+U,i-U),e.closePath(),e.clip()}(e,s,p),c.selfJoin&&p-a>=T&&0===g&&"miter"!==h&&function ac(e,s,t){const{startAngle:i,x:n,y:o,outerRadius:a,innerRadius:l,options:c}=s,{borderWidth:d,borderJoinStyle:h}=c,u=Math.min(d/a,X(i-t));if(e.beginPath(),e.arc(n,o,a-d/2,i+u/2,t-u/2),l>0){const f=Math.min(d/l,X(i-t));e.arc(n,o,l+d/2,t-f/2,i+f/2,!0)}else{const f=Math.min(d/2,a*X(i-t));if("round"===h)e.arc(n,o,f,t-T/2,i+T/2,!0);else if("bevel"===h){const g=2*f*f,m=-g*Math.cos(t+T/2)+n,p=-g*Math.sin(t+T/2)+o,b=g*Math.cos(i+T/2)+n,x=g*Math.sin(i+T/2)+o;e.lineTo(m,p),e.lineTo(b,x)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,s,p),o||(He(e,s,t,i,p,n),e.stroke())}(s,this,d,o,a),s.restore()}},BarElement:class Rc extends _t{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(s){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,s&&Object.assign(this,s)}draw(s){const{inflateAmount:t,options:{borderColor:i,backgroundColor:n}}=this,{inner:o,outer:a}=function Cc(e){const s=Tn(e),t=s.right-s.left,i=s.bottom-s.top,n=function Sc(e,s,t){const n=e.borderSkipped,o=ks(e.options.borderWidth);return{t:Dt(n.top,o.top,0,t),r:Dt(n.right,o.right,0,s),b:Dt(n.bottom,o.bottom,0,t),l:Dt(n.left,o.left,0,s)}}(e,t/2,i/2),o=function Mc(e,s,t){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),n=e.options.borderRadius,o=Tt(n),a=Math.min(s,t),l=e.borderSkipped,c=i||E(n);return{topLeft:Dt(!c||l.top||l.left,o.topLeft,0,a),topRight:Dt(!c||l.top||l.right,o.topRight,0,a),bottomLeft:Dt(!c||l.bottom||l.left,o.bottomLeft,0,a),bottomRight:Dt(!c||l.bottom||l.right,o.bottomRight,0,a)}}(e,t/2,i/2);return{outer:{x:s.left,y:s.top,w:t,h:i,radius:o},inner:{x:s.left+n.l,y:s.top+n.t,w:t-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,o.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(n.b,n.r))}}}}(this),l=function Fc(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}(a.radius)?le:Dc;s.save(),(a.w!==o.w||a.h!==o.h)&&(s.beginPath(),l(s,ji(a,t,o)),s.clip(),l(s,ji(o,-t,a)),s.fillStyle=i,s.fill("evenodd")),s.beginPath(),l(s,ji(o,t)),s.fillStyle=n,s.fill(),s.restore()}inRange(s,t,i){return Ii(this,s,t,i)}inXRange(s,t){return Ii(this,s,null,t)}inYRange(s,t){return Ii(this,null,s,t)}getCenterPoint(s){const{x:t,y:i,base:n,horizontal:o}=this.getProps(["x","y","base","horizontal"],s);return{x:o?(t+n)/2:t,y:o?i:(i+n)/2}}getRange(s){return"x"===s?this.width/2:this.height/2}},LineElement:We,PointElement:wc});const Li=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Pn=Li.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function In(e){return Li[e%Li.length]}function jn(e){return Pn[e%Pn.length]}function Ln(e){let s;for(s in e)if(e[s].borderColor||e[s].backgroundColor)return!0;return!1}var Lc={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,s,t){if(!t.enabled)return;const{data:{datasets:i},options:n}=e.config,{elements:o}=n,a=Ln(i)||function Ic(e){return e&&(e.borderColor||e.backgroundColor)}(n)||o&&Ln(o)||function jc(){return"rgba(0,0,0,0.1)"!==N.borderColor||"rgba(0,0,0,0.1)"!==N.backgroundColor}();if(!t.forceOverride&&a)return;const l=function Pc(e){let s=0;return(t,i)=>{const n=e.getDatasetMeta(i).controller;n instanceof Fi?s=function Oc(e,s){return e.backgroundColor=e.data.map(()=>In(s++)),s}(t,s):n instanceof tn?s=function Tc(e,s){return e.backgroundColor=e.data.map(()=>jn(s++)),s}(t,s):n&&(s=function Ec(e,s){return e.borderColor=In(s),e.backgroundColor=jn(s),++s}(t,s))}}(e);i.forEach(l)}};function Bn(e){if(e._decimated){const s=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:s})}}function Nn(e){e.data.datasets.forEach(s=>{Bn(s)})}var zc={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,s,t)=>{if(!t.enabled)return void Nn(e);const i=e.width;e.data.datasets.forEach((n,o)=>{const{_data:a,indexAxis:l}=n,c=e.getDatasetMeta(o),d=a||n.data;if("y"===ce([l,e.options.indexAxis])||!c.controller.supportsDecimation)return;const h=e.scales[c.xAxisID];if("linear"!==h.type&&"time"!==h.type||e.options.parsing)return;let m,{start:u,count:f}=function $c(e,s){const t=s.length;let n,i=0;const{iScale:o}=e,{min:a,max:l,minDefined:c,maxDefined:d}=o.getUserBounds();return c&&(i=G(mt(s,o.axis,a).lo,0,t-1)),n=d?G(mt(s,o.axis,l).hi+1,i,t)-i:t-i,{start:i,count:n}}(c,d);if(f<=(t.threshold||4*i))Bn(n);else{switch(A(a)&&(n._data=d,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}})),t.algorithm){case"lttb":m=function Bc(e,s,t,i,n){const o=n.samples||i;if(o>=t)return e.slice(s,s+t);const a=[],l=(t-2)/(o-2);let c=0;const d=s+t-1;let u,f,g,m,p,h=s;for(a[c++]=e[h],u=0;u<o-2;u++){let _,b=0,x=0;const v=Math.floor((u+1)*l)+1+s,w=Math.min(Math.floor((u+2)*l)+1,t)+s,y=w-v;for(_=v;_<w;_++)b+=e[_].x,x+=e[_].y;b/=y,x/=y;const k=Math.floor(u*l)+1+s,M=Math.min(Math.floor((u+1)*l)+1,t)+s,{x:S,y:C}=e[h];for(g=m=-1,_=k;_<M;_++)m=.5*Math.abs((S-b)*(e[_].y-C)-(S-e[_].x)*(x-C)),m>g&&(g=m,f=e[_],p=_);a[c++]=f,h=p}return a[c++]=e[d],a}(d,u,f,i,t);break;case"min-max":m=function Nc(e,s,t,i){let a,l,c,d,h,u,f,g,m,p,n=0,o=0;const b=[],_=e[s].x,w=e[s+t-1].x-_;for(a=s;a<s+t;++a){l=e[a],c=(l.x-_)/w*i,d=l.y;const y=0|c;if(y===h)d<m?(m=d,u=a):d>p&&(p=d,f=a),n=(o*n+l.x)/++o;else{const k=a-1;if(!A(u)&&!A(f)){const M=Math.min(u,f),S=Math.max(u,f);M!==g&&M!==k&&b.push({...e[M],x:n}),S!==g&&S!==k&&b.push({...e[S],x:n})}a>0&&k!==g&&b.push(e[k]),b.push(l),h=y,o=0,m=p=d,u=f=g=a}}return b}(d,u,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}n._decimated=m}})},destroy(e){Nn(e)}};function Bi(e,s,t,i){if(i)return;let n=s[e],o=t[e];return"angle"===e&&(n=X(n),o=X(o)),{property:e,start:n,end:o}}function Ge(e,s,t){for(;s>e;s--){const i=t[s];if(!isNaN(i.x)&&!isNaN(i.y))break}return s}function $n(e,s,t,i){return e&&s?i(e[t],s[t]):e?e[t]:s?s[t]:0}function zn(e,s){let t=[],i=!1;return L(e)?(i=!0,t=e):t=function Vc(e,s){const{x:t=null,y:i=null}=e||{},n=s.points,o=[];return s.segments.forEach(({start:a,end:l})=>{l=Ge(a,l,n);const c=n[a],d=n[l];null!==i?(o.push({x:c.x,y:i}),o.push({x:d.x,y:i})):null!==t&&(o.push({x:t,y:c.y}),o.push({x:t,y:d.y}))}),o}(e,s),t.length?new We({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function Un(e){return e&&!1!==e.fill}function Hc(e,s,t){let n=e[s].fill;const o=[s];let a;if(!t)return n;for(;!1!==n&&-1===o.indexOf(n);){if(!z(n))return n;if(a=e[n],!a)return!1;if(a.visible)return n;o.push(n),n=a.fill}return!1}function Wc(e,s,t){const i=function Jc(e){const s=e.options,t=s.fill;let i=F(t&&t.target,t);return void 0===i&&(i=!!s.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(e);if(E(i))return!isNaN(i.value)&&i;let n=parseFloat(i);return z(n)&&Math.floor(n)===n?function Gc(e,s,t,i){return("-"===e||"+"===e)&&(t=s+t),!(t===s||t<0||t>=i)&&t}(i[0],s,n,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Zc(e,s,t){const i=[];for(let n=0;n<t.length;n++){const o=t[n],{first:a,last:l,point:c}=Qc(o,s,"x");if(!(!c||a&&l))if(a)i.unshift(c);else if(e.push(c),!l)break}e.push(...i)}function Qc(e,s,t){const i=e.interpolate(s,t);if(!i)return{};const n=i[t],o=e.segments,a=e.points;let l=!1,c=!1;for(let d=0;d<o.length;d++){const h=o[d],u=a[h.start][t],f=a[h.end][t];if(pt(n,u,f)){l=n===u,c=n===f;break}}return{first:l,last:c,point:i}}class Vn{constructor(s){this.x=s.x,this.y=s.y,this.radius=s.radius}pathSegment(s,t,i){const{x:n,y:o,radius:a}=this;return s.arc(n,o,a,(t=t||{start:0,end:B}).end,t.start,!0),!i.bounds}interpolate(s){const{x:t,y:i,radius:n}=this,o=s.angle;return{x:t+Math.cos(o)*n,y:i+Math.sin(o)*n,angle:o}}}function Ni(e,s,t){const i=function td(e){const{chart:s,fill:t,line:i}=e;if(z(t))return function ed(e,s){const t=e.getDatasetMeta(s);return t&&e.isDatasetVisible(s)?t.dataset:null}(s,t);if("stack"===t)return function Kc(e){const{scale:s,index:t,line:i}=e,n=[],o=i.segments,a=i.points,l=function qc(e,s){const t=[],i=e.getMatchingVisibleMetas("line");for(let n=0;n<i.length;n++){const o=i[n];if(o.index===s)break;o.hidden||t.unshift(o.dataset)}return t}(s,t);l.push(zn({x:null,y:s.bottom},i));for(let c=0;c<o.length;c++){const d=o[c];for(let h=d.start;h<=d.end;h++)Zc(n,a[h],l)}return new We({points:n,options:{}})}(e);if("shape"===t)return!0;const n=function id(e){return(e.scale||{}).getPointPositionForValue?function nd(e){const{scale:s,fill:t}=e,i=s.options,n=s.getLabels().length,o=i.reverse?s.max:s.min,a=function Xc(e,s,t){let i;return i="start"===e?t:"end"===e?s.options.reverse?s.min:s.max:E(e)?e.value:s.getBaseValue(),i}(t,s,o),l=[];if(i.grid.circular){const c=s.getPointPositionForValue(0,o);return new Vn({x:c.x,y:c.y,radius:s.getDistanceFromCenterForValue(a)})}for(let c=0;c<n;++c)l.push(s.getPointPositionForValue(c,a));return l}(e):function sd(e){const{scale:s={},fill:t}=e,i=function Yc(e,s){let t=null;return"start"===e?t=s.bottom:"end"===e?t=s.top:E(e)?t=s.getPixelForValue(e.value):s.getBasePixel&&(t=s.getBasePixel()),t}(t,s);if(z(i)){const n=s.isHorizontal();return{x:n?i:null,y:n?null:i}}return null}(e)}(e);return n instanceof Vn?n:zn(n,i)}(s),{chart:n,index:o,line:a,scale:l,axis:c}=s,d=a.options,h=d.fill,u=d.backgroundColor,{above:f=u,below:g=u}=h||{},m=n.getDatasetMeta(o),p=zs(n,m);i&&a.points.length&&(Ee(e,t),function od(e,s){const{line:t,target:i,above:n,below:o,area:a,scale:l,clip:c}=s,d=t._loop?"angle":s.axis;e.save();let h=o;o!==n&&("x"===d?(Hn(e,i,a.top),$i(e,{line:t,target:i,color:n,scale:l,property:d,clip:c}),e.restore(),e.save(),Hn(e,i,a.bottom)):"y"===d&&(Wn(e,i,a.left),$i(e,{line:t,target:i,color:o,scale:l,property:d,clip:c}),e.restore(),e.save(),Wn(e,i,a.right),h=n)),$i(e,{line:t,target:i,color:h,scale:l,property:d,clip:c}),e.restore()}(e,{line:a,target:i,above:f,below:g,area:t,scale:l,axis:c,clip:p}),Oe(e))}function Hn(e,s,t){const{segments:i,points:n}=s;let o=!0,a=!1;e.beginPath();for(const l of i){const{start:c,end:d}=l,h=n[c],u=n[Ge(c,d,n)];o?(e.moveTo(h.x,h.y),o=!1):(e.lineTo(h.x,t),e.lineTo(h.x,h.y)),a=!!s.pathSegment(e,l,{move:a}),a?e.closePath():e.lineTo(u.x,t)}e.lineTo(s.first().x,t),e.closePath(),e.clip()}function Wn(e,s,t){const{segments:i,points:n}=s;let o=!0,a=!1;e.beginPath();for(const l of i){const{start:c,end:d}=l,h=n[c],u=n[Ge(c,d,n)];o?(e.moveTo(h.x,h.y),o=!1):(e.lineTo(t,h.y),e.lineTo(h.x,h.y)),a=!!s.pathSegment(e,l,{move:a}),a?e.closePath():e.lineTo(t,u.y)}e.lineTo(t,s.first().y),e.closePath(),e.clip()}function $i(e,s){const{line:t,target:i,property:n,color:o,scale:a,clip:l}=s,c=function Uc(e,s,t){const i=e.segments,n=e.points,o=s.points,a=[];for(const l of i){let{start:c,end:d}=l;d=Ge(c,d,n);const h=Bi(t,n[c],n[d],l.loop);if(!s.segments){a.push({source:l,target:h,start:n[c],end:n[d]});continue}const u=Bs(s,h);for(const f of u){const g=Bi(t,o[f.start],o[f.end],f.loop),m=Ls(l,n,g);for(const p of m)a.push({source:p,target:f,start:{[t]:$n(h,g,"start",Math.max)},end:{[t]:$n(h,g,"end",Math.min)}})}}return a}(t,i,n);for(const{source:d,target:h,start:u,end:f}of c){const{style:{backgroundColor:g=o}={}}=d,m=!0!==i;e.save(),e.fillStyle=g,rd(e,a,l,m&&Bi(n,u,f)),e.beginPath();const p=!!t.pathSegment(e,d);let b;if(m){p?e.closePath():Gn(e,i,f,n);const x=!!i.pathSegment(e,h,{move:p,reverse:!0});b=p&&x,b||Gn(e,i,u,n)}e.closePath(),e.fill(b?"evenodd":"nonzero"),e.restore()}}function rd(e,s,t,i){const n=s.chart.chartArea,{property:o,start:a,end:l}=i||{};if("x"===o||"y"===o){let c,d,h,u;"x"===o?(c=a,d=n.top,h=l,u=n.bottom):(c=n.left,d=a,h=n.right,u=l),e.beginPath(),t&&(c=Math.max(c,t.left),h=Math.min(h,t.right),d=Math.max(d,t.top),u=Math.min(u,t.bottom)),e.rect(c,d,h-c,u-d),e.clip()}}function Gn(e,s,t,i){const n=s.interpolate(t,i);n&&e.lineTo(n.x,n.y)}var ad={id:"filler",afterDatasetsUpdate(e,s,t){const i=(e.data.datasets||[]).length,n=[];let o,a,l,c;for(a=0;a<i;++a)o=e.getDatasetMeta(a),l=o.dataset,c=null,l&&l.options&&l instanceof We&&(c={visible:e.isDatasetVisible(a),index:a,fill:Wc(l,a,i),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:l}),o.$filler=c,n.push(c);for(a=0;a<i;++a)c=n[a],c&&!1!==c.fill&&(c.fill=Hc(n,a,t.propagate))},beforeDraw(e,s,t){const i="beforeDraw"===t.drawTime,n=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let a=n.length-1;a>=0;--a){const l=n[a].$filler;l&&(l.line.updateControlPoints(o,l.axis),i&&l.fill&&Ni(e.ctx,l,o))}},beforeDatasetsDraw(e,s,t){if("beforeDatasetsDraw"!==t.drawTime)return;const i=e.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n){const o=i[n].$filler;Un(o)&&Ni(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,s,t){const i=s.meta.$filler;!Un(i)||"beforeDatasetDraw"!==t.drawTime||Ni(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Yn=(e,s)=>{let{boxHeight:t=s,boxWidth:i=s}=e;return e.usePointStyle&&(t=Math.min(t,s),i=e.pointStyleWidth||Math.min(i,s)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(s,t)}};class Xn extends _t{constructor(s){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,t,i){this.maxWidth=s,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const s=this.options.labels||{};let t=j(s.generateLabels,[this.chart],this)||[];s.filter&&(t=t.filter(i=>s.filter(i,this.chart.data))),s.sort&&(t=t.sort((i,n)=>s.sort(i,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:s,ctx:t}=this;if(!s.display)return void(this.width=this.height=0);const i=s.labels,n=W(i.font),o=n.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=Yn(i,o);let d,h;t.font=n.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(a,o,l,c)+10):(h=this.maxHeight,d=this._fitCols(a,n,l,c)+10),this.width=Math.min(d,s.maxWidth||this.maxWidth),this.height=Math.min(h,s.maxHeight||this.maxHeight)}_fitRows(s,t,i,n){const{ctx:o,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],h=n+l;let u=s;o.textAlign="left",o.textBaseline="middle";let f=-1,g=-h;return this.legendItems.forEach((m,p)=>{const b=i+t/2+o.measureText(m.text).width;(0===p||d[d.length-1]+b+2*l>a)&&(u+=h,d[d.length-(p>0?0:1)]=0,g+=h,f++),c[p]={left:0,top:g,row:f,width:b,height:n},d[d.length-1]+=b+l}),u}_fitCols(s,t,i,n){const{ctx:o,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],h=a-s;let u=l,f=0,g=0,m=0,p=0;return this.legendItems.forEach((b,x)=>{const{itemWidth:_,itemHeight:v}=function cd(e,s,t,i,n){const o=function dd(e,s,t,i){let n=e.text;return n&&"string"!=typeof n&&(n=n.reduce((o,a)=>o.length>a.length?o:a)),s+t.size/2+i.measureText(n).width}(i,e,s,t),a=function hd(e,s,t){let i=e;return"string"!=typeof s.text&&(i=Jn(s,t)),i}(n,i,s.lineHeight);return{itemWidth:o,itemHeight:a}}(i,t,o,b,n);x>0&&g+v+2*l>h&&(u+=f+l,d.push({width:f,height:g}),m+=f+l,p++,f=g=0),c[x]={left:m,top:g,col:p,width:_,height:v},f=Math.max(f,_),g+=v+l}),u+=f,d.push({width:f,height:g}),u}adjustHitBoxes(){if(!this.options.display)return;const s=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:n},rtl:o}}=this,a=Xt(o,this.left,this.width);if(this.isHorizontal()){let l=0,c=J(i,this.left+n,this.right-this.lineWidths[l]);for(const d of t)l!==d.row&&(l=d.row,c=J(i,this.left+n,this.right-this.lineWidths[l])),d.top+=this.top+s+n,d.left=a.leftForLtr(a.x(c),d.width),c+=d.width+n}else{let l=0,c=J(i,this.top+s+n,this.bottom-this.columnSizes[l].height);for(const d of t)d.col!==l&&(l=d.col,c=J(i,this.top+s+n,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+n,d.left=a.leftForLtr(a.x(d.left),d.width),c+=d.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const s=this.ctx;Ee(s,this),this._draw(),Oe(s)}}_draw(){const{options:s,columnSizes:t,lineWidths:i,ctx:n}=this,{align:o,labels:a}=s,l=N.color,c=Xt(s.rtl,this.left,this.width),d=W(a.font),{padding:h}=a,u=d.size,f=u/2;let g;this.drawTitle(),n.textAlign=c.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=d.string;const{boxWidth:m,boxHeight:p,itemHeight:b}=Yn(a,u),v=this.isHorizontal(),w=this._computeTitleHeight();g=v?{x:J(o,this.left+h,this.right-i[0]),y:this.top+h+w,line:0}:{x:this.left+h,y:J(o,this.top+w+h,this.bottom-t[0].height),line:0},Ts(this.ctx,s.textDirection);const y=b+h;this.legendItems.forEach((k,M)=>{n.strokeStyle=k.fontColor,n.fillStyle=k.fontColor;const S=n.measureText(k.text).width,C=c.textAlign(k.textAlign||(k.textAlign=a.textAlign)),R=m+f+S;let D=g.x,O=g.y;c.setWidth(this.width),v?M>0&&D+R+h>this.right&&(O=g.y+=y,g.line++,D=g.x=J(o,this.left+h,this.right-i[g.line])):M>0&&O+y>this.bottom&&(D=g.x=D+t[g.line].width+h,g.line++,O=g.y=J(o,this.top+w+h,this.bottom-t[g.line].height)),function(k,M,S){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;n.save();const C=F(S.lineWidth,1);if(n.fillStyle=F(S.fillStyle,l),n.lineCap=F(S.lineCap,"butt"),n.lineDashOffset=F(S.lineDashOffset,0),n.lineJoin=F(S.lineJoin,"miter"),n.lineWidth=C,n.strokeStyle=F(S.strokeStyle,l),n.setLineDash(F(S.lineDash,[])),a.usePointStyle){const R={radius:p*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:C},D=c.xPlus(k,m/2);vs(n,R,D,M+f,a.pointStyleWidth&&m)}else{const R=M+Math.max((u-p)/2,0),D=c.leftForLtr(k,m),O=Tt(S.borderRadius);n.beginPath(),Object.values(O).some(Y=>0!==Y)?le(n,{x:D,y:R,w:m,h:p,radius:O}):n.rect(D,R,m,p),n.fill(),0!==C&&n.stroke()}n.restore()}(c.x(D),O,k),D=((e,s,t,i)=>e===(i?"left":"right")?t:"center"===e?(s+t)/2:s)(C,D+m+f,v?D+R:this.right,s.rtl),function(k,M,S){Ot(n,S.text,k,M+b/2,d,{strikethrough:S.hidden,textAlign:c.textAlign(S.textAlign)})}(c.x(D),O,k),v?g.x+=R+h:g.y+="string"!=typeof k.text?Jn(k,d.lineHeight)+h:y}),Ps(this.ctx,s.textDirection)}drawTitle(){const s=this.options,t=s.title,i=W(t.font),n=K(t.padding);if(!t.display)return;const o=Xt(s.rtl,this.left,this.width),a=this.ctx,l=t.position,d=n.top+i.size/2;let h,u=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+d,u=J(s.align,u,this.right-f);else{const m=this.columnSizes.reduce((p,b)=>Math.max(p,b.height),0);h=d+J(s.align,this.top,this.bottom-m-s.labels.padding-this._computeTitleHeight())}const g=J(l,u,u+f);a.textAlign=o.textAlign(hi(l)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=i.string,Ot(a,t.text,g,h,i)}_computeTitleHeight(){const s=this.options.title,t=W(s.font),i=K(s.padding);return s.display?t.lineHeight+i.height:0}_getLegendItemAt(s,t){let i,n,o;if(pt(s,this.left,this.right)&&pt(t,this.top,this.bottom))for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(n=o[i],pt(s,n.left,n.left+n.width)&&pt(t,n.top,n.top+n.height))return this.legendItems[i];return null}handleEvent(s){const t=this.options;if(!function ud(e,s){return!(("mousemove"!==e&&"mouseout"!==e||!s.onHover&&!s.onLeave)&&(!s.onClick||"click"!==e&&"mouseup"!==e))}(s.type,t))return;const i=this._getLegendItemAt(s.x,s.y);if("mousemove"===s.type||"mouseout"===s.type){const n=this._hoveredItem,o=((e,s)=>null!==e&&null!==s&&e.datasetIndex===s.datasetIndex&&e.index===s.index)(n,i);n&&!o&&j(t.onLeave,[s,n,this],this),this._hoveredItem=i,i&&!o&&j(t.onHover,[s,i,this],this)}else i&&j(t.onClick,[s,i,this],this)}}function Jn(e,s){return s*(e.text?e.text.length:0)}var fd={id:"legend",_element:Xn,start(e,s,t){const i=e.legend=new Xn({ctx:e.ctx,options:t,chart:e});q.configure(e,i,t),q.addBox(e,i)},stop(e){q.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,s,t){const i=e.legend;q.configure(e,i,t),i.options=t},afterUpdate(e){const s=e.legend;s.buildLabels(),s.adjustHitBoxes()},afterEvent(e,s){s.replay||e.legend.handleEvent(s.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,s,t){const i=s.datasetIndex,n=t.chart;n.isDatasetVisible(i)?(n.hide(i),s.hidden=!0):(n.show(i),s.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const s=e.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:n,color:o,useBorderRadius:a,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(t?0:void 0),h=K(d.borderWidth);return{text:s[c.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:n||d.textAlign,borderRadius:a&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class zi extends _t{constructor(s){super(),this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,t){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=s,this.height=this.bottom=t;const n=L(i.text)?i.text.length:1;this._padding=K(i.padding);const o=n*W(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const s=this.options.position;return"top"===s||"bottom"===s}_drawArgs(s){const{top:t,left:i,bottom:n,right:o,options:a}=this,l=a.align;let d,h,u,c=0;return this.isHorizontal()?(h=J(l,i,o),u=t+s,d=o-i):("left"===a.position?(h=i+s,u=J(l,n,t),c=-.5*T):(h=o-s,u=J(l,t,n),c=.5*T),d=n-t),{titleX:h,titleY:u,maxWidth:d,rotation:c}}draw(){const s=this.ctx,t=this.options;if(!t.display)return;const i=W(t.font),o=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(o);Ot(s,t.text,0,0,i,{color:t.color,maxWidth:c,rotation:d,textAlign:hi(t.align),textBaseline:"middle",translation:[a,l]})}}var pd={id:"title",_element:zi,start(e,s,t){!function gd(e,s){const t=new zi({ctx:e.ctx,options:s,chart:e});q.configure(e,t,s),q.addBox(e,t),e.titleBlock=t}(e,t)},stop(e){q.removeBox(e,e.titleBlock),delete e.titleBlock},beforeUpdate(e,s,t){const i=e.titleBlock;q.configure(e,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ye=new WeakMap;var md={id:"subtitle",start(e,s,t){const i=new zi({ctx:e.ctx,options:t,chart:e});q.configure(e,i,t),q.addBox(e,i),Ye.set(e,i)},stop(e){q.removeBox(e,Ye.get(e)),Ye.delete(e)},beforeUpdate(e,s,t){const i=Ye.get(e);q.configure(e,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xe={average(e){if(!e.length)return!1;let s,t,i=new Set,n=0,o=0;for(s=0,t=e.length;s<t;++s){const l=e[s].element;if(l&&l.hasValue()){const c=l.tooltipPosition();i.add(c.x),n+=c.y,++o}}return 0!==o&&0!==i.size&&{x:[...i].reduce((l,c)=>l+c)/i.size,y:n/o}},nearest(e,s){if(!e.length)return!1;let o,a,l,t=s.x,i=s.y,n=Number.POSITIVE_INFINITY;for(o=0,a=e.length;o<a;++o){const c=e[o].element;if(c&&c.hasValue()){const h=ci(s,c.getCenterPoint());h<n&&(n=h,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,i=c.y}return{x:t,y:i}}};function ht(e,s){return s&&(L(s)?Array.prototype.push.apply(e,s):e.push(s)),e}function yt(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function bd(e,s){const{element:t,datasetIndex:i,index:n}=s,o=e.getDatasetMeta(i).controller,{label:a,value:l}=o.getLabelAndValue(n);return{chart:e,label:a,parsed:o.getParsed(n),raw:e.data.datasets[i].data[n],formattedValue:l,dataset:o.getDataset(),dataIndex:n,datasetIndex:i,element:t}}function Kn(e,s){const t=e.chart.ctx,{body:i,footer:n,title:o}=e,{boxWidth:a,boxHeight:l}=s,c=W(s.bodyFont),d=W(s.titleFont),h=W(s.footerFont),u=o.length,f=n.length,g=i.length,m=K(s.padding);let p=m.height,b=0,x=i.reduce((w,y)=>w+y.before.length+y.lines.length+y.after.length,0);x+=e.beforeBody.length+e.afterBody.length,u&&(p+=u*d.lineHeight+(u-1)*s.titleSpacing+s.titleMarginBottom),x&&(p+=g*(s.displayColors?Math.max(l,c.lineHeight):c.lineHeight)+(x-g)*c.lineHeight+(x-1)*s.bodySpacing),f&&(p+=s.footerMarginTop+f*h.lineHeight+(f-1)*s.footerSpacing);let _=0;const v=function(w){b=Math.max(b,t.measureText(w).width+_)};return t.save(),t.font=d.string,P(e.title,v),t.font=c.string,P(e.beforeBody.concat(e.afterBody),v),_=s.displayColors?a+2+s.boxPadding:0,P(i,w=>{P(w.before,v),P(w.lines,v),P(w.after,v)}),_=0,t.font=h.string,P(e.footer,v),t.restore(),b+=m.width,{width:b,height:p}}function yd(e,s,t,i){const{x:n,width:o}=t,{width:a,chartArea:{left:l,right:c}}=e;let d="center";return"center"===i?d=n<=(l+c)/2?"left":"right":n<=o/2?d="left":n>=a-o/2&&(d="right"),function _d(e,s,t,i){const{x:n,width:o}=i,a=t.caretSize+t.caretPadding;if("left"===e&&n+o+a>s.width||"right"===e&&n-o-a<0)return!0}(d,e,s,t)&&(d="center"),d}function qn(e,s,t){const i=t.yAlign||s.yAlign||function xd(e,s){const{y:t,height:i}=s;return t<i/2?"top":t>e.height-i/2?"bottom":"center"}(e,t);return{xAlign:t.xAlign||s.xAlign||yd(e,s,t,i),yAlign:i}}function Zn(e,s,t,i){const{caretSize:n,caretPadding:o,cornerRadius:a}=e,{xAlign:l,yAlign:c}=t,d=n+o,{topLeft:h,topRight:u,bottomLeft:f,bottomRight:g}=Tt(a);let m=function vd(e,s){let{x:t,width:i}=e;return"right"===s?t-=i:"center"===s&&(t-=i/2),t}(s,l);const p=function kd(e,s,t){let{y:i,height:n}=e;return"top"===s?i+=t:i-="bottom"===s?n+t:n/2,i}(s,c,d);return"center"===c?"left"===l?m+=d:"right"===l&&(m-=d):"left"===l?m-=Math.max(h,f)+n:"right"===l&&(m+=Math.max(u,g)+n),{x:G(m,0,i.width-s.width),y:G(p,0,i.height-s.height)}}function Xe(e,s,t){const i=K(t.padding);return"center"===s?e.x+e.width/2:"right"===s?e.x+e.width-i.right:e.x+i.left}function Qn(e){return ht([],yt(e))}function to(e,s){const t=s&&s.dataset&&s.dataset.tooltip&&s.dataset.tooltip.callbacks;return t?e.override(t):e}const eo={beforeTitle:gt,title(e){if(e.length>0){const s=e[0],t=s.chart.data.labels,i=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return s.dataset.label||"";if(s.label)return s.label;if(i>0&&s.dataIndex<i)return t[s.dataIndex]}return""},afterTitle:gt,beforeBody:gt,beforeLabel:gt,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let s=e.dataset.label||"";s&&(s+=": ");const t=e.formattedValue;return A(t)||(s+=t),s},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:gt,afterBody:gt,beforeFooter:gt,footer:gt,afterFooter:gt};function et(e,s,t,i){const n=e[s].call(t,i);return typeof n>"u"?eo[s].call(t,i):n}let io=(()=>class e extends _t{static positioners=xe;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const i=this.chart,n=this.options.setContext(this.getContext()),o=n.enabled&&i.options.animation&&n.animations,a=new Vs(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=function wd(e,s,t){return Mt(e,{tooltip:s,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){const{callbacks:n}=i,o=et(n,"beforeTitle",this,t),a=et(n,"title",this,t),l=et(n,"afterTitle",this,t);let c=[];return c=ht(c,yt(o)),c=ht(c,yt(a)),c=ht(c,yt(l)),c}getBeforeBody(t,i){return Qn(et(i.callbacks,"beforeBody",this,t))}getBody(t,i){const{callbacks:n}=i,o=[];return P(t,a=>{const l={before:[],lines:[],after:[]},c=to(n,a);ht(l.before,yt(et(c,"beforeLabel",this,a))),ht(l.lines,et(c,"label",this,a)),ht(l.after,yt(et(c,"afterLabel",this,a))),o.push(l)}),o}getAfterBody(t,i){return Qn(et(i.callbacks,"afterBody",this,t))}getFooter(t,i){const{callbacks:n}=i,o=et(n,"beforeFooter",this,t),a=et(n,"footer",this,t),l=et(n,"afterFooter",this,t);let c=[];return c=ht(c,yt(o)),c=ht(c,yt(a)),c=ht(c,yt(l)),c}_createItems(t){const i=this._active,n=this.chart.data,o=[],a=[],l=[];let d,h,c=[];for(d=0,h=i.length;d<h;++d)c.push(bd(this.chart,i[d]));return t.filter&&(c=c.filter((u,f,g)=>t.filter(u,f,g,n))),t.itemSort&&(c=c.sort((u,f)=>t.itemSort(u,f,n))),P(c,u=>{const f=to(t.callbacks,u);o.push(et(f,"labelColor",this,u)),a.push(et(f,"labelPointStyle",this,u)),l.push(et(f,"labelTextColor",this,u))}),this.labelColors=o,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(t,i){const n=this.options.setContext(this.getContext()),o=this._active;let a,l=[];if(o.length){const c=xe[n.position].call(this,o,this._eventPosition);l=this._createItems(n),this.title=this.getTitle(l,n),this.beforeBody=this.getBeforeBody(l,n),this.body=this.getBody(l,n),this.afterBody=this.getAfterBody(l,n),this.footer=this.getFooter(l,n);const d=this._size=Kn(this,n),h=Object.assign({},c,d),u=qn(this.chart,n,h),f=Zn(n,h,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,a={opacity:1,x:f.x,y:f.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,n,o){const a=this.getCaretPosition(t,n,o);i.lineTo(a.x1,a.y1),i.lineTo(a.x2,a.y2),i.lineTo(a.x3,a.y3)}getCaretPosition(t,i,n){const{xAlign:o,yAlign:a}=this,{caretSize:l,cornerRadius:c}=n,{topLeft:d,topRight:h,bottomLeft:u,bottomRight:f}=Tt(c),{x:g,y:m}=t,{width:p,height:b}=i;let x,_,v,w,y,k;return"center"===a?(y=m+b/2,"left"===o?(x=g,_=x-l,w=y+l,k=y-l):(x=g+p,_=x+l,w=y-l,k=y+l),v=x):(_="left"===o?g+Math.max(d,u)+l:"right"===o?g+p-Math.max(h,f)-l:this.caretX,"top"===a?(w=m,y=w-l,x=_-l,v=_+l):(w=m+b,y=w+l,x=_+l,v=_-l),k=w),{x1:x,x2:_,x3:v,y1:w,y2:y,y3:k}}drawTitle(t,i,n){const o=this.title,a=o.length;let l,c,d;if(a){const h=Xt(n.rtl,this.x,this.width);for(t.x=Xe(this,n.titleAlign,n),i.textAlign=h.textAlign(n.titleAlign),i.textBaseline="middle",l=W(n.titleFont),c=n.titleSpacing,i.fillStyle=n.titleColor,i.font=l.string,d=0;d<a;++d)i.fillText(o[d],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,d+1===a&&(t.y+=n.titleMarginBottom-c)}}_drawColorBox(t,i,n,o,a){const l=this.labelColors[n],c=this.labelPointStyles[n],{boxHeight:d,boxWidth:h}=a,u=W(a.bodyFont),f=Xe(this,"left",a),g=o.x(f),p=i.y+(d<u.lineHeight?(u.lineHeight-d)/2:0);if(a.usePointStyle){const b={radius:Math.min(h,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},x=o.leftForLtr(g,h)+h/2,_=p+d/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,mi(t,b,x,_),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,mi(t,b,x,_)}else{t.lineWidth=E(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const b=o.leftForLtr(g,h),x=o.leftForLtr(o.xPlus(g,1),h-2),_=Tt(l.borderRadius);Object.values(_).some(v=>0!==v)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,le(t,{x:b,y:p,w:h,h:d,radius:_}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),le(t,{x,y:p+1,w:h-2,h:d-2,radius:_}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(b,p,h,d),t.strokeRect(b,p,h,d),t.fillStyle=l.backgroundColor,t.fillRect(x,p+1,h-2,d-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,i,n){const{body:o}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:d,boxWidth:h,boxPadding:u}=n,f=W(n.bodyFont);let g=f.lineHeight,m=0;const p=Xt(n.rtl,this.x,this.width),b=function(C){i.fillText(C,p.x(t.x+m),t.y+g/2),t.y+=g+a},x=p.textAlign(l);let _,v,w,y,k,M,S;for(i.textAlign=l,i.textBaseline="middle",i.font=f.string,t.x=Xe(this,x,n),i.fillStyle=n.bodyColor,P(this.beforeBody,b),m=c&&"right"!==x?"center"===l?h/2+u:h+2+u:0,y=0,M=o.length;y<M;++y){for(_=o[y],v=this.labelTextColors[y],i.fillStyle=v,P(_.before,b),w=_.lines,c&&w.length&&(this._drawColorBox(i,t,y,p,n),g=Math.max(f.lineHeight,d)),k=0,S=w.length;k<S;++k)b(w[k]),g=f.lineHeight;P(_.after,b)}m=0,g=f.lineHeight,P(this.afterBody,b),t.y-=a}drawFooter(t,i,n){const o=this.footer,a=o.length;let l,c;if(a){const d=Xt(n.rtl,this.x,this.width);for(t.x=Xe(this,n.footerAlign,n),t.y+=n.footerMarginTop,i.textAlign=d.textAlign(n.footerAlign),i.textBaseline="middle",l=W(n.footerFont),i.fillStyle=n.footerColor,i.font=l.string,c=0;c<a;++c)i.fillText(o[c],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+n.footerSpacing}}drawBackground(t,i,n,o){const{xAlign:a,yAlign:l}=this,{x:c,y:d}=t,{width:h,height:u}=n,{topLeft:f,topRight:g,bottomLeft:m,bottomRight:p}=Tt(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(c+f,d),"top"===l&&this.drawCaret(t,i,n,o),i.lineTo(c+h-g,d),i.quadraticCurveTo(c+h,d,c+h,d+g),"center"===l&&"right"===a&&this.drawCaret(t,i,n,o),i.lineTo(c+h,d+u-p),i.quadraticCurveTo(c+h,d+u,c+h-p,d+u),"bottom"===l&&this.drawCaret(t,i,n,o),i.lineTo(c+m,d+u),i.quadraticCurveTo(c,d+u,c,d+u-m),"center"===l&&"left"===a&&this.drawCaret(t,i,n,o),i.lineTo(c,d+f),i.quadraticCurveTo(c,d,c+f,d),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){const i=this.chart,n=this.$animations,o=n&&n.x,a=n&&n.y;if(o||a){const l=xe[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=Kn(this,t),d=Object.assign({},l,this._size),h=qn(i,t,d),u=Zn(t,d,h,i);(o._to!==u.x||a._to!==u.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const i=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(i);const o={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const l=K(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=n,this.drawBackground(a,t,o,i),Ts(t,i.textDirection),a.y+=l.top,this.drawTitle(a,t,i),this.drawBody(a,t,i),this.drawFooter(a,t,i),Ps(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){const n=this._active,o=t.map(({datasetIndex:c,index:d})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[d],index:d}}),a=!Me(n,o),l=this._positionChanged(o,i);(a||l)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,n=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,a=this._active||[],l=this._getActiveElements(t,a,i,n),c=this._positionChanged(l,t),d=i||!Me(l,a)||c;return d&&(this._active=l,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),d}_getActiveElements(t,i,n,o){const a=this.options;if("mouseout"===t.type)return[];if(!o)return i.filter(c=>this.chart.data.datasets[c.datasetIndex]&&void 0!==this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index));const l=this.chart.getElementsAtEventForMode(t,a.mode,a,n);return a.reverse&&l.reverse(),l}_positionChanged(t,i){const{caretX:n,caretY:o,options:a}=this,l=xe[a.position].call(this,t,i);return!1!==l&&(n!==l.x||o!==l.y)}})();var Md=Object.freeze({__proto__:null,Colors:Lc,Decimation:zc,Filler:ad,Legend:fd,SubTitle:md,Title:pd,Tooltip:{id:"tooltip",_element:io,positioners:xe,afterInit(e,s,t){t&&(e.tooltip=new io({chart:e,options:t}))},beforeUpdate(e,s,t){e.tooltip&&e.tooltip.initialize(t)},reset(e,s,t){e.tooltip&&e.tooltip.initialize(t)},afterDraw(e){const s=e.tooltip;if(s&&s._willRender()){const t={tooltip:s};if(!1===e.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0}))return;s.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",t)}},afterEvent(e,s){e.tooltip&&e.tooltip.handleEvent(s.event,s.replay,s.inChartArea)&&(s.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,s)=>s.bodyFont.size,boxWidth:(e,s)=>s.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:eo},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function so(e){const s=this.getLabels();return e>=0&&e<s.length?s[e]:e}let Rd=(()=>class e extends Bt{static id="category";static defaults={ticks:{callback:so}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const i=this._addedLabels;if(i.length){const n=this.getLabels();for(const{index:o,label:a}of i)n[o]===a&&n.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(A(t))return null;const n=this.getLabels();return((e,s)=>null===e?null:G(Math.round(e),0,s))(i=isFinite(i)&&n[i]===t?i:function Fd(e,s,t,i){const n=e.indexOf(s);return-1===n?((e,s,t,i)=>("string"==typeof s?(t=e.push(s)-1,i.unshift({index:t,label:s})):isNaN(s)&&(t=null),t))(e,s,t,i):n!==e.lastIndexOf(s)?t:n}(n,t,F(i,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:n,max:o}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),i||(o=this.getLabels().length-1)),this.min=n,this.max=o}buildTicks(){const t=this.min,i=this.max,n=this.options.offset,o=[];let a=this.getLabels();a=0===t&&i===a.length-1?a:a.slice(t,i+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let l=t;l<=i;l++)o.push({value:l});return o}getLabelForValue(t){return so.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}})();function no(e,s,{horizontal:t,minRotation:i}){const n=at(i),o=(t?Math.sin(n):Math.cos(n))||.001;return Math.min(s/o,.75*s*(""+e).length)}class Je extends Bt{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(s,t){return A(s)||("number"==typeof s||s instanceof Number)&&!isFinite(+s)?null:+s}handleTickRangeOptions(){const{beginAtZero:s}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:n,max:o}=this;const a=c=>n=t?n:c,l=c=>o=i?o:c;if(s){const c=ct(n),d=ct(o);c<0&&d<0?l(0):c>0&&d>0&&a(0)}if(n===o){let c=0===o?1:Math.abs(.05*o);l(o+c),s||a(n-c)}this.min=n,this.max=o}getTickLimit(){const s=this.options.ticks;let n,{maxTicksLimit:t,stepSize:i}=s;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),t=t||11),t&&(n=Math.min(t,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const s=this.options,t=s.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a=function Ad(e,s){const t=[],{bounds:n,step:o,min:a,max:l,precision:c,count:d,maxTicks:h,maxDigits:u,includeBounds:f}=e,g=o||1,m=h-1,{min:p,max:b}=s,x=!A(a),_=!A(l),v=!A(d),w=(b-p)/(u+1);let k,M,S,C,y=ns((b-p)/m/g)*g;if(y<1e-14&&!x&&!_)return[{value:p},{value:b}];C=Math.ceil(b/y)-Math.floor(p/y),C>m&&(y=ns(C*y/m/g)*g),A(c)||(k=Math.pow(10,c),y=Math.ceil(y*k)/k),"ticks"===n?(M=Math.floor(p/y)*y,S=Math.ceil(b/y)*y):(M=p,S=b),x&&_&&o&&function pr(e,s){const t=Math.round(e);return t-s<=e&&t+s>=e}((l-a)/o,y/1e3)?(C=Math.round(Math.min((l-a)/y,h)),y=(l-a)/C,M=a,S=l):v?(M=x?a:M,S=_?l:S,C=d-1,y=(S-M)/C):(C=(S-M)/y,C=se(C,Math.round(C),y/1e3)?Math.round(C):Math.ceil(C));const R=Math.max(rs(y),rs(M));k=Math.pow(10,A(c)?R:c),M=Math.round(M*k)/k,S=Math.round(S*k)/k;let D=0;for(x&&(f&&M!==a?(t.push({value:a}),M<a&&D++,se(Math.round((M+D*y)*k)/k,a,no(a,w,e))&&D++):M<a&&D++);D<C;++D){const O=Math.round((M+D*y)*k)/k;if(_&&O>l)break;t.push({value:O})}return _&&f&&S!==l?t.length&&se(t[t.length-1].value,l,no(l,w,e))?t[t.length-1].value=l:t.push({value:l}):(!_||S===l)&&t.push({value:S}),t}({maxTicks:i,bounds:s.bounds,min:s.min,max:s.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===s.bounds&&os(a,this,"value"),s.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const s=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&s.length){const n=(i-t)/Math.max(s.length-1,1)/2;t-=n,i+=n}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(s){return re(s,this.chart.options.locale,this.options.ticks.format)}}const _e=e=>Math.floor(St(e)),Nt=(e,s)=>Math.pow(10,_e(e)+s);function oo(e){return e/Math.pow(10,_e(e))==1}function ro(e,s,t){const i=Math.pow(10,t),n=Math.floor(e/i);return Math.ceil(s/i)-n}function Ui(e){const s=e.ticks;if(s.display&&e.display){const t=K(s.backdropPadding);return F(s.font&&s.font.size,N.font.size)+t.height}return 0}function Id(e,s,t){return t=L(t)?t:[t],{w:Or(e,s.string,t),h:t.length*s.lineHeight}}function ao(e,s,t,i,n){return e===i||e===n?{start:s-t/2,end:s+t/2}:e<i||e>n?{start:s-t,end:s}:{start:s,end:s+t}}function Ld(e,s,t,i,n){const o=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let l=0,c=0;i.start<s.l?(l=(s.l-i.start)/o,e.l=Math.min(e.l,s.l-l)):i.end>s.r&&(l=(i.end-s.r)/o,e.r=Math.max(e.r,s.r+l)),n.start<s.t?(c=(s.t-n.start)/a,e.t=Math.min(e.t,s.t-c)):n.end>s.b&&(c=(n.end-s.b)/a,e.b=Math.max(e.b,s.b+c))}function Bd(e,s,t){const i=e.drawingArea,{extra:n,additionalAngle:o,padding:a,size:l}=t,c=e.getPointPosition(s,i+n+a,o),d=Math.round(li(X(c.angle+U))),h=function Vd(e,s,t){return 90===t||270===t?e-=s/2:(t>270||t<90)&&(e-=s),e}(c.y,l.h,d),u=function zd(e){return 0===e||180===e?"center":e<180?"left":"right"}(d),f=function Ud(e,s,t){return"right"===t?e-=s:"center"===t&&(e-=s/2),e}(c.x,l.w,u);return{visible:!0,x:c.x,y:h,textAlign:u,left:f,top:h,right:f+l.w,bottom:h+l.h}}function Nd(e,s){if(!s)return!0;const{left:t,top:i,right:n,bottom:o}=e;return!(bt({x:t,y:i},s)||bt({x:t,y:o},s)||bt({x:n,y:i},s)||bt({x:n,y:o},s))}function Hd(e,s,t){const{left:i,top:n,right:o,bottom:a}=t,{backdropColor:l}=s;if(!A(l)){const c=Tt(s.borderRadius),d=K(s.backdropPadding);e.fillStyle=l;const h=i-d.left,u=n-d.top,f=o-i+d.width,g=a-n+d.height;Object.values(c).some(m=>0!==m)?(e.beginPath(),le(e,{x:h,y:u,w:f,h:g,radius:c}),e.fill()):e.fillRect(h,u,f,g)}}function lo(e,s,t,i){const{ctx:n}=e;if(t)n.arc(e.xCenter,e.yCenter,s,0,B);else{let o=e.getPointPosition(0,s);n.moveTo(o.x,o.y);for(let a=1;a<i;a++)o=e.getPointPosition(a,s),n.lineTo(o.x,o.y)}}const Ke={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},it=Object.keys(Ke);function co(e,s){return e-s}function ho(e,s){if(A(s))return null;const t=e._adapter,{parser:i,round:n,isoWeekday:o}=e._parseOpts;let a=s;return"function"==typeof i&&(a=i(a)),z(a)||(a="string"==typeof i?t.parse(a,i):t.parse(a)),null===a?null:(n&&(a="week"!==n||!Wt(o)&&!0!==o?t.startOf(a,n):t.startOf(a,"isoWeek",o)),+a)}function uo(e,s,t,i){const n=it.length;for(let o=it.indexOf(e);o<n-1;++o){const a=Ke[it[o]];if(a.common&&Math.ceil((t-s)/((a.steps?a.steps:Number.MAX_SAFE_INTEGER)*a.size))<=i)return it[o]}return it[n-1]}function fo(e,s,t){if(t){if(t.length){const{lo:i,hi:n}=di(t,s);e[t[i]>=s?t[i]:t[n]]=!0}}else e[s]=!0}function go(e,s,t){const i=[],n={},o=s.length;let a,l;for(a=0;a<o;++a)l=s[a],n[l]=a,i.push({value:l,major:!1});return 0!==o&&t?function qd(e,s,t,i){const n=e._adapter,o=+n.startOf(s[0].value,i),a=s[s.length-1].value;let l,c;for(l=o;l<=a;l=+n.add(l,1,i))c=t[l],c>=0&&(s[c].major=!0);return s}(e,i,n,t):i}let Vi=(()=>class e extends Bt{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i={}){const n=t.time||(t.time={}),o=this._adapter=new Za__date(t.adapters.date);o.init(i),ee(n.displayFormats,o.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return void 0===t?null:ho(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,n=t.time.unit||"day";let{min:o,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function d(h){!l&&!isNaN(h.min)&&(o=Math.min(o,h.min)),!c&&!isNaN(h.max)&&(a=Math.max(a,h.max))}(!l||!c)&&(d(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&d(this.getMinMax(!1))),o=z(o)&&!isNaN(o)?o:+i.startOf(Date.now(),n),a=z(a)&&!isNaN(a)?a:+i.endOf(Date.now(),n)+1,this.min=Math.min(o,a-1),this.max=Math.max(o+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],n=t[t.length-1]),{min:i,max:n}}buildTicks(){const t=this.options,i=t.time,n=t.ticks,o="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const a=this.min,c=function _r(e,s,t){let i=0,n=e.length;for(;i<n&&e[i]<s;)i++;for(;n>i&&e[n-1]>t;)n--;return i>0||n<e.length?e.slice(i,n):e}(o,a,this.max);return this._unit=i.unit||(n.autoSkip?uo(i.minUnit,this.min,this.max,this._getLabelCapacity(a)):function Jd(e,s,t,i,n){for(let o=it.length-1;o>=it.indexOf(t);o--){const a=it[o];if(Ke[a].common&&e._adapter.diff(n,i,a)>=s-1)return a}return it[t?it.indexOf(t):0]}(this,c.length,i.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function Kd(e){for(let s=it.indexOf(e)+1,t=it.length;s<t;++s)if(Ke[it[s]].common)return it[s]}(this._unit):void 0,this.initOffsets(o),t.reverse&&c.reverse(),go(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let o,a,i=0,n=0;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),i=1===t.length?1-o:(this.getDecimalForValue(t[1])-o)/2,a=this.getDecimalForValue(t[t.length-1]),n=1===t.length?a:(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;i=G(i,0,l),n=G(n,0,l),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){const t=this._adapter,i=this.min,n=this.max,o=this.options,a=o.time,l=a.unit||uo(a.minUnit,i,n,this._getLabelCapacity(i)),c=F(o.ticks.stepSize,1),d="week"===l&&a.isoWeekday,h=Wt(d)||!0===d,u={};let g,m,f=i;if(h&&(f=+t.startOf(f,"isoWeek",d)),f=+t.startOf(f,h?"day":l),t.diff(n,i,l)>1e5*c)throw new Error(i+" and "+n+" are too far apart with stepSize of "+c+" "+l);const p="data"===o.ticks.source&&this.getDataTimestamps();for(g=f,m=0;g<n;g=+t.add(g,c,l),m++)fo(u,g,p);return(g===n||"ticks"===o.bounds||1===m)&&fo(u,g,p),Object.keys(u).sort(co).map(b=>+b)}getLabelForValue(t){const n=this.options.time;return this._adapter.format(t,n.tooltipFormat?n.tooltipFormat:n.displayFormats.datetime)}format(t,i){return this._adapter.format(t,i||this.options.time.displayFormats[this._unit])}_tickFormatFunction(t,i,n,o){const a=this.options,l=a.ticks.callback;if(l)return j(l,[t,i,n],this);const c=a.time.displayFormats,d=this._unit,h=this._majorUnit,f=h&&c[h],g=n[i];return this._adapter.format(t,o||(h&&f&&g&&g.major?f:d&&c[d]))}generateTickLabels(t){let i,n,o;for(i=0,n=t.length;i<n;++i)o=t[i],o.label=this._tickFormatFunction(o.value,i,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+n)*i.factor)}getValueForPixel(t){const i=this._offsets,n=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,n=this.ctx.measureText(t).width,o=at(this.isHorizontal()?i.maxRotation:i.minRotation),a=Math.cos(o),l=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:n*a+c*l,h:n*l+c*a}}_getLabelCapacity(t){const i=this.options.time,n=i.displayFormats,o=n[i.unit]||n.millisecond,a=this._tickFormatFunction(t,0,go(this,[t],this._majorUnit),o),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let i,n,t=this._cache.data||[];if(t.length)return t;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,n=o.length;i<n;++i)t=t.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,n;if(t.length)return t;const o=this.getLabels();for(i=0,n=o.length;i<n;++i)t.push(ho(this,o[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ds(t.sort(co))}})();function qe(e,s,t){let o,a,l,c,i=0,n=e.length-1;t?(s>=e[i].pos&&s<=e[n].pos&&({lo:i,hi:n}=mt(e,"pos",s)),({pos:o,time:l}=e[i]),({pos:a,time:c}=e[n])):(s>=e[i].time&&s<=e[n].time&&({lo:i,hi:n}=mt(e,"time",s)),({time:o,pos:l}=e[i]),({time:a,pos:c}=e[n]));const d=a-o;return d?l+(c-l)*(s-o)/d:l}const th=[qa,Ac,Md,Object.freeze({__proto__:null,CategoryScale:Rd,LinearScale:class Ed extends Je{static id="linear";static defaults={ticks:{callback:Re.formatters.numeric}};determineDataLimits(){const{min:s,max:t}=this.getMinMax(!0);this.min=z(s)?s:0,this.max=z(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const s=this.isHorizontal(),t=s?this.width:this.height,i=at(this.options.ticks.minRotation),n=(s?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/n))}getPixelForValue(s){return null===s?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getValueForPixel(s){return this._startValue+this.getDecimalForPixel(s)*this._valueRange}},LogarithmicScale:class Pd extends Bt{static id="logarithmic";static defaults={ticks:{callback:Re.formatters.logarithmic,major:{enabled:!0}}};constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(s,t){const i=Je.prototype.parse.apply(this,[s,t]);if(0!==i)return z(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:s,max:t}=this.getMinMax(!0);this.min=z(s)?Math.max(0,s):null,this.max=z(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!z(this._userMin)&&(this.min=s===Nt(this.min,0)?Nt(this.min,-1):Nt(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:s,maxDefined:t}=this.getUserBounds();let i=this.min,n=this.max;const o=l=>i=s?i:l,a=l=>n=t?n:l;i===n&&(i<=0?(o(1),a(10)):(o(Nt(i,-1)),a(Nt(n,1)))),i<=0&&o(Nt(n,-1)),n<=0&&a(Nt(i,1)),this.min=i,this.max=n}buildTicks(){const s=this.options,i=function Td(e,{min:s,max:t}){s=st(e.min,s);const i=[],n=_e(s);let o=function Od(e,s){let i=_e(s-e);for(;ro(e,s,i)>10;)i++;for(;ro(e,s,i)<10;)i--;return Math.min(i,_e(e))}(s,t),a=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=n>o?Math.pow(10,n):0,d=Math.round((s-c)*a)/a,h=Math.floor((s-c)/l/10)*l*10;let u=Math.floor((d-h)/Math.pow(10,o)),f=st(e.min,Math.round((c+h+u*Math.pow(10,o))*a)/a);for(;f<t;)i.push({value:f,major:oo(f),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(o++,u=2,a=o>=0?1:a),f=Math.round((c+h+u*Math.pow(10,o))*a)/a;const g=st(e.max,f);return i.push({value:g,major:oo(g),significand:u}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===s.bounds&&os(i,this,"value"),s.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(s){return void 0===s?"0":re(s,this.chart.options.locale,this.options.ticks.format)}configure(){const s=this.min;super.configure(),this._startValue=St(s),this._valueRange=St(this.max)-St(s)}getPixelForValue(s){return(void 0===s||0===s)&&(s=this.min),null===s||isNaN(s)?NaN:this.getPixelForDecimal(s===this.min?0:(St(s)-this._startValue)/this._valueRange)}getValueForPixel(s){const t=this.getDecimalForPixel(s);return Math.pow(10,this._startValue+t*this._valueRange)}},RadialLinearScale:class Xd extends Je{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Re.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:s=>s,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(s){super(s),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const s=this._padding=K(Ui(this.options)/2),t=this.width=this.maxWidth-s.width,i=this.height=this.maxHeight-s.height;this.xCenter=Math.floor(this.left+t/2+s.left),this.yCenter=Math.floor(this.top+i/2+s.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:s,max:t}=this.getMinMax(!1);this.min=z(s)&&!isNaN(s)?s:0,this.max=z(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ui(this.options))}generateTickLabels(s){Je.prototype.generateTickLabels.call(this,s),this._pointLabels=this.getLabels().map((t,i)=>{const n=j(this.options.pointLabels.callback,[t,i],this);return n||0===n?n:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const s=this.options;s.display&&s.pointLabels.display?function jd(e){const s={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},t=Object.assign({},s),i=[],n=[],o=e._pointLabels.length,a=e.options.pointLabels,l=a.centerPointLabels?T/o:0;for(let c=0;c<o;c++){const d=a.setContext(e.getPointLabelContext(c));n[c]=d.padding;const h=e.getPointPosition(c,e.drawingArea+n[c],l),u=W(d.font),f=Id(e.ctx,u,e._pointLabels[c]);i[c]=f;const g=X(e.getIndexAngle(c)+l),m=Math.round(li(g));Ld(t,s,g,ao(m,h.x,f.w,0,180),ao(m,h.y,f.h,90,270))}e.setCenterPoint(s.l-t.l,t.r-s.r,s.t-t.t,t.b-s.b),e._pointLabelItems=function $d(e,s,t){const i=[],n=e._pointLabels.length,o=e.options,{centerPointLabels:a,display:l}=o.pointLabels,c={extra:Ui(o)/2,additionalAngle:a?T/n:0};let d;for(let h=0;h<n;h++){c.padding=t[h],c.size=s[h];const u=Bd(e,h,c);i.push(u),"auto"===l&&(u.visible=Nd(u,d),u.visible&&(d=u))}return i}(e,i,n)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(s,t,i,n){this.xCenter+=Math.floor((s-t)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(s,t,i,n))}getIndexAngle(s){return X(s*(B/(this._pointLabels.length||1))+at(this.options.startAngle||0))}getDistanceFromCenterForValue(s){if(A(s))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-s)*t:(s-this.min)*t}getValueForDistanceFromCenter(s){if(A(s))return NaN;const t=s/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(s){const t=this._pointLabels||[];if(s>=0&&s<t.length){const i=t[s];return function Yd(e,s,t){return Mt(e,{label:t,index:s,type:"pointLabel"})}(this.getContext(),s,i)}}getPointPosition(s,t,i=0){const n=this.getIndexAngle(s)-U+i;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(s,t){return this.getPointPosition(s,this.getDistanceFromCenterForValue(t))}getBasePosition(s){return this.getPointPositionForValue(s||0,this.getBaseValue())}getPointLabelPosition(s){const{left:t,top:i,right:n,bottom:o}=this._pointLabelItems[s];return{left:t,top:i,right:n,bottom:o}}drawBackground(){const{backgroundColor:s,grid:{circular:t}}=this.options;if(s){const i=this.ctx;i.save(),i.beginPath(),lo(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=s,i.fill(),i.restore()}}drawGrid(){const s=this.ctx,t=this.options,{angleLines:i,grid:n,border:o}=t,a=this._pointLabels.length;let l,c,d;if(t.pointLabels.display&&function Wd(e,s){const{ctx:t,options:{pointLabels:i}}=e;for(let n=s-1;n>=0;n--){const o=e._pointLabelItems[n];if(!o.visible)continue;const a=i.setContext(e.getPointLabelContext(n));Hd(t,a,o);const l=W(a.font),{x:c,y:d,textAlign:h}=o;Ot(t,e._pointLabels[n],c,d+l.lineHeight/2,l,{color:a.color,textAlign:h,textBaseline:"middle"})}}(this,a),n.display&&this.ticks.forEach((h,u)=>{if(0!==u||0===u&&this.min<0){c=this.getDistanceFromCenterForValue(h.value);const f=this.getContext(u),g=n.setContext(f),m=o.setContext(f);!function Gd(e,s,t,i,n){const o=e.ctx,a=s.circular,{color:l,lineWidth:c}=s;!a&&!i||!l||!c||t<0||(o.save(),o.strokeStyle=l,o.lineWidth=c,o.setLineDash(n.dash||[]),o.lineDashOffset=n.dashOffset,o.beginPath(),lo(e,t,a,i),o.closePath(),o.stroke(),o.restore())}(this,g,c,a,m)}}),i.display){for(s.save(),l=a-1;l>=0;l--){const h=i.setContext(this.getPointLabelContext(l)),{color:u,lineWidth:f}=h;!f||!u||(s.lineWidth=f,s.strokeStyle=u,s.setLineDash(h.borderDash),s.lineDashOffset=h.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),d=this.getPointPosition(l,c),s.beginPath(),s.moveTo(this.xCenter,this.yCenter),s.lineTo(d.x,d.y),s.stroke())}s.restore()}}drawBorder(){}drawLabels(){const s=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const n=this.getIndexAngle(0);let o,a;s.save(),s.translate(this.xCenter,this.yCenter),s.rotate(n),s.textAlign="center",s.textBaseline="middle",this.ticks.forEach((l,c)=>{if(0===c&&this.min>=0&&!t.reverse)return;const d=i.setContext(this.getContext(c)),h=W(d.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){s.font=h.string,a=s.measureText(l.label).width,s.fillStyle=d.backdropColor;const u=K(d.backdropPadding);s.fillRect(-a/2-u.left,-o-h.size/2-u.top,a+u.width,h.size+u.height)}Ot(s,l.label,0,-o,h,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),s.restore()}drawTitle(){}},TimeScale:Vi,TimeSeriesScale:class Zd extends Vi{static id="timeseries";static defaults=Vi.defaults;constructor(s){super(s),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const s=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(s);this._minPos=qe(t,this.min),this._tableRange=qe(t,this.max)-this._minPos,super.initOffsets(s)}buildLookupTable(s){const{min:t,max:i}=this,n=[],o=[];let a,l,c,d,h;for(a=0,l=s.length;a<l;++a)d=s[a],d>=t&&d<=i&&n.push(d);if(n.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(a=0,l=n.length;a<l;++a)h=n[a+1],c=n[a-1],d=n[a],Math.round((h+c)/2)!==d&&o.push({time:d,pos:a/(l-1)});return o}_generate(){const s=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(s)||!i.length)&&i.splice(0,0,s),(!i.includes(t)||1===i.length)&&i.push(t),i.sort((n,o)=>n-o)}_getTimestampsForTable(){let s=this._cache.all||[];if(s.length)return s;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return s=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,s=this._cache.all=s,s}getDecimalForValue(s){return(qe(this._table,s)-this._minPos)/this._tableRange}getValueForPixel(s){const t=this._offsets,i=this.getDecimalForPixel(s)/t.factor-t.end;return qe(this._table,i*this._tableRange+this._minPos,!0)}}})];var eh=Q(7359),po=Q(3443);function ih(e,s){1&e&&(r.j41(0,"div",8),r.nrm(1,"div",9),r.j41(2,"p",10),r.EFF(3,"Loading dashboard data..."),r.k0s()())}function sh(e,s){if(1&e&&(r.j41(0,"p",20),r.EFF(1),r.k0s()),2&e){const t=r.XpG().$implicit;r.R7$(1),r.JRh(t.description)}}function nh(e,s){if(1&e&&(r.j41(0,"div",13)(1,"div",14)(2,"div",15)(3,"p",16),r.EFF(4),r.k0s(),r.j41(5,"p",17),r.EFF(6),r.k0s(),r.j41(7,"p",18),r.EFF(8),r.k0s(),r.DNE(9,sh,2,1,"p",19),r.k0s(),r.j41(10,"div"),r.nrm(11,"i"),r.k0s()()()),2&e){const t=s.$implicit;r.R7$(4),r.JRh(t.title),r.R7$(2),r.JRh(t.value),r.R7$(1),r.AVh("text-green-600",t.change.includes("+"))("text-red-600",t.change.includes("-")),r.R7$(1),r.SpI(" ",t.change," "),r.R7$(1),r.Y8G("ngIf",t.description),r.R7$(1),r.HbH(t.color+" rounded-lg p-3 border"),r.R7$(1),r.HbH(t.icon+" text-white text-lg")}}function oh(e,s){if(1&e&&(r.j41(0,"div",11),r.DNE(1,nh,12,12,"div",12),r.k0s()),2&e){const t=r.XpG();r.R7$(1),r.Y8G("ngForOf",t.stats)}}function rh(e,s){if(1&e&&(r.j41(0,"tr",63)(1,"td",64),r.EFF(2),r.k0s(),r.j41(3,"td",65),r.EFF(4),r.k0s(),r.j41(5,"td",64),r.EFF(6),r.nI1(7,"currency"),r.k0s(),r.j41(8,"td",65),r.EFF(9),r.nI1(10,"date"),r.k0s(),r.j41(11,"td",66)(12,"span"),r.EFF(13),r.k0s()()()),2&e){const t=s.$implicit,i=r.XpG(2);r.R7$(2),r.JRh(t.id),r.R7$(2),r.JRh(t.customer),r.R7$(2),r.SpI(" ",r.i5U(7,7,t.amount,"INR")," "),r.R7$(3),r.SpI(" ",r.i5U(10,10,t.date,"shortDate")," "),r.R7$(3),r.HbH("px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+i.getStatusClass(t.status)),r.R7$(1),r.SpI(" ",t.status," ")}}function ah(e,s){1&e&&(r.j41(0,"div",67),r.nrm(1,"i",68),r.j41(2,"p",69),r.EFF(3,"No recent orders found"),r.k0s()())}function lh(e,s){if(1&e&&(r.j41(0,"div",70)(1,"div",71)(2,"span",72),r.EFF(3),r.k0s(),r.j41(4,"div",73)(5,"p",74),r.EFF(6),r.k0s(),r.j41(7,"p",52),r.EFF(8),r.k0s()()(),r.j41(9,"div",75)(10,"p",51),r.EFF(11),r.nI1(12,"currency"),r.k0s(),r.j41(13,"span"),r.EFF(14),r.k0s()()()),2&e){const t=s.$implicit,i=s.index,n=r.XpG(2);r.R7$(3),r.SpI(" ",i+1," "),r.R7$(3),r.SpI(" ",t.name," "),r.R7$(2),r.SpI("",t.sales," sold"),r.R7$(3),r.SpI(" ",r.i5U(12,7,t.revenue,"INR")," "),r.R7$(2),r.HbH("px-2 py-1 text-xs rounded-full inline-block mt-1 sm:mt-0 "+n.getStockStatusClass(t.stock)),r.R7$(1),r.SpI(" Stock: ",t.stock," ")}}function ch(e,s){1&e&&(r.j41(0,"div",76)(1,"p",77),r.EFF(2,"No top selling products"),r.k0s()())}function dh(e,s){if(1&e&&(r.j41(0,"div",78)(1,"p",79),r.EFF(2),r.k0s(),r.j41(3,"span"),r.EFF(4),r.k0s()()),2&e){const t=s.$implicit,i=r.XpG(2);r.R7$(2),r.JRh(t.name),r.R7$(1),r.HbH("px-2 py-1 text-xs rounded-full "+i.getStockStatusClass(t.stock)),r.R7$(1),r.SpI(" ",t.stock," left ")}}function hh(e,s){1&e&&(r.j41(0,"div",80)(1,"p",81),r.EFF(2,"All products are well stocked"),r.k0s()())}function uh(e,s){if(1&e&&(r.j41(0,"div",21)(1,"div",22)(2,"div",23)(3,"h3",24),r.EFF(4,"Daily Revenue Analytics"),r.k0s(),r.j41(5,"div",25),r.nrm(6,"canvas",26),r.k0s()(),r.j41(7,"div",27)(8,"div",23)(9,"h3",24),r.EFF(10,"Product Categories"),r.k0s(),r.j41(11,"div",28),r.nrm(12,"canvas",29),r.k0s()(),r.j41(13,"div",23)(14,"h3",24),r.EFF(15,"Order Status"),r.k0s(),r.j41(16,"div",28),r.nrm(17,"canvas",30),r.k0s()()(),r.j41(18,"div",31)(19,"div",32)(20,"h2",33),r.EFF(21,"Recent Orders"),r.k0s(),r.j41(22,"span",34),r.EFF(23,"Last 10 orders"),r.k0s()(),r.j41(24,"div",35)(25,"table",36)(26,"thead",37)(27,"tr")(28,"th",38),r.EFF(29,"Order ID"),r.k0s(),r.j41(30,"th",38),r.EFF(31,"Customer"),r.k0s(),r.j41(32,"th",38),r.EFF(33,"Amount"),r.k0s(),r.j41(34,"th",38),r.EFF(35,"Date"),r.k0s(),r.j41(36,"th",38),r.EFF(37,"Status"),r.k0s()()(),r.j41(38,"tbody",39),r.DNE(39,rh,14,13,"tr",40),r.k0s()(),r.DNE(40,ah,4,0,"div",41),r.k0s()()(),r.j41(41,"div",0)(42,"div",23)(43,"h3",24),r.EFF(44,"Stock Overview"),r.k0s(),r.j41(45,"div",28),r.nrm(46,"canvas",42),r.k0s()(),r.j41(47,"div",31)(48,"div",43)(49,"h3",44),r.EFF(50,"Top Selling Products"),r.k0s()(),r.j41(51,"div",45),r.DNE(52,lh,15,10,"div",46),r.DNE(53,ch,3,0,"div",47),r.k0s()(),r.j41(54,"div",31)(55,"div",43)(56,"h3",44),r.EFF(57,"User Summary"),r.k0s()(),r.j41(58,"div",45)(59,"div",48)(60,"div",49),r.nrm(61,"i",50),r.j41(62,"div")(63,"p",51),r.EFF(64,"Total Users"),r.k0s(),r.j41(65,"p",52),r.EFF(66,"Registered accounts"),r.k0s()()(),r.j41(67,"span",53),r.EFF(68),r.k0s()(),r.j41(69,"div",54)(70,"div",49),r.nrm(71,"i",55),r.j41(72,"div")(73,"p",51),r.EFF(74,"Active Users"),r.k0s(),r.j41(75,"p",52),r.EFF(76,"Currently active"),r.k0s()()(),r.j41(77,"span",56),r.EFF(78),r.k0s()(),r.j41(79,"div",57)(80,"div",49),r.nrm(81,"i",58),r.j41(82,"div")(83,"p",51),r.EFF(84,"New Today"),r.k0s(),r.j41(85,"p",52),r.EFF(86,"Recent signups"),r.k0s()()(),r.j41(87,"span",59),r.EFF(88),r.k0s()()()(),r.j41(89,"div",31)(90,"div",43)(91,"h3",44),r.EFF(92,"Low Stock Alert"),r.k0s()(),r.j41(93,"div",60),r.DNE(94,dh,5,4,"div",61),r.DNE(95,hh,3,0,"div",62),r.k0s()()()()),2&e){const t=r.XpG();r.R7$(39),r.Y8G("ngForOf",t.recentOrders),r.R7$(1),r.Y8G("ngIf",0===t.recentOrders.length),r.R7$(12),r.Y8G("ngForOf",t.topSellingProducts),r.R7$(1),r.Y8G("ngIf",0===t.topSellingProducts.length),r.R7$(15),r.SpI(" ",t.calculateUserStats().totalUsers," "),r.R7$(10),r.SpI(" ",t.calculateUserStats().activeUsers," "),r.R7$(10),r.SpI(" ",t.calculateUserStats().newUsersToday," "),r.R7$(6),r.Y8G("ngForOf",t.lowStockProducts),r.R7$(1),r.Y8G("ngIf",0===t.lowStockProducts.length)}}function fh(e,s){if(1&e&&(r.j41(0,"div",87),r.nrm(1,"div"),r.j41(2,"div",88)(3,"p",89),r.EFF(4),r.k0s(),r.j41(5,"p",90),r.EFF(6),r.k0s()(),r.j41(7,"div"),r.EFF(8),r.k0s()()),2&e){const t=s.$implicit;r.R7$(1),r.HbH("mt-1 w-2 h-2 rounded-full flex-shrink-0 "+("order"===t.type?"bg-blue-500":"stock"===t.type?"bg-orange-500":"user"===t.type?"bg-green-500":"bg-purple-500")),r.R7$(3),r.JRh(t.action),r.R7$(2),r.JRh(t.time),r.R7$(1),r.HbH("px-2 py-1 rounded-full text-xs font-medium "+("order"===t.type?"bg-blue-50 text-blue-700":"stock"===t.type?"bg-orange-50 text-orange-700":"user"===t.type?"bg-green-50 text-green-700":"bg-purple-50 text-purple-700")),r.R7$(1),r.SpI(" ",t.type," ")}}function gh(e,s){if(1&e&&(r.j41(0,"div",85),r.DNE(1,fh,9,7,"div",86),r.k0s()),2&e){const t=r.XpG(2);r.R7$(1),r.Y8G("ngForOf",t.recentActivities)}}function ph(e,s){1&e&&(r.j41(0,"div",67),r.nrm(1,"i",91),r.j41(2,"p",77),r.EFF(3,"No recent activity"),r.k0s()())}function mh(e,s){if(1&e&&(r.j41(0,"div",31)(1,"div",32)(2,"h3",82),r.EFF(3,"Recent Activity"),r.k0s(),r.j41(4,"span",52),r.EFF(5,"Live updates"),r.k0s()(),r.j41(6,"div",83),r.DNE(7,gh,2,1,"div",84),r.DNE(8,ph,4,0,"div",41),r.k0s()()),2&e){const t=r.XpG();r.R7$(7),r.Y8G("ngIf",t.recentActivities.length>0),r.R7$(1),r.Y8G("ngIf",0===t.recentActivities.length)}}function xh(e,s){1&e&&(r.j41(0,"div",18),r.nrm(1,"i",19),r.j41(2,"p",3),r.EFF(3,"Loading users..."),r.k0s()())}function _h(e,s){if(1&e&&(r.j41(0,"span"),r.EFF(1," Blocked "),r.k0s()),2&e){const t=r.XpG().$implicit,i=r.XpG(2);r.HbH("ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+i.getBlockStatusBadgeClass(t.isBlocked))}}function yh(e,s){if(1&e){const t=r.RV6();r.j41(0,"button",45),r.bIt("click",function(){r.eBV(t);const n=r.XpG().$implicit,o=r.XpG(2);return r.Njj(o.openBlockModal(n))}),r.nrm(1,"i",46),r.k0s()}}function vh(e,s){if(1&e){const t=r.RV6();r.j41(0,"button",47),r.bIt("click",function(){r.eBV(t);const n=r.XpG().$implicit,o=r.XpG(2);return r.Njj(o.unblockUser(n))}),r.nrm(1,"i",48),r.k0s()}}function kh(e,s){if(1&e){const t=r.RV6();r.j41(0,"tr",27)(1,"td",28)(2,"div",29)(3,"div",30)(4,"span",31),r.EFF(5),r.nI1(6,"uppercase"),r.k0s()(),r.j41(7,"div",32)(8,"div",33),r.EFF(9),r.k0s(),r.j41(10,"div",34),r.EFF(11),r.k0s()()()(),r.j41(12,"td",28)(13,"span"),r.EFF(14),r.k0s(),r.DNE(15,_h,2,2,"span",35),r.k0s(),r.j41(16,"td",36),r.EFF(17),r.nI1(18,"date"),r.k0s(),r.j41(19,"td",37)(20,"div",38)(21,"button",39),r.bIt("click",function(){const o=r.eBV(t).$implicit,a=r.XpG(2);return r.Njj(a.openEditModal(o))}),r.nrm(22,"i",40),r.k0s(),r.DNE(23,yh,2,0,"button",41),r.DNE(24,vh,2,0,"button",42),r.j41(25,"button",43),r.bIt("click",function(){const o=r.eBV(t).$implicit,a=r.XpG(2);return r.Njj(a.openDeleteModal(o))}),r.nrm(26,"i",44),r.k0s()()()()}if(2&e){const t=s.$implicit,i=r.XpG(2);r.R7$(5),r.SpI(" ",r.bMT(6,10,null==t.name?null:t.name.charAt(0))," "),r.R7$(4),r.JRh(t.name),r.R7$(2),r.JRh(t.email),r.R7$(2),r.HbH("px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+i.getRoleBadgeClass(t.role)),r.R7$(1),r.SpI(" ",t.role," "),r.R7$(1),r.Y8G("ngIf",t.isBlocked),r.R7$(2),r.SpI(" ",r.i5U(18,12,t.createdAt,"mediumDate")," "),r.R7$(6),r.Y8G("ngIf",!t.isBlocked),r.R7$(1),r.Y8G("ngIf",t.isBlocked)}}function wh(e,s){if(1&e){const t=r.RV6();r.j41(0,"div",49),r.nrm(1,"i",50),r.j41(2,"h3",51),r.EFF(3,"No users found"),r.k0s(),r.j41(4,"p",52),r.EFF(5,"Get started by adding your first user."),r.k0s(),r.j41(6,"button",53),r.bIt("click",function(){r.eBV(t);const n=r.XpG(2);return r.Njj(n.openAddModal())}),r.EFF(7," Add New User "),r.k0s()()}}function Sh(e,s){if(1&e&&(r.j41(0,"div")(1,"div",20)(2,"table",21)(3,"thead",22)(4,"tr")(5,"th",23),r.EFF(6," User "),r.k0s(),r.j41(7,"th",23),r.EFF(8," Role "),r.k0s(),r.j41(9,"th",23),r.EFF(10," Created "),r.k0s(),r.j41(11,"th",23),r.EFF(12," Actions "),r.k0s()()(),r.j41(13,"tbody",24),r.DNE(14,kh,27,15,"tr",25),r.k0s()()(),r.DNE(15,wh,8,0,"div",26),r.k0s()),2&e){const t=r.XpG();r.R7$(14),r.Y8G("ngForOf",t.filteredUsers),r.R7$(1),r.Y8G("ngIf",0===t.filteredUsers.length&&!t.loading)}}function Mh(e,s){if(1&e){const t=r.RV6();r.j41(0,"div",54)(1,"div",55)(2,"div",56)(3,"h3",57),r.EFF(4,"Add New User"),r.k0s(),r.j41(5,"button",58),r.bIt("click",function(){r.eBV(t);const n=r.XpG();return r.Njj(n.closeAddModal())}),r.nrm(6,"i",59),r.k0s()(),r.j41(7,"div",60)(8,"div")(9,"label",61),r.EFF(10,"Full Name"),r.k0s(),r.j41(11,"input",62),r.bIt("ngModelChange",function(n){r.eBV(t);const o=r.XpG();return r.Njj(o.newUser.name=n)}),r.k0s()(),r.j41(12,"div")(13,"label",61),r.EFF(14,"Email"),r.k0s(),r.j41(15,"input",63),r.bIt("ngModelChange",function(n){r.eBV(t);const o=r.XpG();return r.Njj(o.newUser.email=n)}),r.k0s()(),r.j41(16,"div")(17,"label",61),r.EFF(18,"Password"),r.k0s(),r.j41(19,"input",64),r.bIt("ngModelChange",function(n){r.eBV(t);const o=r.XpG();return r.Njj(o.newUser.password=n)}),r.k0s()(),r.j41(20,"div")(21,"label",61),r.EFF(22,"Role"),r.k0s(),r.j41(23,"select",65),r.bIt("ngModelChange",function(n){r.eBV(t);const o=r.XpG();return r.Njj(o.newUser.role=n)}),r.j41(24,"option",66),r.EFF(25,"User"),r.k0s(),r.j41(26,"option",67),r.EFF(27,"Admin"),r.k0s()()()(),r.j41(28,"div",68)(29,"button",69),r.bIt("click",function(){r.eBV(t);const n=r.XpG();return r.Njj(n.closeAddModal())}),r.EFF(30," Cancel "),r.k0s(),r.j41(31,"button",70),r.bIt("click",function(){r.eBV(t);const n=r.XpG();return r.Njj(n.addUser())}),r.EFF(32," Add User "),r.k0s()()()()}if(2&e){const t=r.XpG();r.R7$(11),r.Y8G("ngModel",t.newUser.name),r.R7$(4),r.Y8G("ngModel",t.newUser.email),r.R7$(4),r.Y8G("ngModel",t.newUser.password),r.R7$(4),r.Y8G("ngModel",t.newUser.role),r.R7$(8),r.Y8G("disabled",!t.newUser.name||!t.newUser.email||!t.newUser.password)}}function Ch(e,s){if(1&e){const t=r.RV6();r.j41(0,"div",54)(1,"div",55)(2,"div",71)(3,"h3",57),r.EFF(4,"Edit User"),r.k0s(),r.j41(5,"button",58),r.bIt("click",function(){r.eBV(t);const n=r.XpG();return r.Njj(n.closeEditModal())}),r.nrm(6,"i",59),r.k0s()(),r.j41(7,"div",60)(8,"div")(9,"label",61),r.EFF(10,"Full Name"),r.k0s(),r.j41(11,"input",72),r.bIt("ngModelChange",function(n){r.eBV(t);const o=r.XpG();return r.Njj(o.selectedUser.name=n)}),r.k0s()(),r.j41(12,"div")(13,"label",61),r.EFF(14,"Email"),r.k0s(),r.j41(15,"input",73),r.bIt("ngModelChange",function(n){r.eBV(t);const o=r.XpG();return r.Njj(o.selectedUser.email=n)}),r.k0s()(),r.j41(16,"div")(17,"label",61),r.EFF(18,"Password"),r.k0s(),r.j41(19,"input",74),r.bIt("ngModelChange",function(n){r.eBV(t);const o=r.XpG();return r.Njj(o.selectedUser.password=n)}),r.k0s()(),r.j41(20,"div")(21,"label",61),r.EFF(22,"Role"),r.k0s(),r.j41(23,"select",75),r.bIt("ngModelChange",function(n){r.eBV(t);const o=r.XpG();return r.Njj(o.selectedUser.role=n)}),r.j41(24,"option",66),r.EFF(25,"User"),r.k0s(),r.j41(26,"option",67),r.EFF(27,"Admin"),r.k0s()()()(),r.j41(28,"div",68)(29,"button",69),r.bIt("click",function(){r.eBV(t);const n=r.XpG();return r.Njj(n.closeEditModal())}),r.EFF(30," Cancel "),r.k0s(),r.j41(31,"button",70),r.bIt("click",function(){r.eBV(t);const n=r.XpG();return r.Njj(n.updateUser())}),r.EFF(32," Update User "),r.k0s()()()()}if(2&e){const t=r.XpG();r.R7$(11),r.Y8G("ngModel",t.selectedUser.name),r.R7$(4),r.Y8G("ngModel",t.selectedUser.email),r.R7$(4),r.Y8G("ngModel",t.selectedUser.password),r.R7$(4),r.Y8G("ngModel",t.selectedUser.role),r.R7$(8),r.Y8G("disabled",!t.selectedUser.name||!t.selectedUser.email)}}function Fh(e,s){if(1&e){const t=r.RV6();r.j41(0,"div",54)(1,"div",55)(2,"div",0)(3,"div",76)(4,"div",77),r.nrm(5,"i",78),r.k0s(),r.j41(6,"div")(7,"h3",57),r.EFF(8,"Delete User"),r.k0s(),r.j41(9,"p",3),r.EFF(10,"This action cannot be undone."),r.k0s()()(),r.j41(11,"p",79),r.EFF(12," Are you sure you want to delete "),r.j41(13,"strong"),r.EFF(14),r.k0s(),r.EFF(15,"? All their data will be permanently removed. "),r.k0s()(),r.j41(16,"div",68)(17,"button",69),r.bIt("click",function(){r.eBV(t);const n=r.XpG();return r.Njj(n.closeDeleteModal())}),r.EFF(18," Cancel "),r.k0s(),r.j41(19,"button",80),r.bIt("click",function(){r.eBV(t);const n=r.XpG();return r.Njj(n.confirmDelete())}),r.EFF(20," Delete User "),r.k0s()()()()}if(2&e){const t=r.XpG();r.R7$(14),r.JRh(t.selectedUser.name)}}function Dh(e,s){if(1&e){const t=r.RV6();r.j41(0,"div",54)(1,"div",55)(2,"div",81)(3,"div",82),r.nrm(4,"i",83),r.k0s(),r.j41(5,"div")(6,"h3",57),r.EFF(7,"Block User"),r.k0s(),r.j41(8,"p",84),r.EFF(9,"This will prevent the user from logging in."),r.k0s()()(),r.j41(10,"div",0)(11,"p",79),r.EFF(12," Are you sure you want to block "),r.j41(13,"strong"),r.EFF(14),r.k0s(),r.EFF(15,"? Please provide a reason for blocking this user. "),r.k0s(),r.j41(16,"div",85)(17,"label",86),r.EFF(18,"Block Reason"),r.k0s(),r.j41(19,"textarea",87),r.bIt("ngModelChange",function(n){r.eBV(t);const o=r.XpG();return r.Njj(o.blockReason=n)}),r.k0s(),r.j41(20,"p",88),r.EFF(21,"This reason will be stored for reference."),r.k0s()()(),r.j41(22,"div",68)(23,"button",69),r.bIt("click",function(){r.eBV(t);const n=r.XpG();return r.Njj(n.closeBlockModal())}),r.EFF(24," Cancel "),r.k0s(),r.j41(25,"button",89),r.bIt("click",function(){r.eBV(t);const n=r.XpG();return r.Njj(n.confirmBlock())}),r.EFF(26," Block User "),r.k0s()()()()}if(2&e){const t=r.XpG();r.R7$(14),r.JRh(t.userToBlock.name),r.R7$(5),r.Y8G("ngModel",t.blockReason),r.R7$(6),r.Y8G("disabled",!t.blockReason.trim())}}function Ah(e,s){1&e&&(r.j41(0,"div",43),r.nrm(1,"div",44),r.j41(2,"p",45),r.EFF(3,"Loading orders..."),r.k0s()())}function Eh(e,s){if(1&e&&(r.j41(0,"div",82),r.nrm(1,"img",83),r.k0s()),2&e){const t=s.$implicit;r.R7$(1),r.Y8G("src",t.image,r.B4B)("alt",t.name)}}function Oh(e,s){if(1&e&&(r.j41(0,"div",84)(1,"span",85),r.EFF(2),r.k0s()()),2&e){const t=r.XpG().$implicit;r.R7$(2),r.SpI("+",t.items.length-3,"")}}function Th(e,s){if(1&e&&(r.j41(0,"p",26),r.EFF(1),r.k0s()),2&e){const t=r.XpG().$implicit;r.R7$(1),r.SpI(" ",t.estimatedDelivery," ")}}function Ph(e,s){if(1&e){const t=r.RV6();r.j41(0,"button",86),r.bIt("click",function(){r.eBV(t);const n=r.XpG().$implicit,o=r.XpG(3);return r.Njj(o.safeUpdateStatus(n))}),r.EFF(1),r.k0s()}if(2&e){const t=r.XpG().$implicit,i=r.XpG(3);r.R7$(1),r.SpI(" Mark as ",i.getNextStatus(t.status)," ")}}function Ih(e,s){if(1&e&&(r.j41(0,"div",82),r.nrm(1,"img",83),r.k0s()),2&e){const t=s.$implicit;r.R7$(1),r.Y8G("src",t.image,r.B4B)("alt",t.name)}}function jh(e,s){if(1&e&&(r.j41(0,"div",84)(1,"span",85),r.EFF(2),r.k0s()()),2&e){const t=r.XpG().$implicit;r.R7$(2),r.SpI("+",t.items.length-3,"")}}function Lh(e,s){if(1&e){const t=r.RV6();r.j41(0,"button",87),r.bIt("click",function(){r.eBV(t);const n=r.XpG().$implicit,o=r.XpG(3);return r.Njj(o.safeUpdateStatus(n))}),r.EFF(1),r.k0s()}if(2&e){const t=r.XpG().$implicit,i=r.XpG(3);r.R7$(1),r.SpI(" Mark as ",i.getNextStatus(t.status)," ")}}function Bh(e,s){if(1&e){const t=r.RV6();r.j41(0,"div",54)(1,"div",55)(2,"div",49)(3,"div",56)(4,"h3",57),r.EFF(5),r.k0s(),r.j41(6,"p",26),r.EFF(7),r.k0s(),r.j41(8,"p",58),r.EFF(9),r.k0s()()(),r.j41(10,"div",50)(11,"div",59)(12,"div",60),r.DNE(13,Eh,2,2,"div",61),r.DNE(14,Oh,3,1,"div",62),r.k0s(),r.j41(15,"span",63),r.EFF(16),r.k0s()()(),r.j41(17,"div",50)(18,"div",56)(19,"p",64),r.EFF(20),r.nI1(21,"currency"),r.k0s(),r.j41(22,"p",65),r.EFF(23),r.k0s(),r.DNE(24,Th,2,1,"p",66),r.k0s()(),r.j41(25,"div",50)(26,"span",67),r.nrm(27,"i"),r.EFF(28),r.k0s()(),r.j41(29,"div",68)(30,"button",69),r.bIt("click",function(){const o=r.eBV(t).$implicit,a=r.XpG(3);return r.Njj(a.viewOrderDetails(o))}),r.EFF(31," View Details "),r.k0s(),r.DNE(32,Ph,2,1,"button",70),r.k0s()(),r.j41(33,"div",71)(34,"div",72)(35,"div",73)(36,"h3",57),r.EFF(37),r.k0s(),r.j41(38,"p",26),r.EFF(39),r.k0s()(),r.j41(40,"span",74),r.nrm(41,"i"),r.EFF(42),r.k0s()(),r.j41(43,"div")(44,"p",75),r.EFF(45),r.k0s()(),r.j41(46,"div",76)(47,"div",59)(48,"div",60),r.DNE(49,Ih,2,2,"div",61),r.DNE(50,jh,3,1,"div",62),r.k0s(),r.j41(51,"span",77),r.EFF(52),r.k0s()(),r.j41(53,"div",78)(54,"p",64),r.EFF(55),r.nI1(56,"currency"),r.k0s(),r.j41(57,"p",65),r.EFF(58),r.k0s()()(),r.j41(59,"div",79)(60,"button",80),r.bIt("click",function(){const o=r.eBV(t).$implicit,a=r.XpG(3);return r.Njj(a.viewOrderDetails(o))}),r.EFF(61," View Details "),r.k0s(),r.DNE(62,Lh,2,1,"button",81),r.k0s()()()}if(2&e){const t=s.$implicit,i=r.XpG(3);r.R7$(5),r.JRh(t.orderId),r.R7$(2),r.SpI("Placed on ",t.orderDate,""),r.R7$(2),r.Lme(" Customer: ",t.userName," (",t.userEmail,") "),r.R7$(4),r.Y8G("ngForOf",t.items.slice(0,3)),r.R7$(1),r.Y8G("ngIf",t.items.length>3),r.R7$(2),r.SpI("(",i.getTotalItems(t),")"),r.R7$(4),r.JRh(r.i5U(21,33,t.totalAmount,"INR")),r.R7$(3),r.JRh(t.paymentMethod),r.R7$(1),r.Y8G("ngIf",t.estimatedDelivery),r.R7$(2),r.HbH(i.getStatusColor(t.status)),r.R7$(1),r.ZvI("fa-solid ",i.getStatusIcon(t.status)," mr-1"),r.R7$(1),r.SpI(" ",t.status," "),r.R7$(4),r.Y8G("ngIf",i.canUpdateStatus(t)),r.R7$(5),r.JRh(t.orderId),r.R7$(2),r.SpI("Placed on ",t.orderDate,""),r.R7$(1),r.HbH(i.getStatusColor(t.status)),r.R7$(1),r.ZvI("fa-solid ",i.getStatusIcon(t.status)," mr-1"),r.R7$(1),r.SpI(" ",t.status," "),r.R7$(3),r.Lme(" ",t.userName," (",t.userEmail,") "),r.R7$(4),r.Y8G("ngForOf",t.items.slice(0,3)),r.R7$(1),r.Y8G("ngIf",t.items.length>3),r.R7$(2),r.SpI("(",i.getTotalItems(t)," items)"),r.R7$(3),r.JRh(r.i5U(56,36,t.totalAmount,"INR")),r.R7$(3),r.JRh(t.paymentMethod),r.R7$(4),r.Y8G("ngIf",i.canUpdateStatus(t))}}function Nh(e,s){if(1&e&&(r.j41(0,"div")(1,"div",48)(2,"div",49),r.EFF(3,"Order & Customer"),r.k0s(),r.j41(4,"div",50),r.EFF(5,"Items"),r.k0s(),r.j41(6,"div",50),r.EFF(7,"Amount & Payment"),r.k0s(),r.j41(8,"div",50),r.EFF(9,"Status"),r.k0s(),r.j41(10,"div",51),r.EFF(11,"Actions"),r.k0s()(),r.j41(12,"div",52),r.DNE(13,Bh,63,39,"div",53),r.k0s()()),2&e){const t=r.XpG(2);r.R7$(13),r.Y8G("ngForOf",t.filteredOrders)}}function $h(e,s){if(1&e){const t=r.RV6();r.j41(0,"button",94),r.bIt("click",function(){r.eBV(t);const n=r.XpG(3);return r.Njj(n.onSearchChange(""))}),r.EFF(1," Clear Search "),r.k0s()}}function zh(e,s){if(1&e&&(r.j41(0,"div",88)(1,"div",89),r.nrm(2,"i",90),r.k0s(),r.j41(3,"h3",91),r.EFF(4),r.k0s(),r.j41(5,"p",92),r.EFF(6),r.k0s(),r.DNE(7,$h,2,0,"button",93),r.k0s()),2&e){const t=r.XpG(2);r.R7$(4),r.SpI(" ","all"===t.filterStatus?"No orders found":"No "+t.filterStatus+" orders"," "),r.R7$(2),r.SpI(" ",t.searchTerm?"Try adjusting your search terms":"all"===t.filterStatus?"No orders have been placed yet":"There are no "+t.filterStatus+" orders at the moment"," "),r.R7$(1),r.Y8G("ngIf",t.searchTerm)}}function Uh(e,s){if(1&e&&(r.j41(0,"div"),r.DNE(1,Nh,14,1,"div",46),r.DNE(2,zh,8,3,"ng-template",null,47,r.C5r),r.k0s()),2&e){const t=r.sdS(3),i=r.XpG();r.R7$(1),r.Y8G("ngIf",i.filteredOrders.length>0)("ngIfElse",t)}}function Vh(e,s){if(1&e){const t=r.RV6();r.j41(0,"button",125),r.bIt("click",function(){r.eBV(t);const n=r.XpG(2);return r.Njj(n.updateOrderStatus(n.selectedOrder,n.getNextStatus(n.selectedOrder.status)))}),r.EFF(1),r.k0s()}if(2&e){const t=r.XpG(2);r.R7$(1),r.SpI(" Mark as ",t.getNextStatus(t.selectedOrder.status)," ")}}function Hh(e,s){if(1&e&&(r.j41(0,"div")(1,"p",109),r.EFF(2,"Estimated Delivery"),r.k0s(),r.j41(3,"p",110),r.EFF(4),r.k0s()()),2&e){const t=r.XpG(2);r.R7$(4),r.JRh(t.selectedOrder.estimatedDelivery)}}function Wh(e,s){if(1&e&&(r.j41(0,"div")(1,"p",109),r.EFF(2,"Tracking Number"),r.k0s(),r.j41(3,"p",110),r.EFF(4),r.k0s()()),2&e){const t=r.XpG(2);r.R7$(4),r.JRh(t.selectedOrder.trackingNumber)}}function Gh(e,s){if(1&e&&(r.j41(0,"div",126)(1,"div",127),r.nrm(2,"img",83),r.k0s(),r.j41(3,"div",73)(4,"h4",128),r.EFF(5),r.k0s(),r.j41(6,"p",129),r.EFF(7),r.k0s(),r.j41(8,"p",129),r.EFF(9),r.k0s(),r.j41(10,"p",63),r.EFF(11),r.k0s()(),r.j41(12,"div",130)(13,"p",104),r.EFF(14),r.nI1(15,"currency"),r.k0s(),r.j41(16,"p",63),r.EFF(17),r.k0s(),r.j41(18,"p",131),r.EFF(19),r.nI1(20,"currency"),r.k0s()()()),2&e){const t=s.$implicit;r.R7$(2),r.Y8G("src",t.image,r.B4B)("alt",t.name),r.R7$(3),r.JRh(t.name),r.R7$(2),r.SpI("Category: ",t.category,""),r.R7$(2),r.SpI("Color: ",t.color,""),r.R7$(2),r.SpI("Quantity: ",t.quantity,""),r.R7$(3),r.JRh(r.i5U(15,9,t.price,"INR")),r.R7$(3),r.SpI("\xd7 ",t.quantity,""),r.R7$(2),r.SpI("",r.i5U(20,12,t.price*t.quantity,"INR")," ")}}function Yh(e,s){if(1&e&&(r.j41(0,"p",63),r.EFF(1),r.k0s()),2&e){const t=r.XpG(2);r.R7$(1),r.SpI(" Email: ",t.selectedOrder.shippingDetails.email," ")}}function Xh(e,s){if(1&e){const t=r.RV6();r.j41(0,"div",95)(1,"div",96)(2,"div",97)(3,"div")(4,"h2",98),r.EFF(5,"Order Details"),r.k0s(),r.j41(6,"p",63),r.EFF(7),r.k0s(),r.j41(8,"p",63),r.EFF(9),r.k0s()(),r.j41(10,"button",99),r.bIt("click",function(){r.eBV(t);const n=r.XpG();return r.Njj(n.closeOrderDetails())}),r.nrm(11,"i",100),r.k0s()(),r.j41(12,"div",101)(13,"div",102)(14,"div",103)(15,"h3",104),r.EFF(16,"Order Status"),r.k0s(),r.j41(17,"div",105)(18,"span",106),r.nrm(19,"i"),r.EFF(20),r.k0s(),r.DNE(21,Vh,2,1,"button",107),r.k0s()(),r.j41(22,"div",108)(23,"div")(24,"p",109),r.EFF(25,"Order Date"),r.k0s(),r.j41(26,"p",110),r.EFF(27),r.k0s()(),r.DNE(28,Hh,5,1,"div",41),r.DNE(29,Wh,5,1,"div",41),r.k0s()(),r.j41(30,"div")(31,"h3",111),r.EFF(32),r.k0s(),r.j41(33,"div",112),r.DNE(34,Gh,21,15,"div",113),r.k0s()(),r.j41(35,"div")(36,"h3",111),r.EFF(37,"Shipping Details"),r.k0s(),r.j41(38,"div",114)(39,"p",110),r.EFF(40),r.k0s(),r.j41(41,"p",63),r.EFF(42),r.k0s(),r.j41(43,"p",63),r.EFF(44),r.k0s(),r.j41(45,"p",63),r.EFF(46),r.k0s(),r.DNE(47,Yh,2,1,"p",115),r.k0s()(),r.j41(48,"div")(49,"h3",111),r.EFF(50,"Payment Information"),r.k0s(),r.j41(51,"div",116)(52,"div",117)(53,"div",118)(54,"span",3),r.EFF(55,"Subtotal"),r.k0s(),r.j41(56,"span",119),r.EFF(57),r.nI1(58,"currency"),r.k0s()(),r.j41(59,"div",118)(60,"span",3),r.EFF(61,"Shipping"),r.k0s(),r.j41(62,"span",120),r.EFF(63,"FREE"),r.k0s()(),r.j41(64,"div",118)(65,"span",3),r.EFF(66,"Payment Method"),r.k0s(),r.j41(67,"span",121),r.EFF(68),r.k0s()()(),r.j41(69,"div",122)(70,"span",123),r.EFF(71,"Total Amount"),r.k0s(),r.j41(72,"span",124),r.EFF(73),r.nI1(74,"currency"),r.k0s()()()()()()()}if(2&e){const t=r.XpG();r.R7$(7),r.JRh(t.selectedOrder.orderId),r.R7$(2),r.Lme("Customer: ",t.selectedOrder.userName," (",t.selectedOrder.userEmail,")"),r.R7$(9),r.HbH(t.getStatusColor(t.selectedOrder.status)),r.R7$(1),r.ZvI("fa-solid ",t.getStatusIcon(t.selectedOrder.status)," mr-1"),r.R7$(1),r.SpI(" ",t.selectedOrder.status," "),r.R7$(1),r.Y8G("ngIf",t.canUpdateStatus(t.selectedOrder)),r.R7$(6),r.JRh(t.selectedOrder.orderDate),r.R7$(1),r.Y8G("ngIf",t.selectedOrder.estimatedDelivery),r.R7$(1),r.Y8G("ngIf",t.selectedOrder.trackingNumber),r.R7$(3),r.SpI("Order Items (",t.getTotalItems(t.selectedOrder),")"),r.R7$(2),r.Y8G("ngForOf",t.selectedOrder.items),r.R7$(6),r.JRh(t.selectedOrder.shippingDetails.fullName),r.R7$(2),r.JRh(t.selectedOrder.shippingDetails.address),r.R7$(2),r.E5c(" ",t.selectedOrder.shippingDetails.city,", ",t.selectedOrder.shippingDetails.state," - ",t.selectedOrder.shippingDetails.pincode," "),r.R7$(2),r.SpI("Phone: ",t.selectedOrder.shippingDetails.phone,""),r.R7$(1),r.Y8G("ngIf",t.selectedOrder.shippingDetails.email),r.R7$(10),r.JRh(r.i5U(58,25,t.selectedOrder.totalAmount,"INR")),r.R7$(11),r.JRh(t.selectedOrder.paymentMethod),r.R7$(5),r.JRh(r.i5U(74,28,t.selectedOrder.totalAmount,"INR"))}}Jt.register(...th);const Jh=[{path:"",component:Io,canActivate:[bo],children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:(()=>{class e{constructor(t,i,n){this.http=t,this.productService=i,this.userService=n,this.stats=[],this.recentOrders=[],this.isLoading=!0,this.chartData={},this.chartInstances=[],this.products=[],this.allOrders=[],this.allUsers=[],this.productAnalysis={totalProducts:0,activeProducts:0,lowStockProducts:0,outOfStockProducts:0,topSellingProducts:0},this.salesData={totalRevenue:0,dailyRevenue:0,revenueChange:0,averageOrderValue:0},this.topSellingProducts=[],this.lowStockProducts=[],this.recentActivities=[]}ngOnInit(){this.loadDashboardData(),this.startRealtimeUpdates()}ngOnDestroy(){this.destroyCharts(),this.stopRealtimeUpdates()}startRealtimeUpdates(){this.refreshInterval=setInterval(()=>{this.loadDashboardData()},3e4)}stopRealtimeUpdates(){this.refreshInterval&&clearInterval(this.refreshInterval)}loadDashboardData(){this.isLoading=!0,Promise.all([this.loadProductsData(),this.loadUsersData(),this.loadOrdersData()]).then(()=>{this.updateStats(),setTimeout(()=>{this.initializeCharts()},500),this.isLoading=!1}).catch(t=>{console.error("Error loading dashboard data:",t),this.isLoading=!1})}loadProductsData(){return new Promise(t=>{this.productService.getProducts().subscribe({next:i=>{this.products=i,this.analyzeProducts(i),this.identifyTopSellingProducts(i),this.identifyLowStockProducts(i),t()},error:i=>{console.error("Error loading products:",i),t()}})})}loadUsersData(){return new Promise(t=>{this.userService.getUsers().subscribe({next:i=>{this.allUsers=i,t()},error:i=>{console.error("Error loading users:",i),t()}})})}loadOrdersData(){return new Promise(t=>{this.http.get("http://localhost:3000/users").subscribe({next:i=>{this.processOrdersData(i),t()},error:i=>{console.error("Error loading orders:",i),t()}})})}calculateUserStats(){return{totalUsers:this.allUsers.length,activeUsers:this.allUsers.filter(t=>!1!==t.isActive).length,newUsersToday:this.allUsers.filter(t=>t.createdAt&&this.isToday(t.createdAt)).length}}identifyTopSellingProducts(t){this.topSellingProducts=t.filter(i=>i.topSelling).slice(0,5).map(i=>({name:i.name,sales:Math.floor(1e3*Math.random())+100,revenue:i.price*(Math.floor(100*Math.random())+10),stock:i.stock}))}identifyLowStockProducts(t){this.lowStockProducts=t.filter(i=>i.stock>0&&i.stock<=5).slice(0,5).map(i=>({name:i.name,stock:i.stock,status:0===i.stock?"Out of Stock":"Low Stock"}))}processOrdersData(t){const i=[];t.forEach(o=>{o.orders&&o.orders.length>0&&o.orders.forEach(a=>{i.push({...a,customer:o.name,customerEmail:o.email,userId:o.id})})}),this.allOrders=i;const n=i.sort((o,a)=>new Date(a.orderDate).getTime()-new Date(o.orderDate).getTime()).slice(0,10);this.recentOrders=n.map(o=>({id:o.orderId,customer:o.customer,amount:o.totalAmount,status:o.status,date:o.orderDate})),this.calculateOrderMetrics(i),this.generateRecentActivities()}calculateOrderMetrics(t){const i=t.filter(a=>"delivered"===a.status),n=i.reduce((a,l)=>a+(l.totalAmount||0),0),o=i.filter(a=>this.isToday(a.orderDate)).reduce((a,l)=>a+(l.totalAmount||0),0);this.salesData={totalRevenue:n,dailyRevenue:o,revenueChange:this.calculateRevenueChange(t),averageOrderValue:i.length>0?n/i.length:0}}generateRecentActivities(){const t=[],i=Date.now();this.allOrders.filter(l=>l.orderDate).sort((l,c)=>{const d=new Date(l.orderDate).getTime();return new Date(c.orderDate).getTime()-d}).slice(0,3).forEach(l=>{const c=new Date(l.orderDate).getTime();isNaN(c)||t.push({action:`New order #${l.orderId} from ${l.customer}`,time:this.getTimeAgo(l.orderDate),type:"order",timestamp:c})}),this.lowStockProducts.slice(0,2).forEach(l=>{t.push({action:`Low stock alert: ${l.name} (${l.stock} remaining)`,time:"Just now",type:"stock",timestamp:i})}),this.allUsers.filter(l=>l.createdAt).sort((l,c)=>{const d=new Date(l.createdAt).getTime();return new Date(c.createdAt).getTime()-d}).slice(0,2).forEach(l=>{const c=new Date(l.createdAt).getTime();isNaN(c)||t.push({action:`New user registered: ${l.name}`,time:this.getTimeAgo(l.createdAt),type:"user",timestamp:c})}),this.recentActivities=t.sort((l,c)=>c.timestamp-l.timestamp).slice(0,8),0===this.recentActivities.length&&(this.recentActivities=[{action:"No recent activity",time:"N/A",type:"system",timestamp:i}])}getTimeAgo(t){if(!t)return"Recently";try{const i=t.split(" at ")[0],n=new Date(i);if(isNaN(n.getTime()))return"Recently";const a=Math.floor(((new Date).getTime()-n.getTime())/1e3);if(a<0)return"Just now";let l=a/31536e3;if(l>1){const c=Math.floor(l);return`${c} ${1===c?"year":"years"} ago`}if(l=a/2592e3,l>1){const c=Math.floor(l);return`${c} ${1===c?"month":"months"} ago`}if(l=a/86400,l>1){const c=Math.floor(l);return`${c} ${1===c?"day":"days"} ago`}if(l=a/3600,l>1){const c=Math.floor(l);return`${c} ${1===c?"hour":"hours"} ago`}if(l=a/60,l>1){const c=Math.floor(l);return`${c} ${1===c?"minute":"minutes"} ago`}return a<10?"Just now":`${Math.floor(a)} seconds ago`}catch(i){return console.error("Error parsing date:",t,i),"Recently"}}calculateRevenueChange(t){const i=t.filter(o=>"delivered"===o.status&&this.isToday(o.orderDate)).reduce((o,a)=>o+a.totalAmount,0),n=t.filter(o=>"delivered"===o.status&&this.isYesterday(o.orderDate)).reduce((o,a)=>o+a.totalAmount,0);return 0===n?i>0?100:0:(i-n)/n*100}updateStats(){const t=this.calculateUserStats();this.stats=[{title:"Total Revenue",value:this.formatCurrency(this.salesData.totalRevenue),change:`${this.salesData.revenueChange>0?"+":""}${this.salesData.revenueChange.toFixed(1)}%`,icon:"fa-solid fa-dollar-sign",color:"bg-green-500",description:`Today: ${this.formatCurrency(this.salesData.dailyRevenue)}`},{title:"Total Orders",value:this.allOrders.length,change:"+8%",icon:"fa-solid fa-shopping-cart",color:"bg-blue-500",description:`Avg. Order: ${this.formatCurrency(this.salesData.averageOrderValue)}`},{title:"Total Products",value:this.productAnalysis.totalProducts,change:`${this.productAnalysis.activeProducts} active`,icon:"fa-solid fa-box",color:"bg-purple-500",description:`${this.productAnalysis.topSellingProducts} top selling`},{title:"Total Users",value:t.totalUsers,change:`${t.newUsersToday} new today`,icon:"fa-solid fa-users",color:"bg-indigo-500",description:`${t.activeUsers} active users`}]}formatCurrency(t){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}getStatusClass(t){switch(t.toLowerCase()){case"completed":case"delivered":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"processing":case"confirmed":case"shipped":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}getStockStatusClass(t){return 0===t?"bg-red-100 text-red-800":t<=5?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"}refreshDashboard(){this.loadDashboardData()}initializeCharts(){this.destroyCharts(),this.createSalesChart(),this.createCategoriesChart(),this.createStockChart(),this.createOrderStatusChart()}createSalesChart(){const t=document.getElementById("salesChart");if(t){const i=this.calculateDailyRevenue(),n=new Jt(t,{type:"line",data:{labels:this.getLast7DaysLabels(),datasets:[{label:"Daily Revenue (\u20b9)",data:i,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0,pointRadius:4,pointHoverRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Daily Revenue Trend (Last 7 Days)",font:{size:14,weight:"bold"}},legend:{display:!0,position:"top"},tooltip:{callbacks:{label:function(o){let a=o.dataset.label||"";return a&&(a+=": "),null!==o.parsed.y&&(a+=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(o.parsed.y)),a}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(o){return"\u20b9"+o.toLocaleString("en-IN")}}}}}});this.chartInstances.push(n)}}getLast7DaysLabels(){const t=[];for(let i=6;i>=0;i--){const n=new Date;n.setDate(n.getDate()-i),t.push(0===i?"Today":1===i?"Yesterday":n.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}))}return t}calculateDailyRevenue(){const t=new Array(7).fill(0),i=new Date;return i.setHours(0,0,0,0),this.allOrders.filter(n=>"delivered"===n.status&&n.orderDate).forEach(n=>{try{const o=n.orderDate,a=o.split(" at ")[0],l=new Date(a);if(isNaN(l.getTime()))return void console.warn("Invalid date format:",o);l.setHours(0,0,0,0);const c=Math.floor((i.getTime()-l.getTime())/864e5);c>=0&&c<7&&(t[6-c]+=n.totalAmount||0)}catch(o){console.error("Error processing order date:",o,n.orderDate)}}),t}isToday(t){if(!t)return!1;try{const i=t.split(" at ")[0],n=new Date(i);if(isNaN(n.getTime()))return!1;const o=new Date;return n.getDate()===o.getDate()&&n.getMonth()===o.getMonth()&&n.getFullYear()===o.getFullYear()}catch(i){return console.error("Error checking if date is today:",i),!1}}isYesterday(t){if(!t)return!1;try{const i=t.split(" at ")[0],n=new Date(i);if(isNaN(n.getTime()))return!1;const o=new Date;return o.setDate(o.getDate()-1),n.getDate()===o.getDate()&&n.getMonth()===o.getMonth()&&n.getFullYear()===o.getFullYear()}catch(i){return console.error("Error checking if date is yesterday:",i),!1}}createCategoriesChart(){const t=document.getElementById("categoriesChart");if(t){const i=this.calculateCategoryDistribution(),n=new Jt(t,{type:"doughnut",data:{labels:i.labels,datasets:[{data:i.values,backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#F97316","#EC4899"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Products by Category",font:{size:14,weight:"bold"}},legend:{position:"bottom"}}}});this.chartInstances.push(n)}}calculateCategoryDistribution(){const t=new Map;return this.products.forEach(o=>{const a=o.category||"Uncategorized";t.set(a,(t.get(a)||0)+1)}),{labels:Array.from(t.keys()),values:Array.from(t.values())}}createStockChart(){const t=document.getElementById("stockChart");if(t){const i=new Jt(t,{type:"bar",data:{labels:["In Stock","Low Stock","Out of Stock"],datasets:[{label:"Products",data:[this.productAnalysis.totalProducts-this.productAnalysis.lowStockProducts-this.productAnalysis.outOfStockProducts,this.productAnalysis.lowStockProducts,this.productAnalysis.outOfStockProducts],backgroundColor:["#10B981","#F59E0B","#EF4444"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Stock Status Overview",font:{size:14,weight:"bold"}},legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}});this.chartInstances.push(i)}}createOrderStatusChart(){const t=document.getElementById("orderStatusChart");if(t){const i=this.calculateOrderStatusDistribution(),n=new Jt(t,{type:"pie",data:{labels:i.labels,datasets:[{data:i.values,backgroundColor:["#10B981","#3B82F6","#F59E0B","#6B7280","#EF4444"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Order Status Distribution",font:{size:14,weight:"bold"}},legend:{position:"bottom"}}}});this.chartInstances.push(n)}}calculateOrderStatusDistribution(){const t=new Map;return this.allOrders.forEach(o=>{const a=o.status||"pending";t.set(a,(t.get(a)||0)+1)}),{labels:Array.from(t.keys()).map(o=>o.charAt(0).toUpperCase()+o.slice(1)),values:Array.from(t.values())}}destroyCharts(){this.chartInstances.forEach(t=>t.destroy()),this.chartInstances=[]}analyzeProducts(t){this.productAnalysis={totalProducts:t.length,activeProducts:t.filter(i=>i.isActive).length,lowStockProducts:t.filter(i=>i.stock>0&&i.stock<=10).length,outOfStockProducts:t.filter(i=>0===i.stock).length,topSellingProducts:t.filter(i=>i.topSelling).length}}static{this.\u0275fac=function(i){return new(i||e)(r.rXU(Qe.Qq),r.rXU(eh.b),r.rXU(po.D))}}static{this.\u0275cmp=r.VBU({type:e,selectors:[["app-dashboard"]],decls:11,vars:4,consts:[[1,"space-y-6"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600"],["class","text-center py-12",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",4,"ngIf"],["class","grid grid-cols-1 lg:grid-cols-3 gap-6",4,"ngIf"],["class","bg-white rounded-lg shadow-sm border border-gray-200",4,"ngIf"],[1,"text-center","py-12"],[1,"inline-block","animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-600"],[1,"mt-4","text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],["class","bg-white rounded-lg shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-sm","p-6","border","border-gray-200","hover:shadow-md","transition-shadow"],[1,"flex","items-center","justify-between"],[1,"flex-1"],[1,"text-sm","font-medium","text-gray-600"],[1,"text-2xl","font-bold","text-gray-900","mt-1"],[1,"text-sm","mt-1","text-black"],["class","text-xs text-gray-500 mt-2",4,"ngIf"],[1,"text-xs","text-gray-500","mt-2"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-2","space-y-6"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-6"],[1,"text-lg","font-medium","text-gray-900","mb-4"],[1,"h-80"],["id","salesChart"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"h-64"],["id","categoriesChart"],["id","orderStatusChart"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200"],[1,"px-6","py-4","border-b","border-gray-200","flex","justify-between","items-center"],[1,"text-lg","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],["class","text-center py-8",4,"ngIf"],["id","stockChart"],[1,"px-4","py-3","border-b","border-gray-200"],[1,"text-md","font-medium","text-gray-900"],[1,"p-4","space-y-3"],["class","flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 bg-gray-50 rounded-lg gap-2 sm:gap-0",4,"ngFor","ngForOf"],["class","text-center py-4",4,"ngIf"],[1,"flex","justify-between","items-center","p-3","bg-indigo-50","rounded-lg"],[1,"flex","items-center","space-x-3"],[1,"fa-solid","fa-users","text-indigo-600"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"text-lg","font-bold","text-indigo-600"],[1,"flex","justify-between","items-center","p-3","bg-green-50","rounded-lg"],[1,"fa-solid","fa-user-check","text-green-600"],[1,"text-lg","font-bold","text-green-600"],[1,"flex","justify-between","items-center","p-3","bg-blue-50","rounded-lg"],[1,"fa-solid","fa-user-plus","text-blue-600"],[1,"text-lg","font-bold","text-blue-600"],[1,"p-4","space-y-2"],["class","flex justify-between items-center p-2 bg-red-50 rounded-lg",4,"ngFor","ngForOf"],["class","text-center py-2",4,"ngIf"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-center","py-8"],[1,"fa-solid","fa-shopping-cart","text-3xl","text-gray-300","mb-3"],[1,"text-gray-500"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","p-3","bg-gray-50","rounded-lg","gap-2","sm:gap-0"],[1,"flex","items-center","space-x-3","min-w-0"],[1,"w-6","h-6","bg-blue-500","text-white","rounded-full","text-xs","flex","items-center","justify-center","flex-shrink-0"],[1,"min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate","max-w-[150px]","sm:max-w-[200px]","md:max-w-[250px]"],[1,"text-left","sm:text-right"],[1,"text-center","py-4"],[1,"text-gray-500","text-sm"],[1,"flex","justify-between","items-center","p-2","bg-red-50","rounded-lg"],[1,"text-sm","font-medium","text-gray-900","truncate","flex-1"],[1,"text-center","py-2"],[1,"text-green-600","text-sm"],[1,"text-lg","font-bold","text-gray-900"],[1,"p-4"],["class","space-y-3",4,"ngIf"],[1,"space-y-3"],["class","flex items-start space-x-3 p-3 rounded-lg border border-gray-100 hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf"],[1,"flex","items-start","space-x-3","p-3","rounded-lg","border","border-gray-100","hover:bg-gray-50","transition-colors"],[1,"flex-1","min-w-0"],[1,"text-sm","text-gray-900","font-medium"],[1,"text-xs","text-gray-500","mt-1"],[1,"fa-solid","fa-clock","text-3xl","text-gray-300","mb-3"]],template:function(i,n){1&i&&(r.j41(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),r.EFF(4,"Dashboard Analytics"),r.k0s(),r.j41(5,"p",3),r.EFF(6,"Real-time overview of your store performance"),r.k0s()()(),r.DNE(7,ih,4,0,"div",4),r.DNE(8,oh,2,1,"div",5),r.DNE(9,uh,96,9,"div",6),r.DNE(10,mh,9,2,"div",7),r.k0s()),2&i&&(r.R7$(7),r.Y8G("ngIf",n.isLoading),r.R7$(1),r.Y8G("ngIf",!n.isLoading),r.R7$(1),r.Y8G("ngIf",!n.isLoading),r.R7$(1),r.Y8G("ngIf",!n.isLoading))},dependencies:[H.Sq,H.bT,H.oe,H.vh],encapsulation:2})}}return e})()},{path:"products",loadChildren:()=>Q.e(299).then(Q.bind(Q,9299)).then(e=>e.AdminProductModule)},{path:"users",component:(()=>{class e{constructor(t,i){this.userService=t,this.toast=i,this.users=[],this.filteredUsers=[],this.loading=!1,this.searchTerm="",this.showBlockModal=!1,this.blockReason="",this.userToBlock=null,this.showAddModal=!1,this.showEditModal=!1,this.showDeleteModal=!1,this.selectedUser=null,this.newUser={name:"",email:"",password:"",role:"user",createdAt:(new Date).toISOString(),wishlist:[],orders:[]}}ngOnInit(){this.loadUsers()}loadUsers(){this.loading=!0,this.userService.getUsers().subscribe({next:t=>{this.users=t,this.filteredUsers=t,this.loading=!1},error:t=>{console.error("Error loading users:",t),this.loading=!1}})}onSearch(){if(!this.searchTerm)return void(this.filteredUsers=this.users);const t=this.searchTerm.toLowerCase();this.filteredUsers=this.users.filter(i=>i.name.toLowerCase().includes(t)||i.email.toLowerCase().includes(t)||i.role.toLowerCase().includes(t))}openAddModal(){this.newUser={name:"",email:"",password:"",role:"user",createdAt:(new Date).toISOString(),wishlist:[],orders:[]},this.showAddModal=!0}closeAddModal(){this.showAddModal=!1,this.newUser={}}addUser(){this.isValidUser(this.newUser)&&this.userService.createUser(this.newUser).subscribe({next:t=>{this.users.push(t),this.filteredUsers=[...this.users],this.closeAddModal()},error:t=>{console.error("Error adding user:",t),alert("Error adding user. Please try again.")}})}openEditModal(t){this.selectedUser={...t},this.showEditModal=!0}closeEditModal(){this.showEditModal=!1,this.selectedUser=null}updateUser(){this.selectedUser&&this.selectedUser.id&&this.userService.updateUser(this.selectedUser.id.toString(),this.selectedUser).subscribe({next:t=>{const i=this.users.findIndex(n=>n.id===t.id);-1!==i&&(this.users[i]=t,this.filteredUsers=[...this.users]),this.closeEditModal()},error:t=>{console.error("Error updating user:",t),alert("Error updating user. Please try again.")}})}openDeleteModal(t){this.selectedUser=t,this.showDeleteModal=!0}closeDeleteModal(){this.showDeleteModal=!1,this.selectedUser=null}openBlockModal(t){this.userToBlock=t,this.blockReason="",this.showBlockModal=!0}closeBlockModal(){this.showBlockModal=!1,this.userToBlock=null,this.blockReason=""}confirmDelete(){this.selectedUser&&this.selectedUser.id&&this.userService.deleteUser(this.selectedUser.id.toString()).subscribe({next:()=>{this.users=this.users.filter(t=>t.id!==this.selectedUser?.id),this.filteredUsers=this.filteredUsers.filter(t=>t.id!==this.selectedUser?.id),this.closeDeleteModal()},error:t=>{console.error("Error deleting user:",t),alert("Error deleting user. Please try again.")}})}confirmBlock(){this.userToBlock&&this.userToBlock.id&&this.userService.blockUser(this.userToBlock.id.toString(),this.blockReason).subscribe({next:t=>{const i=this.users.findIndex(n=>n.id===t.id);-1!==i&&(this.users[i]=t,this.filteredUsers=[...this.users]),this.toast.success("User blocked successfully"),this.closeBlockModal()},error:t=>{console.error("Error blocking user:",t),this.toast.error("Error blocking user"),this.closeBlockModal()}})}isValidUser(t){return!!(t.name&&t.email&&t.password&&t.role)}getRoleBadgeClass(t){switch(t){case"admin":return"bg-purple-100 text-purple-800";case"user":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}}unblockUser(t){this.userService.unblockUser(t.id.toString()).subscribe({next:i=>{const n=this.users.findIndex(o=>o.id===i.id);-1!==n&&(this.users[n]=i,this.filteredUsers=[...this.users]),this.toast.success("User unblocked successfully")},error:i=>{console.error("Error unblocking user:",i),this.toast.error("Error unblocking user")}})}getBlockStatusBadgeClass(t){return t?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}static{this.\u0275fac=function(i){return new(i||e)(r.rXU(po.D),r.rXU(ti.f))}}static{this.\u0275cmp=r.VBU({type:e,selectors:[["app-users"]],decls:27,vars:8,consts:[[1,"p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800"],[1,"text-gray-600"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded-lg","flex","items-center","space-x-2","transition-colors",3,"click"],[1,"fa-solid","fa-plus"],[1,"bg-white","rounded-lg","shadow","p-4","mb-6"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","space-y-4","md:space-y-0"],[1,"flex-1","max-w-md"],[1,"relative"],[1,"fa-solid","fa-search","absolute","left-3","top-3","text-gray-400"],["type","text","placeholder","Search users by name, email, or role...",1,"w-full","text-black","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModel","ngModelChange","input"],[1,"flex","items-center","space-x-4"],[1,"text-sm","text-gray-600"],[1,"bg-white","rounded-lg","shadow","overflow-hidden"],["class","p-8 text-center",4,"ngIf"],[4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",4,"ngIf"],[1,"p-8","text-center"],[1,"fa-solid","fa-spinner","fa-spin","text-2xl","text-blue-600","mb-2"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],["class","text-center py-12",4,"ngIf"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center"],[1,"flex-shrink-0","h-10","w-10","bg-gray-300","rounded-full","flex","items-center","justify-center"],[1,"text-gray-600","font-medium"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[3,"class",4,"ngIf"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"flex","items-center","space-x-2"],["title","Edit User",1,"text-blue-600","hover:text-blue-900","transition-colors",3,"click"],[1,"fa-solid","fa-edit"],["class","text-green-600 hover:text-green-900 transition-colors","title","Block User",3,"click",4,"ngIf"],["class","text-orange-600 hover:text-orange-900 transition-colors","title","Unblock User",3,"click",4,"ngIf"],["title","Delete User",1,"text-red-600","hover:text-red-900","transition-colors",3,"click"],[1,"fa-solid","fa-trash"],["title","Block User",1,"text-green-600","hover:text-green-900","transition-colors",3,"click"],[1,"fa-solid","fa-check"],["title","Unblock User",1,"text-orange-600","hover:text-orange-900","transition-colors",3,"click"],[1,"fa-solid","fa-ban"],[1,"text-center","py-12"],[1,"fa-solid","fa-users","text-4xl","text-gray-300","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-4"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded-lg","transition-colors",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","p-4","z-50"],[1,"bg-white","rounded-lg","shadow-xl","max-w-md","w-full"],[1,"flex","items-center","justify-between","p-4","border-b"],[1,"text-lg","font-semibold","text-black"],[1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"fa-solid","fa-times"],[1,"p-6","space-y-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","placeholder","Enter full name",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","text-black","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModel","ngModelChange"],["type","email","placeholder","Enter email address",1,"w-full","px-3","py-2","border","border-gray-300","text-black","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModel","ngModelChange"],["type","password","placeholder","Enter password",1,"w-full","px-3","py-2","border","border-gray-300","text-black","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModel","ngModelChange"],[1,"w-full","px-3","py-2","border","border-gray-300","text-black","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModel","ngModelChange"],["value","user"],["value","admin"],[1,"flex","justify-end","space-x-3","p-6","border-t"],[1,"px-4","py-2","text-gray-600","hover:text-gray-800","transition-colors",3,"click"],[1,"bg-blue-600","hover:bg-blue-700","disabled:bg-gray-400","text-white","px-4","py-2","rounded-lg","transition-colors",3,"disabled","click"],[1,"flex","items-center","justify-between","p-6","border-b"],["type","text",1,"w-full","px-3","py-2","text-black","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModel","ngModelChange"],["type","email",1,"w-full","px-3","py-2","text-black","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModel","ngModelChange"],["type","password","placeholder","Leave blank to keep current",1,"w-full","px-3","py-2","text-black","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModel","ngModelChange"],[1,"w-full","px-3","py-2","text-black","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModel","ngModelChange"],[1,"flex","items-center","space-x-3","mb-4"],[1,"flex-shrink-0","w-12","h-12","bg-red-100","rounded-full","flex","items-center","justify-center"],[1,"fa-solid","fa-exclamation-triangle","text-red-600"],[1,"text-gray-700","mb-4"],[1,"bg-red-600","hover:bg-red-700","text-white","px-4","py-2","rounded-lg","transition-colors",3,"click"],[1,"flex","items-center","space-x-3","p-6","border-b"],[1,"flex-shrink-0","w-10","h-10","bg-orange-100","rounded-full","flex","items-center","justify-center"],[1,"fa-solid","fa-ban","text-orange-600"],[1,"text-gray-600","text-sm"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["placeholder","Enter reason for blocking this user...","rows","3",1,"w-full","px-3","py-2","border","text-black","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-500","focus:border-orange-500","resize-none",3,"ngModel","ngModelChange"],[1,"text-xs","text-gray-500","text-black","mt-1"],[1,"bg-orange-600","hover:bg-orange-700","disabled:bg-gray-400","text-white","px-4","py-2","rounded-lg","transition-colors",3,"disabled","click"]],template:function(i,n){1&i&&(r.j41(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),r.EFF(4,"User Management"),r.k0s(),r.j41(5,"p",3),r.EFF(6,"Manage your system users and their permissions"),r.k0s()(),r.j41(7,"button",4),r.bIt("click",function(){return n.openAddModal()}),r.nrm(8,"i",5),r.j41(9,"span"),r.EFF(10,"Add New User"),r.k0s()()(),r.j41(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9),r.nrm(15,"i",10),r.j41(16,"input",11),r.bIt("ngModelChange",function(a){return n.searchTerm=a})("input",function(){return n.onSearch()}),r.k0s()()(),r.j41(17,"div",12)(18,"span",13),r.EFF(19),r.k0s()()()(),r.j41(20,"div",14),r.DNE(21,xh,4,0,"div",15),r.DNE(22,Sh,16,2,"div",16),r.k0s()(),r.DNE(23,Mh,33,5,"div",17),r.DNE(24,Ch,33,5,"div",17),r.DNE(25,Fh,21,1,"div",17),r.DNE(26,Dh,27,3,"div",17)),2&i&&(r.R7$(16),r.Y8G("ngModel",n.searchTerm),r.R7$(3),r.SpI(" ",n.filteredUsers.length," user(s) found "),r.R7$(2),r.Y8G("ngIf",n.loading),r.R7$(1),r.Y8G("ngIf",!n.loading),r.R7$(1),r.Y8G("ngIf",n.showAddModal),r.R7$(1),r.Y8G("ngIf",n.showEditModal&&n.selectedUser),r.R7$(1),r.Y8G("ngIf",n.showDeleteModal&&n.selectedUser),r.R7$(1),r.Y8G("ngIf",n.showBlockModal&&n.userToBlock))},dependencies:[H.Sq,H.bT,tt.xH,tt.y7,tt.me,tt.wz,tt.BC,tt.vS,H.Pc,H.vh],styles:["[_nghost-%COMP%]{display:block;min-height:calc(100vh - 80px)}"]})}}return e})()},{path:"orders",component:(()=>{class e{constructor(t,i){this.http=t,this.toast=i,this.usersUrl="http://localhost:3000/users",this.allOrders=[],this.filteredOrders=[],this.isLoading=!0,this.selectedOrder=null,this.filterStatus="all",this.searchTerm="",this.stats={total:0,pending:0,confirmed:0,shipped:0,delivered:0,cancelled:0}}ngOnInit(){this.loadAllOrders()}loadAllOrders(){this.isLoading=!0,this.http.get(this.usersUrl).subscribe({next:t=>{this.allOrders=t.filter(i=>i.orders&&i.orders.length>0).flatMap(i=>i.orders.map(n=>({...n,userName:i.name,userEmail:i.email}))).reverse(),this.updateStatistics(),this.filterOrders(this.filterStatus),this.isLoading=!1},error:t=>{console.error("Error loading orders:",t),this.toast.error("Failed to load orders"),this.isLoading=!1}})}updateStatistics(){this.stats={total:this.allOrders.length,pending:this.allOrders.filter(t=>"pending"===t.status).length,confirmed:this.allOrders.filter(t=>"confirmed"===t.status).length,shipped:this.allOrders.filter(t=>"shipped"===t.status).length,delivered:this.allOrders.filter(t=>"delivered"===t.status).length,cancelled:this.allOrders.filter(t=>"cancelled"===t.status).length}}filterOrders(t){this.filterStatus=t;let i=this.allOrders;"all"!==t&&(i=i.filter(n=>n.status===t)),this.searchTerm&&(i=i.filter(n=>n.orderId.toLowerCase().includes(this.searchTerm.toLowerCase())||n.userName.toLowerCase().includes(this.searchTerm.toLowerCase())||n.userEmail.toLowerCase().includes(this.searchTerm.toLowerCase()))),this.filteredOrders=i}onSearchChange(t){this.searchTerm=t,this.filterOrders(this.filterStatus)}viewOrderDetails(t){this.selectedOrder=t}closeOrderDetails(){this.selectedOrder=null}updateOrderStatus(t,i){if(t.status===i)return;const n=`${this.usersUrl}/${t.userId}`;this.http.get(n).subscribe({next:o=>{const a=o.orders.map(l=>l.id===t.id?{...l,status:i}:l);this.http.patch(n,{orders:a}).subscribe({next:()=>{this.toast.success(`Order status updated to ${i}`),this.loadAllOrders(),this.selectedOrder=null},error:l=>{console.error("Error updating order status:",l),this.toast.error("Failed to update order status")}})},error:o=>{console.error("Error fetching user data:",o),this.toast.error("Failed to update order status")}})}getStatusColor(t){return{pending:"bg-yellow-100 text-yellow-800 border-yellow-200",confirmed:"bg-blue-100 text-blue-800 border-blue-200",shipped:"bg-purple-100 text-purple-800 border-purple-200",delivered:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200"}[t]||"bg-gray-100 text-gray-800 border-gray-200"}getStatusIcon(t){return{pending:"fa-clock",confirmed:"fa-check-circle",shipped:"fa-truck",delivered:"fa-box-check",cancelled:"fa-times-circle"}[t]||"fa-circle"}getTotalItems(t){return t.items.reduce((i,n)=>i+n.quantity,0)}getNextStatus(t){return{pending:"confirmed",confirmed:"shipped",shipped:"delivered"}[t]||null}canUpdateStatus(t){return"cancelled"!==t.status&&"delivered"!==t.status}safeUpdateStatus(t){const i=this.getNextStatus(t.status);i&&this.updateOrderStatus(t,i)}getTotalRevenue(){return this.allOrders.filter(t=>"delivered"===t.status).reduce((t,i)=>t+i.totalAmount,0)}getShippedAmount(){return this.allOrders.filter(t=>"shipped"===t.status).reduce((t,i)=>t+i.totalAmount,0)}getPendingAmount(){return this.allOrders.filter(t=>"pending"===t.status||"confirmed"===t.status).reduce((t,i)=>t+i.totalAmount,0)}getCancelledAmount(){return this.allOrders.filter(t=>"cancelled"===t.status).reduce((t,i)=>t+i.totalAmount,0)}static{this.\u0275fac=function(i){return new(i||e)(r.rXU(Qe.Qq),r.rXU(ti.f))}}static{this.\u0275cmp=r.VBU({type:e,selectors:[["app-admin-orders"]],decls:97,vars:52,consts:[[1,"bg-white","min-h-screen","p-6"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"space-y-6","mb-6"],[1,"grid","grid-cols-1","xs:grid-cols-2","sm:grid-cols-3","lg:grid-cols-6","gap-3"],[1,"bg-white","border","border-gray-200","rounded-t-xl","p-3","sm:p-4"],[1,"flex","items-center","justify-between"],[1,"min-w-0","flex-1"],[1,"text-xs","sm:text-sm","font-medium","text-gray-600","truncate"],[1,"text-xl","sm:text-2xl","font-bold","text-gray-900","truncate"],[1,"w-8","h-8","sm:w-10","sm:h-10","bg-blue-100","rounded-full","flex","items-center","justify-center","flex-shrink-0","ml-2"],[1,"fa-solid","fa-shopping-bag","text-blue-600","text-sm","sm:text-base"],[1,"text-xl","sm:text-2xl","font-bold","text-blue-600","truncate"],[1,"fa-solid","fa-check-circle","text-blue-600","text-sm","sm:text-base"],[1,"text-xl","sm:text-2xl","font-bold","text-purple-600","truncate"],[1,"w-8","h-8","sm:w-10","sm:h-10","bg-purple-100","rounded-full","flex","items-center","justify-center","flex-shrink-0","ml-2"],[1,"fa-solid","fa-truck","text-purple-600","text-sm","sm:text-base"],[1,"text-xl","sm:text-2xl","font-bold","text-green-600","truncate"],[1,"w-8","h-8","sm:w-10","sm:h-10","bg-green-100","rounded-full","flex","items-center","justify-center","flex-shrink-0","ml-2"],[1,"fa-solid","fa-box-check","text-green-600","text-sm","sm:text-base"],[1,"text-xl","sm:text-2xl","font-bold","text-red-600","truncate"],[1,"w-8","h-8","sm:w-10","sm:h-10","bg-red-100","rounded-full","flex","items-center","justify-center","flex-shrink-0","ml-2"],[1,"fa-solid","fa-times-circle","text-red-600","text-sm","sm:text-base"],[1,"grid","grid-cols-1","xs:grid-cols-2","sm:grid-cols-2","lg:grid-cols-4","gap-3"],[1,"bg-white","border","border-gray-200","rounded-b-xl","p-3","sm:p-4"],[1,"text-xs","text-gray-500","mt-1"],[1,"fa-solid","fa-indian-rupee-sign","text-green-600","text-sm","sm:text-base"],[1,"fa-solid","fa-ban","text-red-600","text-sm","sm:text-base"],[1,"bg-white","rounded-t-xl","border","border-gray-200","p-4","mb-6"],[1,"flex","flex-col","lg:flex-row","gap-4","justify-between","items-start","lg:items-center"],[1,"flex","flex-wrap","gap-2"],[1,"px-4","py-2","rounded-lg","font-medium","transition-colors","hover:bg-gray-100","border","border-gray-200",3,"click"],[1,"px-4","py-2","rounded-lg","font-medium","transition-colors","hover:bg-blue-50","border","border-blue-200",3,"click"],[1,"px-4","py-2","rounded-lg","font-medium","transition-colors","hover:bg-purple-50","border","border-purple-200",3,"click"],[1,"px-4","py-2","rounded-lg","font-medium","transition-colors","hover:bg-green-50","border","border-green-200",3,"click"],[1,"px-4","py-2","rounded-lg","font-medium","transition-colors","hover:bg-red-50","border","border-red-200",3,"click"],[1,"relative","w-full","lg:w-64"],["type","text","placeholder","Search orders...",1,"text-black","w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-black","focus:border-transparent",3,"input"],[1,"fa-solid","fa-search","absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-400"],["class","text-center py-12",4,"ngIf"],[4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",4,"ngIf"],[1,"text-center","py-12"],[1,"inline-block","animate-spin","rounded-full","h-12","w-12","border-b-2","border-black"],[1,"mt-4","text-gray-600"],[4,"ngIf","ngIfElse"],["noOrders",""],[1,"bg-gray-50","border","border-gray-200","px-4","py-3","hidden","md:grid","grid-cols-12","gap-4","text-xs","font-semibold","text-gray-600","uppercase","tracking-wider"],[1,"col-span-3"],[1,"col-span-2"],[1,"col-span-3","text-right"],[1,"space-y-2"],["class","bg-white border border-gray-200 hover:bg-gray-6  00 transition-shadow overflow-hidden",4,"ngFor","ngForOf"],[1,"bg-white","border","border-gray-200","hover:bg-gray-6","00","transition-shadow","overflow-hidden"],[1,"hidden","md:grid","grid-cols-12","gap-4","px-4","py-4","items-center"],[1,"flex","flex-col"],[1,"font-semibold","text-black","text-sm","truncate"],[1,"text-xs","font-bold","text-gray-700","mt-1","truncate"],[1,"flex","items-center","gap-2"],[1,"flex","-space-x-2"],["class","w-8 h-8 bg-gray-100 rounded-lg overflow-hidden border border-white shadow-sm",4,"ngFor","ngForOf"],["class","w-8 h-8 bg-gray-200 rounded-lg flex items-center justify-center border border-white shadow-sm",4,"ngIf"],[1,"text-sm","text-gray-600"],[1,"text-sm","font-bold","text-black"],[1,"text-xs","text-gray-600","uppercase"],["class","text-xs text-gray-500 mt-1",4,"ngIf"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","capitalize","border"],[1,"col-span-3","flex","justify-end","gap-2"],[1,"bg-black","text-white","px-3","py-2","rounded-lg","text-xs","font-medium","hover:bg-gray-800","transition-colors",3,"click"],["class","bg-green-600 text-white px-3 py-2 rounded-lg text-xs font-medium hover:bg-green-700 transition-colors",3,"click",4,"ngIf"],[1,"md:hidden","p-4","space-y-4"],[1,"flex","justify-between","items-start"],[1,"flex-1","min-w-0"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","capitalize","border","flex-shrink-0","ml-2"],[1,"text-xs","font-medium","text-gray-700"],[1,"flex","justify-between","items-center"],[1,"text-xs","text-gray-600"],[1,"text-right"],[1,"flex","gap-2","pt-2"],[1,"flex-1","bg-black","text-white","px-3","py-2","rounded-lg","text-xs","font-medium","hover:bg-gray-800","transition-colors","text-center",3,"click"],["class","flex-1 bg-green-600 text-white px-3 py-2 rounded-lg text-xs font-medium hover:bg-green-700 transition-colors text-center",3,"click",4,"ngIf"],[1,"w-8","h-8","bg-gray-100","rounded-lg","overflow-hidden","border","border-white","shadow-sm"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"w-8","h-8","bg-gray-200","rounded-lg","flex","items-center","justify-center","border","border-white","shadow-sm"],[1,"text-xs","font-semibold","text-gray-600"],[1,"bg-green-600","text-white","px-3","py-2","rounded-lg","text-xs","font-medium","hover:bg-green-700","transition-colors",3,"click"],[1,"flex-1","bg-green-600","text-white","px-3","py-2","rounded-lg","text-xs","font-medium","hover:bg-green-700","transition-colors","text-center",3,"click"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","p-8","md:p-12","text-center"],[1,"w-16","h-16","md:w-20","md:h-20","mx-auto","mb-4","bg-gray-100","rounded-full","flex","items-center","justify-center"],[1,"fa-solid","fa-shopping-bag","text-2xl","md:text-3xl","text-gray-400"],[1,"text-lg","md:text-xl","font-semibold","text-gray-700","mb-2"],[1,"text-gray-500","mb-6","text-sm","md:text-base"],["class","inline-block bg-black text-white px-4 py-2 md:px-6 md:py-3 rounded-full font-medium hover:bg-gray-800 transition-colors text-sm md:text-base",3,"click",4,"ngIf"],[1,"inline-block","bg-black","text-white","px-4","py-2","md:px-6","md:py-3","rounded-full","font-medium","hover:bg-gray-800","transition-colors","text-sm","md:text-base",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","rounded-xl","max-w-4xl","w-full","max-h-[90vh]","overflow-y-auto"],[1,"sticky","top-0","bg-white","border-b","border-gray-200","px-6","py-4","flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-black"],[1,"w-10","h-10","rounded-full","bg-gray-100","hover:bg-gray-200","flex","items-center","justify-center","transition-colors",3,"click"],[1,"fa-solid","fa-times","text-gray-600"],[1,"p-6","space-y-6"],[1,"bg-gray-50","rounded-xl","p-4"],[1,"flex","flex-wrap","justify-between","items-center","mb-4","gap-4"],[1,"font-semibold","text-black"],[1,"flex","items-center","gap-3"],[1,"px-4","py-1","rounded-full","text-sm","font-medium","capitalize","border"],["class","bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-green-700 transition-colors",3,"click",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","text-sm"],[1,"text-gray-500"],[1,"font-medium","text-gray-900"],[1,"font-semibold","text-black","mb-4"],[1,"space-y-3"],["class","flex gap-4 p-4 bg-gray-50 rounded-xl border border-gray-200",4,"ngFor","ngForOf"],[1,"bg-gray-50","rounded-xl","p-4","space-y-2","border","border-gray-200"],["class","text-sm text-gray-600",4,"ngIf"],[1,"bg-gray-50","rounded-xl","p-4","border","border-gray-200"],[1,"space-y-2","mb-3"],[1,"flex","justify-between","text-sm"],[1,"text-gray-900"],[1,"text-green-600"],[1,"text-gray-900","uppercase"],[1,"border-t","border-gray-300","pt-3","flex","justify-between","font-bold"],[1,"text-black"],[1,"text-black","text-xl"],[1,"bg-green-600","text-white","px-4","py-2","rounded-lg","text-sm","font-medium","hover:bg-green-700","transition-colors",3,"click"],[1,"flex","gap-4","p-4","bg-gray-50","rounded-xl","border","border-gray-200"],[1,"w-20","h-20","flex-shrink-0","bg-white","rounded-lg","overflow-hidden","border","border-gray-200"],[1,"font-semibold","text-black","truncate"],[1,"text-sm","text-gray-600","capitalize"],[1,"text-right","flex-shrink-0"],[1,"font-bold","text-black","mt-1"]],template:function(i,n){1&i&&(r.j41(0,"div",0)(1,"div",1)(2,"h1",2),r.EFF(3,"Order Management"),r.k0s(),r.j41(4,"p",3),r.EFF(5,"Manage and track all customer orders"),r.k0s()(),r.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"p",9),r.EFF(12,"Total Orders"),r.k0s(),r.j41(13,"p",10),r.EFF(14),r.k0s()(),r.j41(15,"div",11),r.nrm(16,"i",12),r.k0s()()(),r.j41(17,"div",6)(18,"div",7)(19,"div",8)(20,"p",9),r.EFF(21,"Confirmed"),r.k0s(),r.j41(22,"p",13),r.EFF(23),r.k0s()(),r.j41(24,"div",11),r.nrm(25,"i",14),r.k0s()()(),r.j41(26,"div",6)(27,"div",7)(28,"div",8)(29,"p",9),r.EFF(30,"Shipped"),r.k0s(),r.j41(31,"p",15),r.EFF(32),r.k0s()(),r.j41(33,"div",16),r.nrm(34,"i",17),r.k0s()()(),r.j41(35,"div",6)(36,"div",7)(37,"div",8)(38,"p",9),r.EFF(39,"Delivered"),r.k0s(),r.j41(40,"p",18),r.EFF(41),r.k0s()(),r.j41(42,"div",19),r.nrm(43,"i",20),r.k0s()()(),r.j41(44,"div",6)(45,"div",7)(46,"div",8)(47,"p",9),r.EFF(48,"Cancelled"),r.k0s(),r.j41(49,"p",21),r.EFF(50),r.k0s()(),r.j41(51,"div",22),r.nrm(52,"i",23),r.k0s()()()(),r.j41(53,"div",24)(54,"div",25)(55,"div",7)(56,"div",8)(57,"p",9),r.EFF(58,"Total Revenue"),r.k0s(),r.j41(59,"p",18),r.EFF(60),r.nI1(61,"currency"),r.k0s(),r.j41(62,"p",26),r.EFF(63,"All completed orders"),r.k0s()(),r.j41(64,"div",19),r.nrm(65,"i",27),r.k0s()()(),r.j41(66,"div",25)(67,"div",7)(68,"div",8)(69,"p",9),r.EFF(70,"Cancelled Amount"),r.k0s(),r.j41(71,"p",21),r.EFF(72),r.nI1(73,"currency"),r.k0s(),r.j41(74,"p",26),r.EFF(75),r.k0s()(),r.j41(76,"div",22),r.nrm(77,"i",28),r.k0s()()()()(),r.j41(78,"div",29)(79,"div",30)(80,"div",31)(81,"button",32),r.bIt("click",function(){return n.filterOrders("all")}),r.EFF(82),r.k0s(),r.j41(83,"button",33),r.bIt("click",function(){return n.filterOrders("confirmed")}),r.EFF(84),r.k0s(),r.j41(85,"button",34),r.bIt("click",function(){return n.filterOrders("shipped")}),r.EFF(86),r.k0s(),r.j41(87,"button",35),r.bIt("click",function(){return n.filterOrders("delivered")}),r.EFF(88),r.k0s(),r.j41(89,"button",36),r.bIt("click",function(){return n.filterOrders("cancelled")}),r.EFF(90),r.k0s()(),r.j41(91,"div",37)(92,"input",38),r.bIt("input",function(a){return n.onSearchChange(a.target.value)}),r.k0s(),r.nrm(93,"i",39),r.k0s()()(),r.DNE(94,Ah,4,0,"div",40),r.DNE(95,Uh,4,2,"div",41),r.DNE(96,Xh,75,31,"div",42),r.k0s()),2&i&&(r.R7$(14),r.JRh(n.stats.total),r.R7$(9),r.JRh(n.stats.confirmed),r.R7$(9),r.JRh(n.stats.shipped),r.R7$(9),r.JRh(n.stats.delivered),r.R7$(9),r.JRh(n.stats.cancelled),r.R7$(10),r.JRh(r.i5U(61,46,n.getTotalRevenue(),"INR")),r.R7$(12),r.JRh(r.i5U(73,49,n.getCancelledAmount(),"INR")),r.R7$(3),r.SpI("",n.stats.cancelled," cancelled orders"),r.R7$(6),r.AVh("bg-black","all"===n.filterStatus)("text-white","all"===n.filterStatus)("text-gray-700","all"!==n.filterStatus),r.R7$(1),r.SpI(" All Orders (",n.stats.total,") "),r.R7$(1),r.AVh("bg-blue-500","confirmed"===n.filterStatus)("text-white","confirmed"===n.filterStatus)("text-gray-700","confirmed"!==n.filterStatus),r.R7$(1),r.SpI(" Confirmed (",n.stats.confirmed,") "),r.R7$(1),r.AVh("bg-purple-500","shipped"===n.filterStatus)("text-white","shipped"===n.filterStatus)("text-gray-700","shipped"!==n.filterStatus),r.R7$(1),r.SpI(" Shipped (",n.stats.shipped,") "),r.R7$(1),r.AVh("bg-green-500","delivered"===n.filterStatus)("text-white","delivered"===n.filterStatus)("text-gray-700","delivered"!==n.filterStatus),r.R7$(1),r.SpI(" Delivered (",n.stats.delivered,") "),r.R7$(1),r.AVh("bg-red-500","cancelled"===n.filterStatus)("text-white","cancelled"===n.filterStatus)("text-gray-700","cancelled"!==n.filterStatus),r.R7$(1),r.SpI(" Cancelled (",n.stats.cancelled,") "),r.R7$(4),r.Y8G("ngIf",n.isLoading),r.R7$(1),r.Y8G("ngIf",!n.isLoading),r.R7$(1),r.Y8G("ngIf",n.selectedOrder))},dependencies:[H.Sq,H.bT,H.oe],encapsulation:2})}}return e})()}]}];let mo=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=r.$C({type:e})}static{this.\u0275inj=r.G2t({imports:[ot.iI.forChild(Jh),ot.iI]})}}return e})(),Kh=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=r.$C({type:e})}static{this.\u0275inj=r.G2t({imports:[H.MD,tt.X1,ot.iI,mo,tt.YN]})}}return e})(),qh=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=r.$C({type:e})}static{this.\u0275inj=r.G2t({imports:[H.MD,tt.X1,ot.iI,tt.YN,Kh]})}}return e})(),Zh=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=r.$C({type:e})}static{this.\u0275inj=r.G2t({imports:[H.MD,tt.X1,ot.iI,tt.YN]})}}return e})(),Qh=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=r.$C({type:e})}static{this.\u0275inj=r.G2t({imports:[H.MD,tt.X1,ot.iI,mo,tt.YN,qh,Zh]})}}return e})()}}]);